/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[12,14,16,20],{604:function(t,e){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,r(e)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},605:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},606:function(t,e,r){var n=r(616);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&n(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},607:function(t,e,r){var n=r(615).default,o=r(625);t.exports=function(t,e){if(e&&("object"===n(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return o(t)},t.exports.__esModule=!0,t.exports.default=t.exports},610:function(t,e,r){var n=r(639);t.exports=n("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz")},612:function(t,e){function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},616:function(t,e){function r(e,p){return t.exports=r=Object.setPrototypeOf||function(t,p){return t.__proto__=p,t},t.exports.__esModule=!0,t.exports.default=t.exports,r(e,p)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},618:function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty,o="~";function h(){}function c(t,e,r){this.fn=t,this.context=e,this.once=r||!1}function l(t,e,r,n,h){if("function"!=typeof r)throw new TypeError("The listener must be a function");var l=new c(r,n||t,h),d=o?o+e:e;return t._events[d]?t._events[d].fn?t._events[d]=[t._events[d],l]:t._events[d].push(l):(t._events[d]=l,t._eventsCount++),t}function d(t,e){0==--t._eventsCount?t._events=new h:delete t._events[e]}function f(){this._events=new h,this._eventsCount=0}Object.create&&(h.prototype=Object.create(null),(new h).__proto__||(o=!1)),f.prototype.eventNames=function(){var t,e,r=[];if(0===this._eventsCount)return r;for(e in t=this._events)n.call(t,e)&&r.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(t)):r},f.prototype.listeners=function(t){var e=o?o+t:t,r=this._events[e];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,n=r.length,h=new Array(n);i<n;i++)h[i]=r[i].fn;return h},f.prototype.listenerCount=function(t){var e=o?o+t:t,r=this._events[e];return r?r.fn?1:r.length:0},f.prototype.emit=function(t,e,r,n,h,c){var l=o?o+t:t;if(!this._events[l])return!1;var d,i,f=this._events[l],m=arguments.length;if(f.fn){switch(f.once&&this.removeListener(t,f.fn,void 0,!0),m){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,e),!0;case 3:return f.fn.call(f.context,e,r),!0;case 4:return f.fn.call(f.context,e,r,n),!0;case 5:return f.fn.call(f.context,e,r,n,h),!0;case 6:return f.fn.call(f.context,e,r,n,h,c),!0}for(i=1,d=new Array(m-1);i<m;i++)d[i-1]=arguments[i];f.fn.apply(f.context,d)}else{var y,v=f.length;for(i=0;i<v;i++)switch(f[i].once&&this.removeListener(t,f[i].fn,void 0,!0),m){case 1:f[i].fn.call(f[i].context);break;case 2:f[i].fn.call(f[i].context,e);break;case 3:f[i].fn.call(f[i].context,e,r);break;case 4:f[i].fn.call(f[i].context,e,r,n);break;default:if(!d)for(y=1,d=new Array(m-1);y<m;y++)d[y-1]=arguments[y];f[i].fn.apply(f[i].context,d)}}return!0},f.prototype.on=function(t,e,r){return l(this,t,e,r,!1)},f.prototype.once=function(t,e,r){return l(this,t,e,r,!0)},f.prototype.removeListener=function(t,e,r,n){var h=o?o+t:t;if(!this._events[h])return this;if(!e)return d(this,h),this;var c=this._events[h];if(c.fn)c.fn!==e||n&&!c.once||r&&c.context!==r||d(this,h);else{for(var i=0,l=[],f=c.length;i<f;i++)(c[i].fn!==e||n&&!c[i].once||r&&c[i].context!==r)&&l.push(c[i]);l.length?this._events[h]=1===l.length?l[0]:l:d(this,h)}return this},f.prototype.removeAllListeners=function(t){var e;return t?(e=o?o+t:t,this._events[e]&&d(this,e)):(this._events=new h,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=o,f.EventEmitter=f,t.exports=f},619:function(t,e,r){"use strict";var n;r.r(e),r.d(e,"v1",(function(){return O})),r.d(e,"v3",(function(){return T})),r.d(e,"v4",(function(){return R})),r.d(e,"v5",(function(){return N})),r.d(e,"NIL",(function(){return U})),r.d(e,"version",(function(){return L})),r.d(e,"validate",(function(){return l})),r.d(e,"stringify",(function(){return v})),r.d(e,"parse",(function(){return j}));var o=new Uint8Array(16);function h(){if(!n&&!(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)}var c=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var l=function(t){return"string"==typeof t&&c.test(t)},d=[],f=0;f<256;++f)d.push((f+256).toString(16).substr(1));var m,y,v=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(d[t[e+0]]+d[t[e+1]]+d[t[e+2]]+d[t[e+3]]+"-"+d[t[e+4]]+d[t[e+5]]+"-"+d[t[e+6]]+d[t[e+7]]+"-"+d[t[e+8]]+d[t[e+9]]+"-"+d[t[e+10]]+d[t[e+11]]+d[t[e+12]]+d[t[e+13]]+d[t[e+14]]+d[t[e+15]]).toLowerCase();if(!l(r))throw TypeError("Stringified UUID is invalid");return r},w=0,M=0;var O=function(t,e,r){var i=e&&r||0,b=e||new Array(16),n=(t=t||{}).node||m,o=void 0!==t.clockseq?t.clockseq:y;if(null==n||null==o){var c=t.random||(t.rng||h)();null==n&&(n=m=[1|c[0],c[1],c[2],c[3],c[4],c[5]]),null==o&&(o=y=16383&(c[6]<<8|c[7]))}var l=void 0!==t.msecs?t.msecs:Date.now(),d=void 0!==t.nsecs?t.nsecs:M+1,dt=l-w+(d-M)/1e4;if(dt<0&&void 0===t.clockseq&&(o=o+1&16383),(dt<0||l>w)&&void 0===t.nsecs&&(d=0),d>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");w=l,M=d,y=o;var f=(1e4*(268435455&(l+=122192928e5))+d)%4294967296;b[i++]=f>>>24&255,b[i++]=f>>>16&255,b[i++]=f>>>8&255,b[i++]=255&f;var O=l/4294967296*1e4&268435455;b[i++]=O>>>8&255,b[i++]=255&O,b[i++]=O>>>24&15|16,b[i++]=O>>>16&255,b[i++]=o>>>8|128,b[i++]=255&o;for(var j=0;j<6;++j)b[i+j]=n[j];return e||v(b)};var j=function(t){if(!l(t))throw TypeError("Invalid UUID");var e,r=new Uint8Array(16);return r[0]=(e=parseInt(t.slice(0,8),16))>>>24,r[1]=e>>>16&255,r[2]=e>>>8&255,r[3]=255&e,r[4]=(e=parseInt(t.slice(9,13),16))>>>8,r[5]=255&e,r[6]=(e=parseInt(t.slice(14,18),16))>>>8,r[7]=255&e,r[8]=(e=parseInt(t.slice(19,23),16))>>>8,r[9]=255&e,r[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,r[11]=e/4294967296&255,r[12]=e>>>24&255,r[13]=e>>>16&255,r[14]=e>>>8&255,r[15]=255&e,r};var _=function(t,e,r){function n(t,n,o,h){if("string"==typeof t&&(t=function(t){t=unescape(encodeURIComponent(t));for(var e=[],i=0;i<t.length;++i)e.push(t.charCodeAt(i));return e}(t)),"string"==typeof n&&(n=j(n)),16!==n.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+t.length);if(c.set(n),c.set(t,n.length),(c=r(c))[6]=15&c[6]|e,c[8]=63&c[8]|128,o){h=h||0;for(var i=0;i<16;++i)o[h+i]=c[i];return o}return v(c)}try{n.name=t}catch(t){}return n.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",n.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",n};function k(t){return 14+(t+64>>>9<<4)+1}function S(t,e){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}function E(q,a,b,t,s,e){return S((r=S(S(a,q),S(t,e)))<<(n=s)|r>>>32-n,b);var r,n}function A(a,b,t,e,r,s,n){return E(b&t|~b&e,a,b,r,s,n)}function I(a,b,t,e,r,s,n){return E(b&e|t&~e,a,b,r,s,n)}function P(a,b,t,e,r,s,n){return E(b^t^e,a,b,r,s,n)}function x(a,b,t,e,r,s,n){return E(t^(b|~e),a,b,r,s,n)}var T=_("v3",48,(function(t){if("string"==typeof t){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var i=0;i<e.length;++i)t[i]=e.charCodeAt(i)}return function(input){for(var output=[],t=32*input.length,e="0123456789abcdef",i=0;i<t;i+=8){var r=input[i>>5]>>>i%32&255,n=parseInt(e.charAt(r>>>4&15)+e.charAt(15&r),16);output.push(n)}return output}(function(t,e){t[e>>5]|=128<<e%32,t[k(e)-1]=e;for(var a=1732584193,b=-271733879,r=-1732584194,n=271733878,i=0;i<t.length;i+=16){var o=a,h=b,c=r,l=n;a=A(a,b,r,n,t[i],7,-680876936),n=A(n,a,b,r,t[i+1],12,-389564586),r=A(r,n,a,b,t[i+2],17,606105819),b=A(b,r,n,a,t[i+3],22,-1044525330),a=A(a,b,r,n,t[i+4],7,-176418897),n=A(n,a,b,r,t[i+5],12,1200080426),r=A(r,n,a,b,t[i+6],17,-1473231341),b=A(b,r,n,a,t[i+7],22,-45705983),a=A(a,b,r,n,t[i+8],7,1770035416),n=A(n,a,b,r,t[i+9],12,-1958414417),r=A(r,n,a,b,t[i+10],17,-42063),b=A(b,r,n,a,t[i+11],22,-1990404162),a=A(a,b,r,n,t[i+12],7,1804603682),n=A(n,a,b,r,t[i+13],12,-40341101),r=A(r,n,a,b,t[i+14],17,-1502002290),a=I(a,b=A(b,r,n,a,t[i+15],22,1236535329),r,n,t[i+1],5,-165796510),n=I(n,a,b,r,t[i+6],9,-1069501632),r=I(r,n,a,b,t[i+11],14,643717713),b=I(b,r,n,a,t[i],20,-373897302),a=I(a,b,r,n,t[i+5],5,-701558691),n=I(n,a,b,r,t[i+10],9,38016083),r=I(r,n,a,b,t[i+15],14,-660478335),b=I(b,r,n,a,t[i+4],20,-405537848),a=I(a,b,r,n,t[i+9],5,568446438),n=I(n,a,b,r,t[i+14],9,-1019803690),r=I(r,n,a,b,t[i+3],14,-187363961),b=I(b,r,n,a,t[i+8],20,1163531501),a=I(a,b,r,n,t[i+13],5,-1444681467),n=I(n,a,b,r,t[i+2],9,-51403784),r=I(r,n,a,b,t[i+7],14,1735328473),a=P(a,b=I(b,r,n,a,t[i+12],20,-1926607734),r,n,t[i+5],4,-378558),n=P(n,a,b,r,t[i+8],11,-2022574463),r=P(r,n,a,b,t[i+11],16,1839030562),b=P(b,r,n,a,t[i+14],23,-35309556),a=P(a,b,r,n,t[i+1],4,-1530992060),n=P(n,a,b,r,t[i+4],11,1272893353),r=P(r,n,a,b,t[i+7],16,-155497632),b=P(b,r,n,a,t[i+10],23,-1094730640),a=P(a,b,r,n,t[i+13],4,681279174),n=P(n,a,b,r,t[i],11,-358537222),r=P(r,n,a,b,t[i+3],16,-722521979),b=P(b,r,n,a,t[i+6],23,76029189),a=P(a,b,r,n,t[i+9],4,-640364487),n=P(n,a,b,r,t[i+12],11,-421815835),r=P(r,n,a,b,t[i+15],16,530742520),a=x(a,b=P(b,r,n,a,t[i+2],23,-995338651),r,n,t[i],6,-198630844),n=x(n,a,b,r,t[i+7],10,1126891415),r=x(r,n,a,b,t[i+14],15,-1416354905),b=x(b,r,n,a,t[i+5],21,-57434055),a=x(a,b,r,n,t[i+12],6,1700485571),n=x(n,a,b,r,t[i+3],10,-1894986606),r=x(r,n,a,b,t[i+10],15,-1051523),b=x(b,r,n,a,t[i+1],21,-2054922799),a=x(a,b,r,n,t[i+8],6,1873313359),n=x(n,a,b,r,t[i+15],10,-30611744),r=x(r,n,a,b,t[i+6],15,-1560198380),b=x(b,r,n,a,t[i+13],21,1309151649),a=x(a,b,r,n,t[i+4],6,-145523070),n=x(n,a,b,r,t[i+11],10,-1120210379),r=x(r,n,a,b,t[i+2],15,718787259),b=x(b,r,n,a,t[i+9],21,-343485551),a=S(a,o),b=S(b,h),r=S(r,c),n=S(n,l)}return[a,b,r,n]}(function(input){if(0===input.length)return[];for(var t=8*input.length,output=new Uint32Array(k(t)),i=0;i<t;i+=8)output[i>>5]|=(255&input[i/8])<<i%32;return output}(t),8*t.length))}));var R=function(t,e,r){var n=(t=t||{}).random||(t.rng||h)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var i=0;i<16;++i)e[r+i]=n[i];return e}return v(n)};function B(s,t,e,r){switch(s){case 0:return t&e^~t&r;case 1:case 3:return t^e^r;case 2:return t&e^t&r^e&r}}function C(t,e){return t<<e|t>>>32-e}var N=_("v5",80,(function(t){var e=[1518500249,1859775393,2400959708,3395469782],r=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof t){var n=unescape(encodeURIComponent(t));t=[];for(var i=0;i<n.length;++i)t.push(n.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var o=t.length/4+2,h=Math.ceil(o/16),c=new Array(h),l=0;l<h;++l){for(var d=new Uint32Array(16),f=0;f<16;++f)d[f]=t[64*l+4*f]<<24|t[64*l+4*f+1]<<16|t[64*l+4*f+2]<<8|t[64*l+4*f+3];c[l]=d}c[h-1][14]=8*(t.length-1)/Math.pow(2,32),c[h-1][14]=Math.floor(c[h-1][14]),c[h-1][15]=8*(t.length-1)&4294967295;for(var m=0;m<h;++m){for(var y=new Uint32Array(80),v=0;v<16;++v)y[v]=c[m][v];for(var w=16;w<80;++w)y[w]=C(y[w-3]^y[w-8]^y[w-14]^y[w-16],1);for(var a=r[0],b=r[1],M=r[2],O=r[3],j=r[4],_=0;_<80;++_){var s=Math.floor(_/20),k=C(a,5)+B(s,b,M,O)+j+e[s]+y[_]>>>0;j=O,O=M,M=C(b,30)>>>0,b=a,a=k}r[0]=r[0]+a>>>0,r[1]=r[1]+b>>>0,r[2]=r[2]+M>>>0,r[3]=r[3]+O>>>0,r[4]=r[4]+j>>>0}return[r[0]>>24&255,r[0]>>16&255,r[0]>>8&255,255&r[0],r[1]>>24&255,r[1]>>16&255,r[1]>>8&255,255&r[1],r[2]>>24&255,r[2]>>16&255,r[2]>>8&255,255&r[2],r[3]>>24&255,r[3]>>16&255,r[3]>>8&255,255&r[3],r[4]>>24&255,r[4]>>16&255,r[4]>>8&255,255&r[4]]})),U="00000000-0000-0000-0000-000000000000";var L=function(t){if(!l(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}},623:function(t,e){function r(t,e,r,n,o,h,c){try{var l=t[h](c),d=l.value}catch(t){return void r(t)}l.done?e(d):Promise.resolve(d).then(n,o)}t.exports=function(t){return function(){var e=this,n=arguments;return new Promise((function(o,h){var c=t.apply(e,n);function l(t){r(c,o,h,l,d,"next",t)}function d(t){r(c,o,h,l,d,"throw",t)}l(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},624:function(t,e,r){t.exports=r(72)},625:function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},629:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return hi})),r.d(e,"b",(function(){return He})),r.d(e,"c",(function(){return ar}));var n=r(661),o=r.n(n),h=r(16),c=r(637),l=r.n(c),d=r(610),f=r.n(d),m=r(640),y=r(644),v=r(651),w=(r(645),r(649),r(634)),M=r.n(w),O=r(245),j=r.n(O);const _=t=>h.Buffer.isBuffer(t)?t:t instanceof Uint8Array?h.Buffer.from(t.buffer,t.byteOffset,t.byteLength):h.Buffer.from(t);var k="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};var S={},E={},A=I;function I(t,e){if(!t)throw new Error(e||"Assertion failed")}I.equal=function(t,e,r){if(t!=e)throw new Error(r||"Assertion failed: "+t+" != "+e)};var P={exports:{}};"function"==typeof Object.create?P.exports=function(t,e){e&&(t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:P.exports=function(t,e){if(e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}};var x=A,T=P.exports;function R(t,i){return 55296==(64512&t.charCodeAt(i))&&(!(i<0||i+1>=t.length)&&56320==(64512&t.charCodeAt(i+1)))}function B(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function C(t){return 1===t.length?"0"+t:t}function N(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}E.inherits=T,E.toArray=function(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var r=[];if("string"==typeof t)if(e){if("hex"===e)for((t=t.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(t="0"+t),i=0;i<t.length;i+=2)r.push(parseInt(t[i]+t[i+1],16))}else for(var p=0,i=0;i<t.length;i++){var n=t.charCodeAt(i);n<128?r[p++]=n:n<2048?(r[p++]=n>>6|192,r[p++]=63&n|128):R(t,i)?(n=65536+((1023&n)<<10)+(1023&t.charCodeAt(++i)),r[p++]=n>>18|240,r[p++]=n>>12&63|128,r[p++]=n>>6&63|128,r[p++]=63&n|128):(r[p++]=n>>12|224,r[p++]=n>>6&63|128,r[p++]=63&n|128)}else for(i=0;i<t.length;i++)r[i]=0|t[i];return r},E.toHex=function(t){for(var e="",i=0;i<t.length;i++)e+=C(t[i].toString(16));return e},E.htonl=B,E.toHex32=function(t,e){for(var r="",i=0;i<t.length;i++){var n=t[i];"little"===e&&(n=B(n)),r+=N(n.toString(16))}return r},E.zero2=C,E.zero8=N,E.join32=function(t,e,r,n){var o=r-e;x(o%4==0);for(var h=new Array(o/4),i=0,c=e;i<h.length;i++,c+=4){var l;l="big"===n?t[c]<<24|t[c+1]<<16|t[c+2]<<8|t[c+3]:t[c+3]<<24|t[c+2]<<16|t[c+1]<<8|t[c],h[i]=l>>>0}return h},E.split32=function(t,e){for(var r=new Array(4*t.length),i=0,n=0;i<t.length;i++,n+=4){var o=t[i];"big"===e?(r[n]=o>>>24,r[n+1]=o>>>16&255,r[n+2]=o>>>8&255,r[n+3]=255&o):(r[n+3]=o>>>24,r[n+2]=o>>>16&255,r[n+1]=o>>>8&255,r[n]=255&o)}return r},E.rotr32=function(t,b){return t>>>b|t<<32-b},E.rotl32=function(t,b){return t<<b|t>>>32-b},E.sum32=function(a,b){return a+b>>>0},E.sum32_3=function(a,b,t){return a+b+t>>>0},E.sum32_4=function(a,b,t,e){return a+b+t+e>>>0},E.sum32_5=function(a,b,t,e,r){return a+b+t+e+r>>>0},E.sum64=function(t,e,r,n){var o=t[e],h=n+t[e+1]>>>0,c=(h<n?1:0)+r+o;t[e]=c>>>0,t[e+1]=h},E.sum64_hi=function(t,e,r,n){return(e+n>>>0<e?1:0)+t+r>>>0},E.sum64_lo=function(t,e,r,n){return e+n>>>0},E.sum64_4_hi=function(t,e,r,n,o,h,c,dl){var l=0,d=e;return l+=(d=d+n>>>0)<e?1:0,l+=(d=d+h>>>0)<h?1:0,t+r+o+c+(l+=(d=d+dl>>>0)<dl?1:0)>>>0},E.sum64_4_lo=function(t,e,r,n,o,h,c,dl){return e+n+h+dl>>>0},E.sum64_5_hi=function(t,e,r,n,o,h,c,dl,l,d){var f=0,m=e;return f+=(m=m+n>>>0)<e?1:0,f+=(m=m+h>>>0)<h?1:0,f+=(m=m+dl>>>0)<dl?1:0,t+r+o+c+l+(f+=(m=m+d>>>0)<d?1:0)>>>0},E.sum64_5_lo=function(t,e,r,n,o,h,c,dl,l,d){return e+n+h+dl+d>>>0},E.rotr64_hi=function(t,e,r){return(e<<32-r|t>>>r)>>>0},E.rotr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0},E.shr64_hi=function(t,e,r){return t>>>r},E.shr64_lo=function(t,e,r){return(t<<32-r|e>>>r)>>>0};var U={},L=E,z=A;function D(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}U.BlockHash=D,D.prototype.update=function(t,e){if(t=L.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){var r=(t=this.pending).length%this._delta8;this.pending=t.slice(t.length-r,t.length),0===this.pending.length&&(this.pending=null),t=L.join32(t,0,t.length-r,this.endian);for(var i=0;i<t.length;i+=this._delta32)this._update(t,i,i+this._delta32)}return this},D.prototype.digest=function(t){return this.update(this._pad()),z(null===this.pending),this._digest(t)},D.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,r=e-(t+this.padLength)%e,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=t>>>24&255,n[i++]=t>>>16&255,n[i++]=t>>>8&255,n[i++]=255&t}else for(n[i++]=255&t,n[i++]=t>>>8&255,n[i++]=t>>>16&255,n[i++]=t>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,o=8;o<this.padLength;o++)n[i++]=0;return n};var W={},K={},F=E.rotr32;function H(t,e,r){return t&e^~t&r}function V(t,e,r){return t&e^t&r^e&r}function G(t,e,r){return t^e^r}K.ft_1=function(s,t,e,r){return 0===s?H(t,e,r):1===s||3===s?G(t,e,r):2===s?V(t,e,r):void 0},K.ch32=H,K.maj32=V,K.p32=G,K.s0_256=function(t){return F(t,2)^F(t,13)^F(t,22)},K.s1_256=function(t){return F(t,6)^F(t,11)^F(t,25)},K.g0_256=function(t){return F(t,7)^F(t,18)^t>>>3},K.g1_256=function(t){return F(t,17)^F(t,19)^t>>>10};var Z=E,$=U,J=K,X=Z.rotl32,Y=Z.sum32,Q=Z.sum32_5,tt=J.ft_1,et=$.BlockHash,it=[1518500249,1859775393,2400959708,3395469782];function nt(){if(!(this instanceof nt))return new nt;et.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Z.inherits(nt,et);var ot=nt;nt.blockSize=512,nt.outSize=160,nt.hmacStrength=80,nt.padLength=64,nt.prototype._update=function(t,e){for(var r=this.W,i=0;i<16;i++)r[i]=t[e+i];for(;i<r.length;i++)r[i]=X(r[i-3]^r[i-8]^r[i-14]^r[i-16],1);var a=this.h[0],b=this.h[1],n=this.h[2],o=this.h[3],h=this.h[4];for(i=0;i<r.length;i++){var s=~~(i/20),c=Q(X(a,5),tt(s,b,n,o),h,r[i],it[s]);h=o,o=n,n=X(b,30),b=a,a=c}this.h[0]=Y(this.h[0],a),this.h[1]=Y(this.h[1],b),this.h[2]=Y(this.h[2],n),this.h[3]=Y(this.h[3],o),this.h[4]=Y(this.h[4],h)},nt.prototype._digest=function(t){return"hex"===t?Z.toHex32(this.h,"big"):Z.split32(this.h,"big")};var st=E,at=U,ut=K,ht=A,ct=st.sum32,lt=st.sum32_4,ft=st.sum32_5,pt=ut.ch32,mt=ut.maj32,gt=ut.s0_256,yt=ut.s1_256,bt=ut.g0_256,vt=ut.g1_256,wt=at.BlockHash,Mt=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ot(){if(!(this instanceof Ot))return new Ot;wt.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Mt,this.W=new Array(64)}st.inherits(Ot,wt);var jt=Ot;Ot.blockSize=512,Ot.outSize=256,Ot.hmacStrength=192,Ot.padLength=64,Ot.prototype._update=function(t,e){for(var r=this.W,i=0;i<16;i++)r[i]=t[e+i];for(;i<r.length;i++)r[i]=lt(vt(r[i-2]),r[i-7],bt(r[i-15]),r[i-16]);var a=this.h[0],b=this.h[1],n=this.h[2],o=this.h[3],h=this.h[4],c=this.h[5],g=this.h[6],l=this.h[7];for(ht(this.k.length===r.length),i=0;i<r.length;i++){var d=ft(l,yt(h),pt(h,c,g),this.k[i],r[i]),f=ct(gt(a),mt(a,b,n));l=g,g=c,c=h,h=ct(o,d),o=n,n=b,b=a,a=ct(d,f)}this.h[0]=ct(this.h[0],a),this.h[1]=ct(this.h[1],b),this.h[2]=ct(this.h[2],n),this.h[3]=ct(this.h[3],o),this.h[4]=ct(this.h[4],h),this.h[5]=ct(this.h[5],c),this.h[6]=ct(this.h[6],g),this.h[7]=ct(this.h[7],l)},Ot.prototype._digest=function(t){return"hex"===t?st.toHex32(this.h,"big"):st.split32(this.h,"big")};var _t=E,kt=jt;function St(){if(!(this instanceof St))return new St;kt.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}_t.inherits(St,kt);var Et=St;St.blockSize=512,St.outSize=224,St.hmacStrength=192,St.padLength=64,St.prototype._digest=function(t){return"hex"===t?_t.toHex32(this.h.slice(0,7),"big"):_t.split32(this.h.slice(0,7),"big")};var At=E,It=U,Pt=A,xt=At.rotr64_hi,Tt=At.rotr64_lo,Rt=At.shr64_hi,Bt=At.shr64_lo,Ct=At.sum64,Nt=At.sum64_hi,Ut=At.sum64_lo,Lt=At.sum64_4_hi,zt=At.sum64_4_lo,qt=At.sum64_5_hi,Dt=At.sum64_5_lo,Wt=It.BlockHash,Kt=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Ft(){if(!(this instanceof Ft))return new Ft;Wt.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Kt,this.W=new Array(160)}At.inherits(Ft,Wt);var Ht=Ft;function Vt(t,e,r,n,o){var h=t&r^~t&o;return h<0&&(h+=4294967296),h}function Gt(t,e,r,n,o,h){var c=e&n^~e&h;return c<0&&(c+=4294967296),c}function Zt(t,e,r,n,o){var h=t&r^t&o^r&o;return h<0&&(h+=4294967296),h}function $t(t,e,r,n,o,h){var c=e&n^e&h^n&h;return c<0&&(c+=4294967296),c}function Jt(t,e){var r=xt(t,e,28)^xt(e,t,2)^xt(e,t,7);return r<0&&(r+=4294967296),r}function Xt(t,e){var r=Tt(t,e,28)^Tt(e,t,2)^Tt(e,t,7);return r<0&&(r+=4294967296),r}function Yt(t,e){var r=xt(t,e,14)^xt(t,e,18)^xt(e,t,9);return r<0&&(r+=4294967296),r}function Qt(t,e){var r=Tt(t,e,14)^Tt(t,e,18)^Tt(e,t,9);return r<0&&(r+=4294967296),r}function te(t,e){var r=xt(t,e,1)^xt(t,e,8)^Rt(t,e,7);return r<0&&(r+=4294967296),r}function ee(t,e){var r=Tt(t,e,1)^Tt(t,e,8)^Bt(t,e,7);return r<0&&(r+=4294967296),r}function re(t,e){var r=xt(t,e,19)^xt(e,t,29)^Rt(t,e,6);return r<0&&(r+=4294967296),r}function ie(t,e){var r=Tt(t,e,19)^Tt(e,t,29)^Bt(t,e,6);return r<0&&(r+=4294967296),r}Ft.blockSize=1024,Ft.outSize=512,Ft.hmacStrength=192,Ft.padLength=128,Ft.prototype._prepareBlock=function(t,e){for(var r=this.W,i=0;i<32;i++)r[i]=t[e+i];for(;i<r.length;i+=2){var n=re(r[i-4],r[i-3]),o=ie(r[i-4],r[i-3]),h=r[i-14],c=r[i-13],l=te(r[i-30],r[i-29]),d=ee(r[i-30],r[i-29]),f=r[i-32],m=r[i-31];r[i]=Lt(n,o,h,c,l,d,f,m),r[i+1]=zt(n,o,h,c,l,d,f,m)}},Ft.prototype._update=function(t,e){this._prepareBlock(t,e);var r=this.W,n=this.h[0],o=this.h[1],h=this.h[2],c=this.h[3],l=this.h[4],d=this.h[5],f=this.h[6],dl=this.h[7],m=this.h[8],y=this.h[9],v=this.h[10],w=this.h[11],M=this.h[12],O=this.h[13],j=this.h[14],_=this.h[15];Pt(this.k.length===r.length);for(var i=0;i<r.length;i+=2){var k=j,S=_,E=Yt(m,y),A=Qt(m,y),I=Vt(m,y,v,w,M),P=Gt(m,y,v,w,M,O),x=this.k[i],T=this.k[i+1],R=r[i],B=r[i+1],C=qt(k,S,E,A,I,P,x,T,R,B),N=Dt(k,S,E,A,I,P,x,T,R,B);k=Jt(n,o),S=Xt(n,o),E=Zt(n,o,h,c,l),A=$t(n,o,h,c,l,d);var U=Nt(k,S,E,A),L=Ut(k,S,E,A);j=M,_=O,M=v,O=w,v=m,w=y,m=Nt(f,dl,C,N),y=Ut(dl,dl,C,N),f=l,dl=d,l=h,d=c,h=n,c=o,n=Nt(C,N,U,L),o=Ut(C,N,U,L)}Ct(this.h,0,n,o),Ct(this.h,2,h,c),Ct(this.h,4,l,d),Ct(this.h,6,f,dl),Ct(this.h,8,m,y),Ct(this.h,10,v,w),Ct(this.h,12,M,O),Ct(this.h,14,j,_)},Ft.prototype._digest=function(t){return"hex"===t?At.toHex32(this.h,"big"):At.split32(this.h,"big")};var ne=E,oe=Ht;function se(){if(!(this instanceof se))return new se;oe.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}ne.inherits(se,oe);var ae=se;se.blockSize=1024,se.outSize=384,se.hmacStrength=192,se.padLength=128,se.prototype._digest=function(t){return"hex"===t?ne.toHex32(this.h.slice(0,12),"big"):ne.split32(this.h.slice(0,12),"big")},W.sha1=ot,W.sha224=Et,W.sha256=jt,W.sha384=ae,W.sha512=Ht;var ue={},he=E,ce=U,le=he.rotl32,de=he.sum32,fe=he.sum32_3,pe=he.sum32_4,me=ce.BlockHash;function ge(){if(!(this instanceof ge))return new ge;me.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function ye(t,e,r,n){return t<=15?e^r^n:t<=31?e&r|~e&n:t<=47?(e|~r)^n:t<=63?e&n|r&~n:e^(r|~n)}function be(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function ve(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}he.inherits(ge,me),ue.ripemd160=ge,ge.blockSize=512,ge.outSize=160,ge.hmacStrength=192,ge.padLength=64,ge.prototype._update=function(t,e){for(var r=this.h[0],n=this.h[1],o=this.h[2],h=this.h[3],c=this.h[4],l=r,d=n,f=o,m=h,y=c,v=0;v<80;v++){var w=de(le(pe(r,ye(v,n,o,h),t[we[v]+e],be(v)),s[v]),c);r=c,c=h,h=le(o,10),o=n,n=w,w=de(le(pe(l,ye(79-v,d,f,m),t[Me[v]+e],ve(v)),Oe[v]),y),l=y,y=m,m=le(f,10),f=d,d=w}w=fe(this.h[1],o,m),this.h[1]=fe(this.h[2],h,y),this.h[2]=fe(this.h[3],c,l),this.h[3]=fe(this.h[4],r,d),this.h[4]=fe(this.h[0],n,f),this.h[0]=w},ge.prototype._digest=function(t){return"hex"===t?he.toHex32(this.h,"little"):he.split32(this.h,"little")};var we=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Me=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Oe=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],je=E,_e=A;function ke(t,e,r){if(!(this instanceof ke))return new ke(t,e,r);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(je.toArray(e,r))}var Se=ke;ke.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),_e(t.length<=this.blockSize);for(var i=t.length;i<this.blockSize;i++)t.push(0);for(i=0;i<t.length;i++)t[i]^=54;for(this.inner=(new this.Hash).update(t),i=0;i<t.length;i++)t[i]^=106;this.outer=(new this.Hash).update(t)},ke.prototype.update=function(t,e){return this.inner.update(t,e),this},ke.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)},function(t){var e=t;e.utils=E,e.common=U,e.sha=W,e.ripemd=ue,e.hmac=Se,e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(S);var Ee=S;let Ae=!1,Ie=!1;const Pe={debug:1,default:2,info:2,warning:3,error:4,off:5};let xe=Pe.default,Te=null;const Re=function(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach((form=>{try{if("test"!=="test".normalize(form))throw new Error("bad normalize")}catch(e){t.push(form)}})),t.length)throw new Error("missing "+t.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(t){return t.message}return null}();var Be,Ce;!function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"}(Be||(Be={})),function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED"}(Ce||(Ce={}));const Ne="0123456789abcdef";class Ue{constructor(t){Object.defineProperty(this,"version",{enumerable:!0,value:t,writable:!1})}_log(t,e){const r=t.toLowerCase();null==Pe[r]&&this.throwArgumentError("invalid log level name","logLevel",t),xe>Pe[r]||console.log.apply(console,e)}debug(...t){this._log(Ue.levels.DEBUG,t)}info(...t){this._log(Ue.levels.INFO,t)}warn(...t){this._log(Ue.levels.WARNING,t)}makeError(t,code,e){if(Ie)return this.makeError("censored error",code,{});code||(code=Ue.errors.UNKNOWN_ERROR),e||(e={});const r=[];Object.keys(e).forEach((t=>{const n=e[t];try{if(n instanceof Uint8Array){let e="";for(let i=0;i<n.length;i++)e+=Ne[n[i]>>4],e+=Ne[15&n[i]];r.push(t+"=Uint8Array(0x"+e+")")}else r.push(t+"="+JSON.stringify(n))}catch(n){r.push(t+"="+JSON.stringify(e[t].toString()))}})),r.push(`code=${code}`),r.push(`version=${this.version}`);const n=t;let o="";switch(code){case Ce.NUMERIC_FAULT:{o="NUMERIC_FAULT";const e=t;switch(e){case"overflow":case"underflow":case"division-by-zero":o+="-"+e;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result"}break}case Ce.CALL_EXCEPTION:case Ce.INSUFFICIENT_FUNDS:case Ce.MISSING_NEW:case Ce.NONCE_EXPIRED:case Ce.REPLACEMENT_UNDERPRICED:case Ce.TRANSACTION_REPLACED:case Ce.UNPREDICTABLE_GAS_LIMIT:o=code}o&&(t+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),r.length&&(t+=" ("+r.join(", ")+")");const h=new Error(t);return h.reason=n,h.code=code,Object.keys(e).forEach((function(t){h[t]=e[t]})),h}throwError(t,code,e){throw this.makeError(t,code,e)}throwArgumentError(t,e,r){return this.throwError(t,Ue.errors.INVALID_ARGUMENT,{argument:e,value:r})}assert(t,e,code,r){t||this.throwError(e,code,r)}assertArgument(t,e,r,n){t||this.throwArgumentError(e,r,n)}checkNormalize(t){Re&&this.throwError("platform missing String.prototype.normalize",Ue.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Re})}checkSafeUint53(t,e){"number"==typeof t&&(null==e&&(e="value not safe"),(t<0||t>=9007199254740991)&&this.throwError(e,Ue.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:t}),t%1&&this.throwError(e,Ue.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:t}))}checkArgumentCount(t,e,r){r=r?": "+r:"",t<e&&this.throwError("missing argument"+r,Ue.errors.MISSING_ARGUMENT,{count:t,expectedCount:e}),t>e&&this.throwError("too many arguments"+r,Ue.errors.UNEXPECTED_ARGUMENT,{count:t,expectedCount:e})}checkNew(t,e){t!==Object&&null!=t||this.throwError("missing new",Ue.errors.MISSING_NEW,{name:e.name})}checkAbstract(t,e){t===e?this.throwError("cannot instantiate abstract class "+JSON.stringify(e.name)+" directly; use a sub-class",Ue.errors.UNSUPPORTED_OPERATION,{name:t.name,operation:"new"}):t!==Object&&null!=t||this.throwError("missing new",Ue.errors.MISSING_NEW,{name:e.name})}static globalLogger(){return Te||(Te=new Ue("logger/5.6.0")),Te}static setCensorship(t,e){if(!t&&e&&this.globalLogger().throwError("cannot permanently disable censorship",Ue.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Ae){if(!t)return;this.globalLogger().throwError("error censorship permanent",Ue.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Ie=!!t,Ae=!!e}static setLogLevel(t){const e=Pe[t.toLowerCase()];null!=e?xe=e:Ue.globalLogger().warn("invalid log level - "+t)}static from(t){return new Ue(t)}}Ue.errors=Ce,Ue.levels=Be;const Le=new Ue("bytes/5.6.0");function ze(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return ze(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function qe(t){return"number"==typeof t&&t==t&&t%1==0}function De(t,e){if(e||(e={}),"number"==typeof t){Le.checkSafeUint53(t,"invalid arrayify value");const e=[];for(;t;)e.unshift(255&t),t=parseInt(String(t/256));return 0===e.length&&e.push(0),ze(new Uint8Array(e))}if(e.allowMissingPrefix&&"string"==typeof t&&"0x"!==t.substring(0,2)&&(t="0x"+t),function(t){return!!t.toHexString}(t)&&(t=t.toHexString()),function(t,e){if("string"!=typeof t||!t.match(/^0x[0-9A-Fa-f]*$/))return!1;if(e&&t.length!==2+2*e)return!1;return!0}(t)){let r=t.substring(2);r.length%2&&("left"===e.hexPad?r="0x0"+r.substring(2):"right"===e.hexPad?r+="0":Le.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return ze(new Uint8Array(n))}return function(t){if(null==t)return!1;if(t.constructor===Uint8Array)return!0;if("string"==typeof t)return!1;if(!qe(t.length)||t.length<0)return!1;for(let i=0;i<t.length;i++){const e=t[i];if(!qe(e)||e<0||e>=256)return!1}return!0}(t)?ze(new Uint8Array(t)):Le.throwArgumentError("invalid arrayify value","value",t)}function We(data){return"0x"+Ee.sha256().update(De(data)).digest("hex")}new Ue("sha2/5.6.0");class Ke{constructor(t){Object.assign(this,t)}encode(){return h.Buffer.from(Object(m.serialize)(Fe,this))}static decode(data){return Object(m.deserialize)(Fe,this,data)}static decodeUnchecked(data){return Object(m.deserializeUnchecked)(Fe,this,data)}}const Fe=new Map;class He extends Ke{constructor(t){if(super({}),this._bn=void 0,function(t){return void 0!==t._bn}(t))this._bn=t._bn;else{if("string"==typeof t){const e=f.a.decode(t);if(32!=e.length)throw new Error("Invalid public key input");this._bn=new l.a(e)}else this._bn=new l.a(t);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}equals(t){return this._bn.eq(t._bn)}toBase58(){return f.a.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const b=this._bn.toArrayLike(h.Buffer);if(32===b.length)return b;const t=h.Buffer.alloc(32);return b.copy(t,32-b.length),t}toString(){return this.toBase58()}static async createWithSeed(t,e,r){const n=h.Buffer.concat([t.toBuffer(),h.Buffer.from(e),r.toBuffer()]),o=We(new Uint8Array(n)).slice(2);return new He(h.Buffer.from(o,"hex"))}static async createProgramAddress(t,e){let r=h.Buffer.alloc(0);t.forEach((function(t){if(t.length>32)throw new TypeError("Max seed length exceeded");r=h.Buffer.concat([r,_(t)])})),r=h.Buffer.concat([r,e.toBuffer(),h.Buffer.from("ProgramDerivedAddress")]);let n=We(new Uint8Array(r)).slice(2),o=new l.a(n,16).toArray(void 0,32);if(Ge(o))throw new Error("Invalid seeds, address must fall off the curve");return new He(o)}static async findProgramAddress(t,e){let address,r=255;for(;0!=r;){try{const n=t.concat(h.Buffer.from([r]));address=await this.createProgramAddress(n,e)}catch(t){if(t instanceof TypeError)throw t;r--;continue}return[address,r]}throw new Error("Unable to find a viable program address nonce")}static isOnCurve(t){return 1==Ge(t)}}He.default=new He("11111111111111111111111111111111"),Fe.set(He,{kind:"struct",fields:[["_bn","u256"]]});let Ve=o.a.lowlevel;function Ge(p){var t=[Ve.gf(),Ve.gf(),Ve.gf(),Ve.gf()],e=Ve.gf(),r=Ve.gf(),n=Ve.gf(),o=Ve.gf(),h=Ve.gf(),c=Ve.gf(),l=Ve.gf();return Ve.set25519(t[2],Ze),Ve.unpack25519(t[1],p),Ve.S(n,t[1]),Ve.M(o,n,Ve.D),Ve.Z(n,n,t[2]),Ve.A(o,t[2],o),Ve.S(h,o),Ve.S(c,h),Ve.M(l,c,h),Ve.M(e,l,n),Ve.M(e,e,o),Ve.pow2523(e,e),Ve.M(e,e,n),Ve.M(e,e,o),Ve.M(e,e,o),Ve.M(t[0],e,o),Ve.S(r,t[0]),Ve.M(r,r,o),Je(r,n)&&Ve.M(t[0],t[0],$e),Ve.S(r,t[0]),Ve.M(r,r,o),Je(r,n)?0:1}let Ze=Ve.gf([1]),$e=Ve.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function Je(a,b){var t=new Uint8Array(32),e=new Uint8Array(32);return Ve.pack25519(t,a),Ve.pack25519(e,b),Ve.crypto_verify_32(t,0,e,0)}new He("BPFLoader1111111111111111111111111111111111");const Xe=(t="publicKey")=>y.blob(32,t),Ye=(t="string")=>{const e=y.struct([y.u32("length"),y.u32("lengthPadding"),y.blob(y.offset(y.u32(),-8),"chars")],t),r=e.decode.bind(e),n=e.encode.bind(e),o=e;return o.decode=(b,t)=>r(b,t).chars.toString(),o.encode=(t,b,e)=>{const data={chars:h.Buffer.from(t,"utf8")};return n(data,b,e)},o.alloc=t=>y.u32().span+y.u32().span+h.Buffer.from(t,"utf8").length,o};function Qe(t){let e=0,r=0;for(;;){let n=t.shift();if(e|=(127&n)<<7*r,r+=1,0==(128&n))break}return e}function er(t,e){let r=e;for(;;){let e=127&r;if(r>>=7,0==r){t.push(e);break}e|=128,t.push(e)}}class rr{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map((t=>new He(t))),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach((t=>this.indexToProgramIds.set(t.programIdIndex,this.accountKeys[t.programIdIndex])))}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){return t<this.header.numRequiredSignatures-this.header.numReadonlySignedAccounts||t>=this.header.numRequiredSignatures&&t<this.accountKeys.length-this.header.numReadonlyUnsignedAccounts}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter(((t,e)=>!this.isProgramId(e)))}serialize(){const t=this.accountKeys.length;let e=[];er(e,t);const r=this.instructions.map((t=>{const{accounts:e,programIdIndex:r}=t,data=Array.from(f.a.decode(t.data));let n=[];er(n,e.length);let o=[];return er(o,data.length),{programIdIndex:r,keyIndicesCount:h.Buffer.from(n),keyIndices:e,dataLength:h.Buffer.from(o),data:data}}));let n=[];er(n,r.length);let o=h.Buffer.alloc(or);h.Buffer.from(n).copy(o);let c=n.length;r.forEach((t=>{const e=y.struct([y.u8("programIdIndex"),y.blob(t.keyIndicesCount.length,"keyIndicesCount"),y.seq(y.u8("keyIndex"),t.keyIndices.length,"keyIndices"),y.blob(t.dataLength.length,"dataLength"),y.seq(y.u8("userdatum"),t.data.length,"data")]).encode(t,o,c);c+=e})),o=o.slice(0,c);const l=y.struct([y.blob(1,"numRequiredSignatures"),y.blob(1,"numReadonlySignedAccounts"),y.blob(1,"numReadonlyUnsignedAccounts"),y.blob(e.length,"keyCount"),y.seq(Xe("key"),t,"keys"),Xe("recentBlockhash")]),d={numRequiredSignatures:h.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:h.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:h.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:h.Buffer.from(e),keys:this.accountKeys.map((t=>_(t.toBytes()))),recentBlockhash:f.a.decode(this.recentBlockhash)};let m=h.Buffer.alloc(2048);const v=l.encode(d,m);return o.copy(m,v),m.slice(0,v+o.length)}static from(t){let e=[...t];const r=e.shift(),n=e.shift(),o=e.shift(),c=Qe(e);let l=[];for(let i=0;i<c;i++){const t=e.slice(0,32);e=e.slice(32),l.push(f.a.encode(h.Buffer.from(t)))}const d=e.slice(0,32);e=e.slice(32);const m=Qe(e);let y=[];for(let i=0;i<m;i++){const t=e.shift(),r=Qe(e),n=e.slice(0,r);e=e.slice(r);const o=Qe(e),c=e.slice(0,o),data=f.a.encode(h.Buffer.from(c));e=e.slice(o),y.push({programIdIndex:t,accounts:n,data:data})}const v={header:{numRequiredSignatures:r,numReadonlySignedAccounts:n,numReadonlyUnsignedAccounts:o},recentBlockhash:f.a.encode(h.Buffer.from(d)),accountKeys:l,instructions:y};return new rr(v)}}function ir(t,e){if(!t)throw new Error(e||"Assertion failed")}const nr=h.Buffer.alloc(64).fill(0),or=1232;class sr{constructor(t){this.keys=void 0,this.programId=void 0,this.data=h.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map((({pubkey:t,isSigner:e,isWritable:r})=>({pubkey:t.toJSON(),isSigner:e,isWritable:r}))),programId:this.programId.toJSON(),data:[...this.data]}}}class ar{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.nonceInfo=void 0,this._message=void 0,this._json=void 0,t&&Object.assign(this,t)}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map((t=>t.toJSON())),signatures:this.signatures.map((({publicKey:t,signature:e})=>({publicKey:t.toJSON(),signature:e?[...e]:null})))}}add(...t){if(0===t.length)throw new Error("No instructions");return t.forEach((t=>{"instructions"in t?this.instructions=this.instructions.concat(t.instructions):"data"in t&&"programId"in t&&"keys"in t?this.instructions.push(t):this.instructions.push(new sr(t))})),this}compileMessage(){if(this._message){if(JSON.stringify(this.toJSON())!==JSON.stringify(this._json))throw new Error("Transaction mutated after being populated from Message");return this._message}const{nonceInfo:t}=this;t&&this.instructions[0]!=t.nonceInstruction&&(this.recentBlockhash=t.nonce,this.instructions.unshift(t.nonceInstruction));const{recentBlockhash:e}=this;if(!e)throw new Error("Transaction recentBlockhash required");let r;if(this.instructions.length<1&&console.warn("No instructions provided"),this.feePayer)r=this.feePayer;else{if(!(this.signatures.length>0&&this.signatures[0].publicKey))throw new Error("Transaction fee payer required");r=this.signatures[0].publicKey}for(let i=0;i<this.instructions.length;i++)if(void 0===this.instructions[i].programId)throw new Error(`Transaction instruction index ${i} has undefined program id`);const n=[],o=[];this.instructions.forEach((t=>{t.keys.forEach((t=>{o.push({...t})}));const e=t.programId.toString();n.includes(e)||n.push(e)})),n.forEach((t=>{o.push({pubkey:new He(t),isSigner:!1,isWritable:!1})})),o.sort((function(t,e){const r=t.pubkey.toBase58().localeCompare(e.pubkey.toBase58()),n=t.isSigner===e.isSigner?0:t.isSigner?-1:1,o=t.isWritable===e.isWritable?r:t.isWritable?-1:1;return n||o}));const h=[];o.forEach((t=>{const e=t.pubkey.toString(),r=h.findIndex((t=>t.pubkey.toString()===e));r>-1?h[r].isWritable=h[r].isWritable||t.isWritable:h.push(t)}));const c=h.findIndex((t=>t.pubkey.equals(r)));if(c>-1){const[t]=h.splice(c,1);t.isSigner=!0,t.isWritable=!0,h.unshift(t)}else h.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const t of this.signatures){const e=h.findIndex((e=>e.pubkey.equals(t.publicKey)));if(!(e>-1))throw new Error(`unknown signer: ${t.publicKey.toString()}`);h[e].isSigner||(h[e].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."))}let l=0,d=0,m=0;const y=[],v=[];h.forEach((({pubkey:t,isSigner:e,isWritable:r})=>{e?(y.push(t.toString()),l+=1,r||(d+=1)):(v.push(t.toString()),r||(m+=1))}));const w=y.concat(v),M=this.instructions.map((t=>{const{data:data,programId:e}=t;return{programIdIndex:w.indexOf(e.toString()),accounts:t.keys.map((meta=>w.indexOf(meta.pubkey.toString()))),data:f.a.encode(data)}}));return M.forEach((t=>{ir(t.programIdIndex>=0),t.accounts.forEach((t=>ir(t>=0)))})),new rr({header:{numRequiredSignatures:l,numReadonlySignedAccounts:d,numReadonlyUnsignedAccounts:m},accountKeys:w,recentBlockhash:e,instructions:M})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);if(this.signatures.length===e.length){if(this.signatures.every(((t,r)=>e[r].equals(t.publicKey))))return t}return this.signatures=e.map((t=>({signature:null,publicKey:t}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(0===t.length)throw new Error("No signers");const e=new Set;this.signatures=t.filter((t=>{const r=t.toString();return!e.has(r)&&(e.add(r),!0)})).map((t=>({signature:null,publicKey:t})))}sign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,r=[];for(const n of t){const t=n.publicKey.toString();e.has(t)||(e.add(t),r.push(n))}this.signatures=r.map((t=>({signature:null,publicKey:t.publicKey})));const n=this._compile();this._partialSign(n,...r),this._verifySignatures(n.serialize(),!0)}partialSign(...t){if(0===t.length)throw new Error("No signers");const e=new Set,r=[];for(const n of t){const t=n.publicKey.toString();e.has(t)||(e.add(t),r.push(n))}const n=this._compile();this._partialSign(n,...r)}_partialSign(t,...e){const r=t.serialize();e.forEach((t=>{const e=o.a.sign.detached(r,t.secretKey);this._addSignature(t.publicKey,_(e))}))}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){ir(64===e.length);const r=this.signatures.findIndex((e=>t.equals(e.publicKey)));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=h.Buffer.from(e)}verifySignatures(){return this._verifySignatures(this.serializeMessage(),!0)}_verifySignatures(t,e){for(const{signature:r,publicKey:n}of this.signatures)if(null===r){if(e)return!1}else if(!o.a.sign.detached.verify(t,r,n.toBuffer()))return!1;return!0}serialize(t){const{requireAllSignatures:e,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),n=this.serializeMessage();if(r&&!this._verifySignatures(n,e))throw new Error("Signature verification failed");return this._serialize(n)}_serialize(t){const{signatures:e}=this,r=[];er(r,e.length);const n=r.length+64*e.length+t.length,o=h.Buffer.alloc(n);return ir(e.length<256),h.Buffer.from(r).copy(o,0),e.forEach((({signature:t},e)=>{null!==t&&(ir(64===t.length,"signature has invalid length"),h.Buffer.from(t).copy(o,r.length+64*e))})),t.copy(o,r.length+64*e.length),ir(o.length<=or,`Transaction too large: ${o.length} > ${or}`),o}get keys(){return ir(1===this.instructions.length),this.instructions[0].keys.map((t=>t.pubkey))}get programId(){return ir(1===this.instructions.length),this.instructions[0].programId}get data(){return ir(1===this.instructions.length),this.instructions[0].data}static from(t){let e=[...t];const r=Qe(e);let n=[];for(let i=0;i<r;i++){const t=e.slice(0,64);e=e.slice(64),n.push(f.a.encode(h.Buffer.from(t)))}return ar.populate(rr.from(e),n)}static populate(t,e=[]){const r=new ar;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),e.forEach(((e,n)=>{const o={signature:e==f.a.encode(nr)?null:f.a.decode(e),publicKey:t.accountKeys[n]};r.signatures.push(o)})),t.instructions.forEach((e=>{const n=e.accounts.map((e=>{const n=t.accountKeys[e];return{pubkey:n,isSigner:r.signatures.some((t=>t.publicKey.toString()===n.toString()))||t.isAccountSigner(e),isWritable:t.isAccountWritable(e)}}));r.instructions.push(new sr({keys:n,programId:t.accountKeys[e.programIdIndex],data:f.a.decode(e.data)}))})),r._message=t,r._json=r.toJSON(),r}}const ur=new He("SysvarC1ock11111111111111111111111111111111"),cr=(new He("SysvarEpochSchedu1e111111111111111111111111"),new He("Sysvar1nstructions1111111111111111111111111"),new He("SysvarRecentB1ockHashes11111111111111111111")),lr=new He("SysvarRent111111111111111111111111111111111"),dr=(new He("SysvarRewards111111111111111111111111111111"),new He("SysvarS1otHashes111111111111111111111111111"),new He("SysvarS1otHistory11111111111111111111111111"),new He("SysvarStakeHistory1111111111111111111111111"));async function fr(t,e,r,n){const o=n&&{skipPreflight:n.skipPreflight,preflightCommitment:n.preflightCommitment||n.commitment,maxRetries:n.maxRetries},h=await t.sendTransaction(e,r,o),c=(await t.confirmTransaction(h,n&&n.commitment)).value;if(c.err)throw new Error(`Transaction ${h} failed (${JSON.stringify(c)})`);return h}function pr(t){return new Promise((e=>setTimeout(e,t)))}function mr(t,e){const r=t.layout.span>=0?t.layout.span:function(t,e){let r=0;return t.layout.fields.forEach((t=>{t.span>=0?r+=t.span:"function"==typeof t.alloc&&(r+=t.alloc(e[t.property]))})),r}(t,e),data=h.Buffer.alloc(r),n=Object.assign({instruction:t.index},e);return t.layout.encode(n,data),data}const gr=y.nu64("lamportsPerSignature"),yr=y.struct([y.u32("version"),y.u32("state"),Xe("authorizedPubkey"),Xe("nonce"),y.struct([gr],"feeCalculator")]),vr=yr.span;const wr=Object.freeze({Create:{index:0,layout:y.struct([y.u32("instruction"),y.ns64("lamports"),y.ns64("space"),Xe("programId")])},Assign:{index:1,layout:y.struct([y.u32("instruction"),Xe("programId")])},Transfer:{index:2,layout:y.struct([y.u32("instruction"),y.ns64("lamports")])},CreateWithSeed:{index:3,layout:y.struct([y.u32("instruction"),Xe("base"),Ye("seed"),y.ns64("lamports"),y.ns64("space"),Xe("programId")])},AdvanceNonceAccount:{index:4,layout:y.struct([y.u32("instruction")])},WithdrawNonceAccount:{index:5,layout:y.struct([y.u32("instruction"),y.ns64("lamports")])},InitializeNonceAccount:{index:6,layout:y.struct([y.u32("instruction"),Xe("authorized")])},AuthorizeNonceAccount:{index:7,layout:y.struct([y.u32("instruction"),Xe("authorized")])},Allocate:{index:8,layout:y.struct([y.u32("instruction"),y.ns64("space")])},AllocateWithSeed:{index:9,layout:y.struct([y.u32("instruction"),Xe("base"),Ye("seed"),y.ns64("space"),Xe("programId")])},AssignWithSeed:{index:10,layout:y.struct([y.u32("instruction"),Xe("base"),Ye("seed"),Xe("programId")])},TransferWithSeed:{index:11,layout:y.struct([y.u32("instruction"),y.ns64("lamports"),Ye("seed"),Xe("programId")])}});class Mr{constructor(){}static createAccount(t){const data=mr(wr.Create,{lamports:t.lamports,space:t.space,programId:_(t.programId.toBuffer())});return new sr({keys:[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!0,isWritable:!0}],programId:this.programId,data:data})}static transfer(t){let data,e;if("basePubkey"in t){data=mr(wr.TransferWithSeed,{lamports:t.lamports,seed:t.seed,programId:_(t.programId.toBuffer())}),e=[{pubkey:t.fromPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}else{data=mr(wr.Transfer,{lamports:t.lamports}),e=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0}]}return new sr({keys:e,programId:this.programId,data:data})}static assign(t){let data,e;if("basePubkey"in t){data=mr(wr.AssignWithSeed,{base:_(t.basePubkey.toBuffer()),seed:t.seed,programId:_(t.programId.toBuffer())}),e=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{data=mr(wr.Assign,{programId:_(t.programId.toBuffer())}),e=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new sr({keys:e,programId:this.programId,data:data})}static createAccountWithSeed(t){const data=mr(wr.CreateWithSeed,{base:_(t.basePubkey.toBuffer()),seed:t.seed,lamports:t.lamports,space:t.space,programId:_(t.programId.toBuffer())});let e=[{pubkey:t.fromPubkey,isSigner:!0,isWritable:!0},{pubkey:t.newAccountPubkey,isSigner:!1,isWritable:!0}];return t.basePubkey!=t.fromPubkey&&e.push({pubkey:t.basePubkey,isSigner:!0,isWritable:!1}),new sr({keys:e,programId:this.programId,data:data})}static createNonceAccount(t){const e=new ar;"basePubkey"in t&&"seed"in t?e.add(Mr.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:vr,programId:this.programId})):e.add(Mr.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.noncePubkey,lamports:t.lamports,space:vr,programId:this.programId}));const r={noncePubkey:t.noncePubkey,authorizedPubkey:t.authorizedPubkey};return e.add(this.nonceInitialize(r)),e}static nonceInitialize(t){const data=mr(wr.InitializeNonceAccount,{authorized:_(t.authorizedPubkey.toBuffer())}),e={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:cr,isSigner:!1,isWritable:!1},{pubkey:lr,isSigner:!1,isWritable:!1}],programId:this.programId,data:data};return new sr(e)}static nonceAdvance(t){const data=mr(wr.AdvanceNonceAccount),e={keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:cr,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:data};return new sr(e)}static nonceWithdraw(t){const data=mr(wr.WithdrawNonceAccount,{lamports:t.lamports});return new sr({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.toPubkey,isSigner:!1,isWritable:!0},{pubkey:cr,isSigner:!1,isWritable:!1},{pubkey:lr,isSigner:!1,isWritable:!1},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:data})}static nonceAuthorize(t){const data=mr(wr.AuthorizeNonceAccount,{authorized:_(t.newAuthorizedPubkey.toBuffer())});return new sr({keys:[{pubkey:t.noncePubkey,isSigner:!1,isWritable:!0},{pubkey:t.authorizedPubkey,isSigner:!0,isWritable:!1}],programId:this.programId,data:data})}static allocate(t){let data,e;if("basePubkey"in t){data=mr(wr.AllocateWithSeed,{base:_(t.basePubkey.toBuffer()),seed:t.seed,space:t.space,programId:_(t.programId.toBuffer())}),e=[{pubkey:t.accountPubkey,isSigner:!1,isWritable:!0},{pubkey:t.basePubkey,isSigner:!0,isWritable:!1}]}else{data=mr(wr.Allocate,{space:t.space}),e=[{pubkey:t.accountPubkey,isSigner:!0,isWritable:!0}]}return new sr({keys:e,programId:this.programId,data:data})}}Mr.programId=new He("11111111111111111111111111111111");const Or=or-300;class jr{constructor(){}static getMinNumSignatures(t){return 2*(Math.ceil(t/jr.chunkSize)+1+1)}static async load(t,e,r,n,data){{const o=await t.getMinimumBalanceForRentExemption(data.length),h=await t.getAccountInfo(r.publicKey,"confirmed");let c=null;if(null!==h){if(h.executable)return console.error("Program load failed, account is already executable"),!1;h.data.length!==data.length&&(c=c||new ar,c.add(Mr.allocate({accountPubkey:r.publicKey,space:data.length}))),h.owner.equals(n)||(c=c||new ar,c.add(Mr.assign({accountPubkey:r.publicKey,programId:n}))),h.lamports<o&&(c=c||new ar,c.add(Mr.transfer({fromPubkey:e.publicKey,toPubkey:r.publicKey,lamports:o-h.lamports})))}else c=(new ar).add(Mr.createAccount({fromPubkey:e.publicKey,newAccountPubkey:r.publicKey,lamports:o>0?o:1,space:data.length,programId:n}));null!==c&&await fr(t,c,[e,r],{commitment:"confirmed"})}const o=y.struct([y.u32("instruction"),y.u32("offset"),y.u32("bytesLength"),y.u32("bytesLengthPadding"),y.seq(y.u8("byte"),y.offset(y.u32(),-8),"bytes")]),c=jr.chunkSize;let l=0,d=data,f=[];for(;d.length>0;){const m=d.slice(0,c),data=h.Buffer.alloc(c+16);o.encode({instruction:0,offset:l,bytes:m,bytesLength:0,bytesLengthPadding:0},data);const y=(new ar).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0}],programId:n,data:data});if(f.push(fr(t,y,[e,r],{commitment:"confirmed"})),t._rpcEndpoint.includes("solana.com")){const t=4;await pr(1e3/t)}l+=c,d=d.slice(c)}await Promise.all(f);{const o=y.struct([y.u32("instruction")]),data=h.Buffer.alloc(o.span);o.encode({instruction:1},data);const c=(new ar).add({keys:[{pubkey:r.publicKey,isSigner:!0,isWritable:!0},{pubkey:lr,isSigner:!1,isWritable:!1}],programId:n,data:data});await fr(t,c,[e,r],{commitment:"confirmed"})}return!0}}jr.chunkSize=Or;new He("BPFLoader2111111111111111111111111111111111");var _r={exports:{}};!function(t,e){var r="undefined"!=typeof self?self:k,n=function(){function t(){this.fetch=!1,this.DOMException=r.DOMException}return t.prototype=r,new t}();!function(t){!function(e){var r="URLSearchParams"in t,n="Symbol"in t&&"iterator"in Symbol,o="FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),h="FormData"in t,c="ArrayBuffer"in t;if(c)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(t){return t&&l.indexOf(Object.prototype.toString.call(t))>-1};function f(t){if("string"!=typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function m(t){return"string"!=typeof t&&(t=String(t)),t}function y(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return n&&(e[Symbol.iterator]=function(){return e}),e}function v(t){this.map={},t instanceof v?t.forEach((function(t,e){this.append(e,t)}),this):Array.isArray(t)?t.forEach((function(header){this.append(header[0],header[1])}),this):t&&Object.getOwnPropertyNames(t).forEach((function(e){this.append(e,t[e])}),this)}function w(body){if(body.bodyUsed)return Promise.reject(new TypeError("Already read"));body.bodyUsed=!0}function M(t){return new Promise((function(e,r){t.onload=function(){e(t.result)},t.onerror=function(){r(t.error)}}))}function O(t){var e=new FileReader,r=M(e);return e.readAsArrayBuffer(t),r}function j(t){if(t.slice)return t.slice(0);var view=new Uint8Array(t.byteLength);return view.set(new Uint8Array(t)),view.buffer}function _(){return this.bodyUsed=!1,this._initBody=function(body){var t;this._bodyInit=body,body?"string"==typeof body?this._bodyText=body:o&&Blob.prototype.isPrototypeOf(body)?this._bodyBlob=body:h&&FormData.prototype.isPrototypeOf(body)?this._bodyFormData=body:r&&URLSearchParams.prototype.isPrototypeOf(body)?this._bodyText=body.toString():c&&o&&((t=body)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=j(body.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(body)||d(body))?this._bodyArrayBuffer=j(body):this._bodyText=body=Object.prototype.toString.call(body):this._bodyText="",this.headers.get("content-type")||("string"==typeof body?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):r&&URLSearchParams.prototype.isPrototypeOf(body)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var t=w(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?w(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(O)}),this.text=function(){var t,e,r,n=w(this);if(n)return n;if(this._bodyBlob)return t=this._bodyBlob,e=new FileReader,r=M(e),e.readAsText(t),r;if(this._bodyArrayBuffer)return Promise.resolve(function(t){for(var view=new Uint8Array(t),e=new Array(view.length),i=0;i<view.length;i++)e[i]=String.fromCharCode(view[i]);return e.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},h&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}v.prototype.append=function(t,e){t=f(t),e=m(e);var r=this.map[t];this.map[t]=r?r+", "+e:e},v.prototype.delete=function(t){delete this.map[f(t)]},v.prototype.get=function(t){return t=f(t),this.has(t)?this.map[t]:null},v.prototype.has=function(t){return this.map.hasOwnProperty(f(t))},v.prototype.set=function(t,e){this.map[f(t)]=m(e)},v.prototype.forEach=function(t,e){for(var r in this.map)this.map.hasOwnProperty(r)&&t.call(e,this.map[r],r,this)},v.prototype.keys=function(){var t=[];return this.forEach((function(e,r){t.push(r)})),y(t)},v.prototype.values=function(){var t=[];return this.forEach((function(e){t.push(e)})),y(t)},v.prototype.entries=function(){var t=[];return this.forEach((function(e,r){t.push([r,e])})),y(t)},n&&(v.prototype[Symbol.iterator]=v.prototype.entries);var k=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function S(input,t){var e,r,body=(t=t||{}).body;if(input instanceof S){if(input.bodyUsed)throw new TypeError("Already read");this.url=input.url,this.credentials=input.credentials,t.headers||(this.headers=new v(input.headers)),this.method=input.method,this.mode=input.mode,this.signal=input.signal,body||null==input._bodyInit||(body=input._bodyInit,input.bodyUsed=!0)}else this.url=String(input);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new v(t.headers)),this.method=(e=t.method||this.method||"GET",r=e.toUpperCase(),k.indexOf(r)>-1?r:e),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(body)}function E(body){var form=new FormData;return body.trim().split("&").forEach((function(t){if(t){var e=t.split("="),r=e.shift().replace(/\+/g," "),n=e.join("=").replace(/\+/g," ");form.append(decodeURIComponent(r),decodeURIComponent(n))}})),form}function A(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new v(e.headers),this.url=e.url||"",this._initBody(t)}S.prototype.clone=function(){return new S(this,{body:this._bodyInit})},_.call(S.prototype),_.call(A.prototype),A.prototype.clone=function(){return new A(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new v(this.headers),url:this.url})},A.error=function(){var t=new A(null,{status:0,statusText:""});return t.type="error",t};var I=[301,302,303,307,308];A.redirect=function(t,e){if(-1===I.indexOf(e))throw new RangeError("Invalid status code");return new A(null,{status:e,headers:{location:t}})},e.DOMException=t.DOMException;try{new e.DOMException}catch(t){e.DOMException=function(t,e){this.message=t,this.name=e;var r=Error(t);this.stack=r.stack},e.DOMException.prototype=Object.create(Error.prototype),e.DOMException.prototype.constructor=e.DOMException}function P(input,t){return new Promise((function(r,n){var h=new S(input,t);if(h.signal&&h.signal.aborted)return n(new e.DOMException("Aborted","AbortError"));var c=new XMLHttpRequest;function l(){c.abort()}c.onload=function(){var t,e,n={status:c.status,statusText:c.statusText,headers:(t=c.getAllResponseHeaders()||"",e=new v,t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(line){var t=line.split(":"),r=t.shift().trim();if(r){var n=t.join(":").trim();e.append(r,n)}})),e)};n.url="responseURL"in c?c.responseURL:n.headers.get("X-Request-URL");var body="response"in c?c.response:c.responseText;r(new A(body,n))},c.onerror=function(){n(new TypeError("Network request failed"))},c.ontimeout=function(){n(new TypeError("Network request failed"))},c.onabort=function(){n(new e.DOMException("Aborted","AbortError"))},c.open(h.method,h.url,!0),"include"===h.credentials?c.withCredentials=!0:"omit"===h.credentials&&(c.withCredentials=!1),"responseType"in c&&o&&(c.responseType="blob"),h.headers.forEach((function(t,e){c.setRequestHeader(e,t)})),h.signal&&(h.signal.addEventListener("abort",l),c.onreadystatechange=function(){4===c.readyState&&h.signal.removeEventListener("abort",l)}),c.send(void 0===h._bodyInit?null:h._bodyInit)}))}P.polyfill=!0,t.fetch||(t.fetch=P,t.Headers=v,t.Request=S,t.Response=A),e.Headers=v,e.Request=S,e.Response=A,e.fetch=P,Object.defineProperty(e,"__esModule",{value:!0})}({})}(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var o=n;(e=o.fetch).default=o.fetch,e.fetch=o.fetch,e.Headers=o.Headers,e.Request=o.Request,e.Response=o.Response,t.exports=e}(_r,_r.exports);Error;const kr=Object(v.e)(Object(v.g)(He),Object(v.m)(),(t=>new He(t))),Sr=Object(v.n)([Object(v.m)(),Object(v.h)("base64")]),Er=Object(v.e)(Object(v.g)(h.Buffer),Sr,(t=>h.Buffer.from(t[0],"base64")));function Ar(t){return Object(v.p)([Object(v.o)({jsonrpc:Object(v.h)("2.0"),id:Object(v.m)(),result:t}),Object(v.o)({jsonrpc:Object(v.h)("2.0"),id:Object(v.m)(),error:Object(v.o)({code:Object(v.q)(),message:Object(v.m)(),data:Object(v.k)(Object(v.a)())})})])}const Ir=Ar(Object(v.q)());function Pr(t){return Object(v.e)(Ar(t),Ir,(e=>"error"in e?e:{...e,result:Object(v.f)(e.result,t)}))}function xr(t){return Pr(Object(v.o)({context:Object(v.o)({slot:Object(v.j)()}),value:t}))}function Tr(t){return Object(v.o)({context:Object(v.o)({slot:Object(v.j)()}),value:t})}const Rr=Object(v.o)({foundation:Object(v.j)(),foundationTerm:Object(v.j)(),initial:Object(v.j)(),taper:Object(v.j)(),terminal:Object(v.j)()}),Br=(Pr(Object(v.b)(Object(v.i)(Object(v.o)({epoch:Object(v.j)(),effectiveSlot:Object(v.j)(),amount:Object(v.j)(),postBalance:Object(v.j)()})))),Object(v.o)({epoch:Object(v.j)(),slotIndex:Object(v.j)(),slotsInEpoch:Object(v.j)(),absoluteSlot:Object(v.j)(),blockHeight:Object(v.k)(Object(v.j)()),transactionCount:Object(v.k)(Object(v.j)())})),Cr=Object(v.o)({slotsPerEpoch:Object(v.j)(),leaderScheduleSlotOffset:Object(v.j)(),warmup:Object(v.d)(),firstNormalEpoch:Object(v.j)(),firstNormalSlot:Object(v.j)()}),Nr=Object(v.l)(Object(v.m)(),Object(v.b)(Object(v.j)())),Ur=Object(v.i)(Object(v.p)([Object(v.o)({}),Object(v.m)()])),Lr=Object(v.o)({err:Ur}),zr=Object(v.h)("receivedSignature");Object(v.o)({"solana-core":Object(v.m)(),"feature-set":Object(v.k)(Object(v.j)())}),xr(Object(v.o)({err:Object(v.i)(Object(v.p)([Object(v.o)({}),Object(v.m)()])),logs:Object(v.i)(Object(v.b)(Object(v.m)())),accounts:Object(v.k)(Object(v.i)(Object(v.b)(Object(v.i)(Object(v.o)({executable:Object(v.d)(),owner:Object(v.m)(),lamports:Object(v.j)(),data:Object(v.b)(Object(v.m)()),rentEpoch:Object(v.k)(Object(v.j)())}))))),unitsConsumed:Object(v.k)(Object(v.j)())})),xr(Object(v.o)({byIdentity:Object(v.l)(Object(v.m)(),Object(v.b)(Object(v.j)())),range:Object(v.o)({firstSlot:Object(v.j)(),lastSlot:Object(v.j)()})}));Pr(Rr),Pr(Br),Pr(Cr),Pr(Nr),Pr(Object(v.j)()),xr(Object(v.o)({total:Object(v.j)(),circulating:Object(v.j)(),nonCirculating:Object(v.j)(),nonCirculatingAccounts:Object(v.b)(kr)}));const qr=Object(v.o)({amount:Object(v.m)(),uiAmount:Object(v.i)(Object(v.j)()),decimals:Object(v.j)(),uiAmountString:Object(v.k)(Object(v.m)())}),Dr=(xr(Object(v.b)(Object(v.o)({address:kr,amount:Object(v.m)(),uiAmount:Object(v.i)(Object(v.j)()),decimals:Object(v.j)(),uiAmountString:Object(v.k)(Object(v.m)())}))),xr(Object(v.b)(Object(v.o)({pubkey:kr,account:Object(v.o)({executable:Object(v.d)(),owner:kr,lamports:Object(v.j)(),data:Er,rentEpoch:Object(v.j)()})}))),Object(v.o)({program:Object(v.m)(),parsed:Object(v.q)(),space:Object(v.j)()})),Wr=(xr(Object(v.b)(Object(v.o)({pubkey:kr,account:Object(v.o)({executable:Object(v.d)(),owner:kr,lamports:Object(v.j)(),data:Dr,rentEpoch:Object(v.j)()})}))),xr(Object(v.b)(Object(v.o)({lamports:Object(v.j)(),address:kr}))),Object(v.o)({executable:Object(v.d)(),owner:kr,lamports:Object(v.j)(),data:Er,rentEpoch:Object(v.j)()})),Kr=(Object(v.o)({pubkey:kr,account:Wr}),Object(v.e)(Object(v.p)([Object(v.g)(h.Buffer),Dr]),Object(v.p)([Sr,Dr]),(t=>Array.isArray(t)?Object(v.f)(t,Er):t))),Fr=Object(v.o)({executable:Object(v.d)(),owner:kr,lamports:Object(v.j)(),data:Kr,rentEpoch:Object(v.j)()}),Hr=(Object(v.o)({pubkey:kr,account:Fr}),Object(v.o)({state:Object(v.p)([Object(v.h)("active"),Object(v.h)("inactive"),Object(v.h)("activating"),Object(v.h)("deactivating")]),active:Object(v.j)(),inactive:Object(v.j)()}),Pr(Object(v.b)(Object(v.o)({signature:Object(v.m)(),slot:Object(v.j)(),err:Ur,memo:Object(v.i)(Object(v.m)()),blockTime:Object(v.k)(Object(v.i)(Object(v.j)()))}))),Pr(Object(v.b)(Object(v.o)({signature:Object(v.m)(),slot:Object(v.j)(),err:Ur,memo:Object(v.i)(Object(v.m)()),blockTime:Object(v.k)(Object(v.i)(Object(v.j)()))}))),Object(v.o)({subscription:Object(v.j)(),result:Tr(Wr)}),Object(v.o)({pubkey:kr,account:Wr})),Vr=(Object(v.o)({subscription:Object(v.j)(),result:Tr(Hr)}),Object(v.o)({parent:Object(v.j)(),slot:Object(v.j)(),root:Object(v.j)()})),Gr=(Object(v.o)({subscription:Object(v.j)(),result:Vr}),Object(v.p)([Object(v.o)({type:Object(v.p)([Object(v.h)("firstShredReceived"),Object(v.h)("completed"),Object(v.h)("optimisticConfirmation"),Object(v.h)("root")]),slot:Object(v.j)(),timestamp:Object(v.j)()}),Object(v.o)({type:Object(v.h)("createdBank"),parent:Object(v.j)(),slot:Object(v.j)(),timestamp:Object(v.j)()}),Object(v.o)({type:Object(v.h)("frozen"),slot:Object(v.j)(),timestamp:Object(v.j)(),stats:Object(v.o)({numTransactionEntries:Object(v.j)(),numSuccessfulTransactions:Object(v.j)(),numFailedTransactions:Object(v.j)(),maxTransactionsPerEntry:Object(v.j)()})}),Object(v.o)({type:Object(v.h)("dead"),slot:Object(v.j)(),timestamp:Object(v.j)(),err:Object(v.m)()})])),Zr=(Object(v.o)({subscription:Object(v.j)(),result:Gr}),Object(v.o)({subscription:Object(v.j)(),result:Tr(Object(v.p)([Lr,zr]))}),Object(v.o)({subscription:Object(v.j)(),result:Object(v.j)()}),Object(v.o)({pubkey:Object(v.m)(),gossip:Object(v.i)(Object(v.m)()),tpu:Object(v.i)(Object(v.m)()),rpc:Object(v.i)(Object(v.m)()),version:Object(v.i)(Object(v.m)())}),Object(v.o)({votePubkey:Object(v.m)(),nodePubkey:Object(v.m)(),activatedStake:Object(v.j)(),epochVoteAccount:Object(v.d)(),epochCredits:Object(v.b)(Object(v.n)([Object(v.j)(),Object(v.j)(),Object(v.j)()])),commission:Object(v.j)(),lastVote:Object(v.j)(),rootSlot:Object(v.i)(Object(v.j)())})),$r=(Pr(Object(v.o)({current:Object(v.b)(Zr),delinquent:Object(v.b)(Zr)})),Object(v.p)([Object(v.h)("processed"),Object(v.h)("confirmed"),Object(v.h)("finalized")])),Jr=Object(v.o)({slot:Object(v.j)(),confirmations:Object(v.i)(Object(v.j)()),err:Ur,confirmationStatus:Object(v.k)($r)}),Xr=(xr(Object(v.b)(Object(v.i)(Jr))),Pr(Object(v.j)()),Object(v.o)({signatures:Object(v.b)(Object(v.m)()),message:Object(v.o)({accountKeys:Object(v.b)(Object(v.m)()),header:Object(v.o)({numRequiredSignatures:Object(v.j)(),numReadonlySignedAccounts:Object(v.j)(),numReadonlyUnsignedAccounts:Object(v.j)()}),instructions:Object(v.b)(Object(v.o)({accounts:Object(v.b)(Object(v.j)()),data:Object(v.m)(),programIdIndex:Object(v.j)()})),recentBlockhash:Object(v.m)()})})),Yr=Object(v.o)({parsed:Object(v.q)(),program:Object(v.m)(),programId:kr}),Qr=Object(v.o)({accounts:Object(v.b)(kr),data:Object(v.m)(),programId:kr}),ti=Object(v.p)([Qr,Yr]),ei=Object(v.p)([Object(v.o)({parsed:Object(v.q)(),program:Object(v.m)(),programId:Object(v.m)()}),Object(v.o)({accounts:Object(v.b)(Object(v.m)()),data:Object(v.m)(),programId:Object(v.m)()})]),ri=Object(v.e)(ti,ei,(t=>"accounts"in t?Object(v.f)(t,Qr):Object(v.f)(t,Yr))),ii=Object(v.o)({signatures:Object(v.b)(Object(v.m)()),message:Object(v.o)({accountKeys:Object(v.b)(Object(v.o)({pubkey:kr,signer:Object(v.d)(),writable:Object(v.d)()})),instructions:Object(v.b)(ri),recentBlockhash:Object(v.m)()})}),ni=Object(v.o)({accountIndex:Object(v.j)(),mint:Object(v.m)(),owner:Object(v.k)(Object(v.m)()),uiTokenAmount:qr}),oi=Object(v.o)({err:Ur,fee:Object(v.j)(),innerInstructions:Object(v.k)(Object(v.i)(Object(v.b)(Object(v.o)({index:Object(v.j)(),instructions:Object(v.b)(Object(v.o)({accounts:Object(v.b)(Object(v.j)()),data:Object(v.m)(),programIdIndex:Object(v.j)()}))})))),preBalances:Object(v.b)(Object(v.j)()),postBalances:Object(v.b)(Object(v.j)()),logMessages:Object(v.k)(Object(v.i)(Object(v.b)(Object(v.m)()))),preTokenBalances:Object(v.k)(Object(v.i)(Object(v.b)(ni))),postTokenBalances:Object(v.k)(Object(v.i)(Object(v.b)(ni)))}),si=Object(v.o)({err:Ur,fee:Object(v.j)(),innerInstructions:Object(v.k)(Object(v.i)(Object(v.b)(Object(v.o)({index:Object(v.j)(),instructions:Object(v.b)(ri)})))),preBalances:Object(v.b)(Object(v.j)()),postBalances:Object(v.b)(Object(v.j)()),logMessages:Object(v.k)(Object(v.i)(Object(v.b)(Object(v.m)()))),preTokenBalances:Object(v.k)(Object(v.i)(Object(v.b)(ni))),postTokenBalances:Object(v.k)(Object(v.i)(Object(v.b)(ni)))}),ai=(Pr(Object(v.i)(Object(v.o)({blockhash:Object(v.m)(),previousBlockhash:Object(v.m)(),parentSlot:Object(v.j)(),transactions:Object(v.b)(Object(v.o)({transaction:Xr,meta:Object(v.i)(oi)})),rewards:Object(v.k)(Object(v.b)(Object(v.o)({pubkey:Object(v.m)(),lamports:Object(v.j)(),postBalance:Object(v.i)(Object(v.j)()),rewardType:Object(v.i)(Object(v.m)())}))),blockTime:Object(v.i)(Object(v.j)()),blockHeight:Object(v.i)(Object(v.j)())}))),Pr(Object(v.i)(Object(v.o)({blockhash:Object(v.m)(),previousBlockhash:Object(v.m)(),parentSlot:Object(v.j)(),transactions:Object(v.b)(Object(v.o)({transaction:Xr,meta:Object(v.i)(oi)})),rewards:Object(v.k)(Object(v.b)(Object(v.o)({pubkey:Object(v.m)(),lamports:Object(v.j)(),postBalance:Object(v.i)(Object(v.j)()),rewardType:Object(v.i)(Object(v.m)())}))),blockTime:Object(v.i)(Object(v.j)())}))),Pr(Object(v.i)(Object(v.o)({blockhash:Object(v.m)(),previousBlockhash:Object(v.m)(),parentSlot:Object(v.j)(),signatures:Object(v.b)(Object(v.m)()),blockTime:Object(v.i)(Object(v.j)())}))),Pr(Object(v.i)(Object(v.o)({slot:Object(v.j)(),meta:oi,blockTime:Object(v.k)(Object(v.i)(Object(v.j)())),transaction:Xr}))),Pr(Object(v.i)(Object(v.o)({slot:Object(v.j)(),transaction:ii,meta:Object(v.i)(si),blockTime:Object(v.k)(Object(v.i)(Object(v.j)()))}))),xr(Object(v.o)({blockhash:Object(v.m)(),feeCalculator:Object(v.o)({lamportsPerSignature:Object(v.j)()})})),xr(Object(v.o)({blockhash:Object(v.m)(),lastValidBlockHeight:Object(v.j)()})),Object(v.o)({slot:Object(v.j)(),numTransactions:Object(v.j)(),numSlots:Object(v.j)(),samplePeriodSecs:Object(v.j)()})),ui=(Pr(Object(v.b)(ai)),xr(Object(v.i)(Object(v.o)({feeCalculator:Object(v.o)({lamportsPerSignature:Object(v.j)()})}))),Pr(Object(v.m)()),Pr(Object(v.m)()),Object(v.o)({err:Ur,logs:Object(v.b)(Object(v.m)()),signature:Object(v.m)()}));Object(v.o)({result:Tr(ui),subscription:Object(v.j)()});class hi{constructor(t){this._keypair=void 0,this._keypair=t||o.a.sign.keyPair()}static generate(){return new hi(o.a.sign.keyPair())}static fromSecretKey(t,e){const r=o.a.sign.keyPair.fromSecretKey(t);if(!e||!e.skipValidation){const t=(new TextEncoder).encode("@solana/web3.js-validation-v1"),e=o.a.sign.detached(t,r.secretKey);if(!o.a.sign.detached.verify(t,e,r.publicKey))throw new Error("provided secretKey is invalid")}return new hi(r)}static fromSeed(t){return new hi(o.a.sign.keyPair.fromSeed(t))}get publicKey(){return new He(this._keypair.publicKey)}get secretKey(){return this._keypair.secretKey}}const ci=y.struct([y.u8("numSignatures"),y.u8("padding"),y.u16("signatureOffset"),y.u16("signatureInstructionIndex"),y.u16("publicKeyOffset"),y.u16("publicKeyInstructionIndex"),y.u16("messageDataOffset"),y.u16("messageDataSize"),y.u16("messageInstructionIndex")]);class di{constructor(){}static createInstructionWithPublicKey(t){const{publicKey:e,message:r,signature:n,instructionIndex:o}=t;ir(32===e.length,`Public Key must be 32 bytes but received ${e.length} bytes`),ir(64===n.length,`Signature must be 64 bytes but received ${n.length} bytes`);const c=ci.span,l=c+e.length,d=l+n.length,f=h.Buffer.alloc(d+r.length),m=null==o?65535:o;return ci.encode({numSignatures:1,padding:0,signatureOffset:l,signatureInstructionIndex:m,publicKeyOffset:c,publicKeyInstructionIndex:m,messageDataOffset:d,messageDataSize:r.length,messageInstructionIndex:m},f),f.fill(e,c),f.fill(n,l),f.fill(r,d),new sr({keys:[],programId:di.programId,data:f})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:r,instructionIndex:n}=t;ir(64===e.length,`Private key must be 64 bytes but received ${e.length} bytes`);try{const t=hi.fromSecretKey(e),h=t.publicKey.toBytes(),c=o.a.sign.detached(r,t.secretKey);return this.createInstructionWithPublicKey({publicKey:h,message:r,signature:c,instructionIndex:n})}catch(t){throw new Error(`Error creating instruction; ${t}`)}}}di.programId=new He("Ed25519SigVerify111111111111111111111111111");const fi=new He("StakeConfig11111111111111111111111111111111");class pi{constructor(t,e,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=r}}pi.default=new pi(0,0,He.default);const mi=Object.freeze({Initialize:{index:0,layout:y.struct([y.u32("instruction"),((t="authorized")=>y.struct([Xe("staker"),Xe("withdrawer")],t))(),((t="lockup")=>y.struct([y.ns64("unixTimestamp"),y.ns64("epoch"),Xe("custodian")],t))()])},Authorize:{index:1,layout:y.struct([y.u32("instruction"),Xe("newAuthorized"),y.u32("stakeAuthorizationType")])},Delegate:{index:2,layout:y.struct([y.u32("instruction")])},Split:{index:3,layout:y.struct([y.u32("instruction"),y.ns64("lamports")])},Withdraw:{index:4,layout:y.struct([y.u32("instruction"),y.ns64("lamports")])},Deactivate:{index:5,layout:y.struct([y.u32("instruction")])},Merge:{index:7,layout:y.struct([y.u32("instruction")])},AuthorizeWithSeed:{index:8,layout:y.struct([y.u32("instruction"),Xe("newAuthorized"),y.u32("stakeAuthorizationType"),Ye("authoritySeed"),Xe("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});class gi{constructor(){}static initialize(t){const{stakePubkey:e,authorized:r,lockup:n}=t,o=n||pi.default,data=mr(mi.Initialize,{authorized:{staker:_(r.staker.toBuffer()),withdrawer:_(r.withdrawer.toBuffer())},lockup:{unixTimestamp:o.unixTimestamp,epoch:o.epoch,custodian:_(o.custodian.toBuffer())}}),h={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:lr,isSigner:!1,isWritable:!1}],programId:this.programId,data:data};return new sr(h)}static createAccountWithSeed(t){const e=new ar;e.add(Mr.createAccountWithSeed({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,basePubkey:t.basePubkey,seed:t.seed,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:o}=t;return e.add(this.initialize({stakePubkey:r,authorized:n,lockup:o}))}static createAccount(t){const e=new ar;e.add(Mr.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.stakePubkey,lamports:t.lamports,space:this.space,programId:this.programId}));const{stakePubkey:r,authorized:n,lockup:o}=t;return e.add(this.initialize({stakePubkey:r,authorized:n,lockup:o}))}static delegate(t){const{stakePubkey:e,authorizedPubkey:r,votePubkey:n}=t,data=mr(mi.Delegate);return(new ar).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!1},{pubkey:ur,isSigner:!1,isWritable:!1},{pubkey:dr,isSigner:!1,isWritable:!1},{pubkey:fi,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:data})}static authorize(t){const{stakePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:n,stakeAuthorizationType:o,custodianPubkey:h}=t,data=mr(mi.Authorize,{newAuthorized:_(n.toBuffer()),stakeAuthorizationType:o.index}),c=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:ur,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return h&&c.push({pubkey:h,isSigner:!1,isWritable:!1}),(new ar).add({keys:c,programId:this.programId,data:data})}static authorizeWithSeed(t){const{stakePubkey:e,authorityBase:r,authoritySeed:n,authorityOwner:o,newAuthorizedPubkey:h,stakeAuthorizationType:c,custodianPubkey:l}=t,data=mr(mi.AuthorizeWithSeed,{newAuthorized:_(h.toBuffer()),stakeAuthorizationType:c.index,authoritySeed:n,authorityOwner:_(o.toBuffer())}),d=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1},{pubkey:ur,isSigner:!1,isWritable:!1}];return l&&d.push({pubkey:l,isSigner:!1,isWritable:!1}),(new ar).add({keys:d,programId:this.programId,data:data})}static splitInstruction(t){const{stakePubkey:e,authorizedPubkey:r,splitStakePubkey:n,lamports:o}=t,data=mr(mi.Split,{lamports:o});return new sr({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:data})}static split(t){const e=new ar;return e.add(Mr.createAccount({fromPubkey:t.authorizedPubkey,newAccountPubkey:t.splitStakePubkey,lamports:0,space:this.space,programId:this.programId})),e.add(this.splitInstruction(t))}static splitWithSeed(t){const{stakePubkey:e,authorizedPubkey:r,splitStakePubkey:n,basePubkey:o,seed:h,lamports:c}=t,l=new ar;return l.add(Mr.allocate({accountPubkey:n,basePubkey:o,seed:h,space:this.space,programId:this.programId})),l.add(this.splitInstruction({stakePubkey:e,authorizedPubkey:r,splitStakePubkey:n,lamports:c}))}static merge(t){const{stakePubkey:e,sourceStakePubKey:r,authorizedPubkey:n}=t,data=mr(mi.Merge);return(new ar).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:ur,isSigner:!1,isWritable:!1},{pubkey:dr,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!0,isWritable:!1}],programId:this.programId,data:data})}static withdraw(t){const{stakePubkey:e,authorizedPubkey:r,toPubkey:n,lamports:o,custodianPubkey:h}=t,data=mr(mi.Withdraw,{lamports:o}),c=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:n,isSigner:!1,isWritable:!0},{pubkey:ur,isSigner:!1,isWritable:!1},{pubkey:dr,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return h&&c.push({pubkey:h,isSigner:!1,isWritable:!1}),(new ar).add({keys:c,programId:this.programId,data:data})}static deactivate(t){const{stakePubkey:e,authorizedPubkey:r}=t,data=mr(mi.Deactivate);return(new ar).add({keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:ur,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:data})}}gi.programId=new He("Stake11111111111111111111111111111111111111"),gi.space=200;const{publicKeyCreate:yi,ecdsaSign:bi}=M.a,vi=y.struct([y.u8("numSignatures"),y.u16("signatureOffset"),y.u8("signatureInstructionIndex"),y.u16("ethAddressOffset"),y.u8("ethAddressInstructionIndex"),y.u16("messageDataOffset"),y.u16("messageDataSize"),y.u8("messageInstructionIndex"),y.blob(20,"ethAddress"),y.blob(64,"signature"),y.u8("recoveryId")]);class wi{constructor(){}static publicKeyToEthAddress(t){ir(64===t.length,`Public key must be 64 bytes but received ${t.length} bytes`);try{return h.Buffer.from(j.a.keccak_256.update(_(t)).digest()).slice(-20)}catch(t){throw new Error(`Error constructing Ethereum address: ${t}`)}}static createInstructionWithPublicKey(t){const{publicKey:e,message:r,signature:n,recoveryId:o,instructionIndex:h}=t;return wi.createInstructionWithEthAddress({ethAddress:wi.publicKeyToEthAddress(e),message:r,signature:n,recoveryId:o,instructionIndex:h})}static createInstructionWithEthAddress(t){const{ethAddress:e,message:r,signature:n,recoveryId:o,instructionIndex:c=0}=t;let l;l="string"==typeof e?e.startsWith("0x")?h.Buffer.from(e.substr(2),"hex"):h.Buffer.from(e,"hex"):e,ir(20===l.length,`Address must be 20 bytes but received ${l.length} bytes`);const d=12+l.length,f=d+n.length+1,m=h.Buffer.alloc(vi.span+r.length);return vi.encode({numSignatures:1,signatureOffset:d,signatureInstructionIndex:c,ethAddressOffset:12,ethAddressInstructionIndex:c,messageDataOffset:f,messageDataSize:r.length,messageInstructionIndex:c,signature:_(n),ethAddress:_(l),recoveryId:o},m),m.fill(_(r),vi.span),new sr({keys:[],programId:wi.programId,data:m})}static createInstructionWithPrivateKey(t){const{privateKey:e,message:r,instructionIndex:n}=t;ir(32===e.length,`Private key must be 32 bytes but received ${e.length} bytes`);try{const t=_(e),o=yi(t,!1).slice(1),c=h.Buffer.from(j.a.keccak_256.update(_(r)).digest()),{signature:l,recid:d}=bi(c,t);return this.createInstructionWithPublicKey({publicKey:o,message:r,signature:l,recoveryId:d,instructionIndex:n})}catch(t){throw new Error(`Error creating instruction; ${t}`)}}}wi.programId=new He("KeccakSecp256k11111111111111111111111111111");new He("Va1idator1nfo111111111111111111111111111111"),Object(v.o)({name:Object(v.m)(),website:Object(v.k)(Object(v.m)()),details:Object(v.k)(Object(v.m)()),keybaseUsername:Object(v.k)(Object(v.m)())});new He("Vote111111111111111111111111111111111111111"),y.struct([Xe("nodePubkey"),Xe("authorizedWithdrawer"),y.u8("commission"),y.nu64(),y.seq(y.struct([y.nu64("slot"),y.u32("confirmationCount")]),y.offset(y.u32(),-8),"votes"),y.u8("rootSlotValid"),y.nu64("rootSlot"),y.nu64(),y.seq(y.struct([y.nu64("epoch"),Xe("authorizedVoter")]),y.offset(y.u32(),-8),"authorizedVoters"),y.struct([y.seq(y.struct([Xe("authorizedPubkey"),y.nu64("epochOfLastAuthorizedSwitch"),y.nu64("targetEpoch")]),32,"buf"),y.nu64("idx"),y.u8("isEmpty")],"priorVoters"),y.nu64(),y.seq(y.struct([y.nu64("epoch"),y.nu64("credits"),y.nu64("prevCredits")]),y.offset(y.u32(),-8),"epochCredits"),y.struct([y.nu64("slot"),y.nu64("timestamp")],"lastTimestamp")]);const Mi=Object.freeze({InitializeAccount:{index:0,layout:y.struct([y.u32("instruction"),((t="voteInit")=>y.struct([Xe("nodePubkey"),Xe("authorizedVoter"),Xe("authorizedWithdrawer"),y.u8("commission")],t))()])},Authorize:{index:1,layout:y.struct([y.u32("instruction"),Xe("newAuthorized"),y.u32("voteAuthorizationType")])},Withdraw:{index:3,layout:y.struct([y.u32("instruction"),y.ns64("lamports")])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});class Oi{constructor(){}static initializeAccount(t){const{votePubkey:e,nodePubkey:r,voteInit:n}=t,data=mr(Mi.InitializeAccount,{voteInit:{nodePubkey:_(n.nodePubkey.toBuffer()),authorizedVoter:_(n.authorizedVoter.toBuffer()),authorizedWithdrawer:_(n.authorizedWithdrawer.toBuffer()),commission:n.commission}}),o={keys:[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:lr,isSigner:!1,isWritable:!1},{pubkey:ur,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}],programId:this.programId,data:data};return new sr(o)}static createAccount(t){const e=new ar;return e.add(Mr.createAccount({fromPubkey:t.fromPubkey,newAccountPubkey:t.votePubkey,lamports:t.lamports,space:this.space,programId:this.programId})),e.add(this.initializeAccount({votePubkey:t.votePubkey,nodePubkey:t.voteInit.nodePubkey,voteInit:t.voteInit}))}static authorize(t){const{votePubkey:e,authorizedPubkey:r,newAuthorizedPubkey:n,voteAuthorizationType:o}=t,data=mr(Mi.Authorize,{newAuthorized:_(n.toBuffer()),voteAuthorizationType:o.index}),h=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:ur,isSigner:!1,isWritable:!1},{pubkey:r,isSigner:!0,isWritable:!1}];return(new ar).add({keys:h,programId:this.programId,data:data})}static withdraw(t){const{votePubkey:e,authorizedWithdrawerPubkey:r,lamports:n,toPubkey:o}=t,data=mr(Mi.Withdraw,{lamports:n}),h=[{pubkey:e,isSigner:!1,isWritable:!0},{pubkey:o,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!0,isWritable:!1}];return(new ar).add({keys:h,programId:this.programId,data:data})}}Oi.programId=new He("Vote111111111111111111111111111111111111111"),Oi.space=3731}).call(this,r(18))},632:function(t,e){},633:function(t,e){},636:function(t,e){},637:function(t,e,r){(function(t){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function o(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function h(t,base,e){if(h.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==base&&"be"!==base||(e=base,base=10),this._init(t||0,base||10,e||"be"))}var c;"object"==typeof t?t.exports=h:e.BN=h,h.BN=h,h.wordSize=26;try{c="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(638).Buffer}catch(t){}function l(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function d(t,e,r){var n=l(t,r);return r-1>=e&&(n|=l(t,r-1)<<4),n}function f(t,e,r,o){for(var h=0,b=0,c=Math.min(t.length,r),i=e;i<c;i++){var l=t.charCodeAt(i)-48;h*=o,b=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&b<o,"Invalid character"),h+=b}return h}function m(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(h.isBN=function(t){return t instanceof h||null!==t&&"object"==typeof t&&t.constructor.wordSize===h.wordSize&&Array.isArray(t.words)},h.max=function(t,e){return t.cmp(e)>0?t:e},h.min=function(t,e){return t.cmp(e)<0?t:e},h.prototype._init=function(t,base,e){if("number"==typeof t)return this._initNumber(t,base,e);if("object"==typeof t)return this._initArray(t,base,e);"hex"===base&&(base=16),n(base===(0|base)&&base>=2&&base<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===base?this._parseHex(t,r,e):(this._parseBase(t,base,r),"le"===e&&this._initArray(this.toArray(),base,e)))},h.prototype._initNumber=function(t,base,e){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===e&&this._initArray(this.toArray(),base,e)},h.prototype._initArray=function(t,base,e){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o,h=0;if("be"===e)for(i=t.length-1,r=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[r]|=o<<h&67108863,this.words[r+1]=o>>>26-h&67108863,(h+=24)>=26&&(h-=26,r++);else if("le"===e)for(i=0,r=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[r]|=o<<h&67108863,this.words[r+1]=o>>>26-h&67108863,(h+=24)>=26&&(h-=26,r++);return this._strip()},h.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,o=0,h=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=d(t,e,i)<<o,this.words[h]|=67108863&n,o>=18?(o-=18,h+=1,this.words[h]|=n>>>26):o+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)n=d(t,e,i)<<o,this.words[h]|=67108863&n,o>=18?(o-=18,h+=1,this.words[h]|=n>>>26):o+=8;this._strip()},h.prototype._parseBase=function(t,base,e){this.words=[0],this.length=1;for(var r=0,n=1;n<=67108863;n*=base)r++;r--,n=n/base|0;for(var o=t.length-e,h=o%r,c=Math.min(o,o-h)+e,l=0,i=e;i<c;i+=r)l=f(t,i,i+r,base),this.imuln(n),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==h){var d=1;for(l=f(t,i,t.length,base),i=0;i<h;i++)d*=base;this.imuln(d),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},h.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red},h.prototype._move=function(t){m(t,this)},h.prototype.clone=function(){var t=new h(null);return this.copy(t),t},h.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},h.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},h.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{h.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch(t){h.prototype.inspect=y}else h.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];h.prototype.toString=function(base,t){var e;if(t=0|t||1,16===(base=base||10)||"hex"===base){e="";for(var r=0,o=0,i=0;i<this.length;i++){var h=this.words[i],c=(16777215&(h<<r|o)).toString(16);e=0!==(o=h>>>24-r&16777215)||i!==this.length-1?v[6-c.length]+c+e:c+e,(r+=2)>=26&&(r-=26,i--)}for(0!==o&&(e=o.toString(16)+e);e.length%t!=0;)e="0"+e;return 0!==this.negative&&(e="-"+e),e}if(base===(0|base)&&base>=2&&base<=36){var l=w[base],d=M[base];e="";var f=this.clone();for(f.negative=0;!f.isZero();){var m=f.modrn(d).toString(base);e=(f=f.idivn(d)).isZero()?m+e:v[l-m.length]+m+e}for(this.isZero()&&(e="0"+e);e.length%t!=0;)e="0"+e;return 0!==this.negative&&(e="-"+e),e}n(!1,"Base should be between 2 and 36")},h.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},h.prototype.toJSON=function(){return this.toString(16,2)},c&&(h.prototype.toBuffer=function(t,e){return this.toArrayLike(c,t,e)}),h.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function O(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var a=0|t.words[0],b=0|e.words[0],o=a*b,h=67108863&o,c=o/67108864|0;r.words[0]=h;for(var l=1;l<n;l++){for(var d=c>>>26,f=67108863&c,m=Math.min(l,e.length-1),y=Math.max(0,l-t.length+1);y<=m;y++){var i=l-y|0;d+=(o=(a=0|t.words[i])*(b=0|e.words[y])+f)/67108864|0,f=67108863&o}r.words[l]=0|f,c=0|d}return 0!==c?r.words[l]=0|c:r.length--,r._strip()}h.prototype.toArrayLike=function(t,e,r){this._strip();var o=this.byteLength(),h=r||Math.max(1,o);n(o<=h,"byte array longer than desired length"),n(h>0,"Requested array length <= 0");var c=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,h);return this["_toArrayLike"+("le"===e?"LE":"BE")](c,o),c},h.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var h=this.words[i]<<o|n;t[r++]=255&h,r<t.length&&(t[r++]=h>>8&255),r<t.length&&(t[r++]=h>>16&255),6===o?(r<t.length&&(t[r++]=h>>24&255),n=0,o=0):(n=h>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},h.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var h=this.words[i]<<o|n;t[r--]=255&h,r>=0&&(t[r--]=h>>8&255),r>=0&&(t[r--]=h>>16&255),6===o?(r>=0&&(t[r--]=h>>24&255),n=0,o=0):(n=h>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?h.prototype._countBits=function(t){return 32-Math.clz32(t)}:h.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},h.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},h.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var b=this._zeroBits(this.words[i]);if(t+=b,26!==b)break}return t},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},h.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return 0!==this.negative},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this._strip()},h.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},h.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},h.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},h.prototype.iuand=function(t){var b;b=this.length>t.length?t:this;for(var i=0;i<b.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=b.length,this._strip()},h.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},h.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},h.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},h.prototype.iuxor=function(t){var a,b;this.length>t.length?(a=this,b=t):(a=t,b=this);for(var i=0;i<b.length;i++)this.words[i]=a.words[i]^b.words[i];if(this!==a)for(;i<a.length;i++)this.words[i]=a.words[i];return this.length=a.length,this._strip()},h.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},h.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},h.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},h.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},h.prototype.notn=function(t){return this.clone().inotn(t)},h.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,o=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<o:this.words[r]&~(1<<o),this._strip()},h.prototype.iadd=function(t){var e,a,b;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(a=this,b=t):(a=t,b=this);for(var r=0,i=0;i<b.length;i++)e=(0|a.words[i])+(0|b.words[i])+r,this.words[i]=67108863&e,r=e>>>26;for(;0!==r&&i<a.length;i++)e=(0|a.words[i])+r,this.words[i]=67108863&e,r=e>>>26;if(this.length=a.length,0!==r)this.words[this.length]=r,this.length++;else if(a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this},h.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},h.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var a,b,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(a=this,b=t):(a=t,b=this);for(var n=0,i=0;i<b.length;i++)n=(e=(0|a.words[i])-(0|b.words[i])+n)>>26,this.words[i]=67108863&e;for(;0!==n&&i<a.length;i++)n=(e=(0|a.words[i])+n)>>26,this.words[i]=67108863&e;if(0===n&&i<a.length&&a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this.length=Math.max(this.length,i),a!==this&&(this.negative=1),this._strip()},h.prototype.sub=function(t){return this.clone().isub(t)};var j=function(t,e,r){var n,o,h,a=t.words,b=e.words,c=r.words,l=0,d=0|a[0],f=8191&d,m=d>>>13,y=0|a[1],v=8191&y,w=y>>>13,M=0|a[2],O=8191&M,j=M>>>13,_=0|a[3],k=8191&_,S=_>>>13,E=0|a[4],A=8191&E,I=E>>>13,P=0|a[5],x=8191&P,T=P>>>13,R=0|a[6],B=8191&R,C=R>>>13,N=0|a[7],U=8191&N,L=N>>>13,z=0|a[8],D=8191&z,W=z>>>13,K=0|a[9],F=8191&K,H=K>>>13,V=0|b[0],G=8191&V,Z=V>>>13,$=0|b[1],J=8191&$,X=$>>>13,Y=0|b[2],Q=8191&Y,tt=Y>>>13,et=0|b[3],it=8191&et,nt=et>>>13,ot=0|b[4],st=8191&ot,at=ot>>>13,ut=0|b[5],ht=8191&ut,ct=ut>>>13,lt=0|b[6],ft=8191&lt,pt=lt>>>13,mt=0|b[7],gt=8191&mt,yt=mt>>>13,bt=0|b[8],vt=8191&bt,wt=bt>>>13,Mt=0|b[9],Ot=8191&Mt,jt=Mt>>>13;r.negative=t.negative^e.negative,r.length=19;var _t=(l+(n=Math.imul(f,G))|0)+((8191&(o=(o=Math.imul(f,Z))+Math.imul(m,G)|0))<<13)|0;l=((h=Math.imul(m,Z))+(o>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(v,G),o=(o=Math.imul(v,Z))+Math.imul(w,G)|0,h=Math.imul(w,Z);var kt=(l+(n=n+Math.imul(f,J)|0)|0)+((8191&(o=(o=o+Math.imul(f,X)|0)+Math.imul(m,J)|0))<<13)|0;l=((h=h+Math.imul(m,X)|0)+(o>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(O,G),o=(o=Math.imul(O,Z))+Math.imul(j,G)|0,h=Math.imul(j,Z),n=n+Math.imul(v,J)|0,o=(o=o+Math.imul(v,X)|0)+Math.imul(w,J)|0,h=h+Math.imul(w,X)|0;var St=(l+(n=n+Math.imul(f,Q)|0)|0)+((8191&(o=(o=o+Math.imul(f,tt)|0)+Math.imul(m,Q)|0))<<13)|0;l=((h=h+Math.imul(m,tt)|0)+(o>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(k,G),o=(o=Math.imul(k,Z))+Math.imul(S,G)|0,h=Math.imul(S,Z),n=n+Math.imul(O,J)|0,o=(o=o+Math.imul(O,X)|0)+Math.imul(j,J)|0,h=h+Math.imul(j,X)|0,n=n+Math.imul(v,Q)|0,o=(o=o+Math.imul(v,tt)|0)+Math.imul(w,Q)|0,h=h+Math.imul(w,tt)|0;var Et=(l+(n=n+Math.imul(f,it)|0)|0)+((8191&(o=(o=o+Math.imul(f,nt)|0)+Math.imul(m,it)|0))<<13)|0;l=((h=h+Math.imul(m,nt)|0)+(o>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(A,G),o=(o=Math.imul(A,Z))+Math.imul(I,G)|0,h=Math.imul(I,Z),n=n+Math.imul(k,J)|0,o=(o=o+Math.imul(k,X)|0)+Math.imul(S,J)|0,h=h+Math.imul(S,X)|0,n=n+Math.imul(O,Q)|0,o=(o=o+Math.imul(O,tt)|0)+Math.imul(j,Q)|0,h=h+Math.imul(j,tt)|0,n=n+Math.imul(v,it)|0,o=(o=o+Math.imul(v,nt)|0)+Math.imul(w,it)|0,h=h+Math.imul(w,nt)|0;var At=(l+(n=n+Math.imul(f,st)|0)|0)+((8191&(o=(o=o+Math.imul(f,at)|0)+Math.imul(m,st)|0))<<13)|0;l=((h=h+Math.imul(m,at)|0)+(o>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(x,G),o=(o=Math.imul(x,Z))+Math.imul(T,G)|0,h=Math.imul(T,Z),n=n+Math.imul(A,J)|0,o=(o=o+Math.imul(A,X)|0)+Math.imul(I,J)|0,h=h+Math.imul(I,X)|0,n=n+Math.imul(k,Q)|0,o=(o=o+Math.imul(k,tt)|0)+Math.imul(S,Q)|0,h=h+Math.imul(S,tt)|0,n=n+Math.imul(O,it)|0,o=(o=o+Math.imul(O,nt)|0)+Math.imul(j,it)|0,h=h+Math.imul(j,nt)|0,n=n+Math.imul(v,st)|0,o=(o=o+Math.imul(v,at)|0)+Math.imul(w,st)|0,h=h+Math.imul(w,at)|0;var It=(l+(n=n+Math.imul(f,ht)|0)|0)+((8191&(o=(o=o+Math.imul(f,ct)|0)+Math.imul(m,ht)|0))<<13)|0;l=((h=h+Math.imul(m,ct)|0)+(o>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,G),o=(o=Math.imul(B,Z))+Math.imul(C,G)|0,h=Math.imul(C,Z),n=n+Math.imul(x,J)|0,o=(o=o+Math.imul(x,X)|0)+Math.imul(T,J)|0,h=h+Math.imul(T,X)|0,n=n+Math.imul(A,Q)|0,o=(o=o+Math.imul(A,tt)|0)+Math.imul(I,Q)|0,h=h+Math.imul(I,tt)|0,n=n+Math.imul(k,it)|0,o=(o=o+Math.imul(k,nt)|0)+Math.imul(S,it)|0,h=h+Math.imul(S,nt)|0,n=n+Math.imul(O,st)|0,o=(o=o+Math.imul(O,at)|0)+Math.imul(j,st)|0,h=h+Math.imul(j,at)|0,n=n+Math.imul(v,ht)|0,o=(o=o+Math.imul(v,ct)|0)+Math.imul(w,ht)|0,h=h+Math.imul(w,ct)|0;var Pt=(l+(n=n+Math.imul(f,ft)|0)|0)+((8191&(o=(o=o+Math.imul(f,pt)|0)+Math.imul(m,ft)|0))<<13)|0;l=((h=h+Math.imul(m,pt)|0)+(o>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(U,G),o=(o=Math.imul(U,Z))+Math.imul(L,G)|0,h=Math.imul(L,Z),n=n+Math.imul(B,J)|0,o=(o=o+Math.imul(B,X)|0)+Math.imul(C,J)|0,h=h+Math.imul(C,X)|0,n=n+Math.imul(x,Q)|0,o=(o=o+Math.imul(x,tt)|0)+Math.imul(T,Q)|0,h=h+Math.imul(T,tt)|0,n=n+Math.imul(A,it)|0,o=(o=o+Math.imul(A,nt)|0)+Math.imul(I,it)|0,h=h+Math.imul(I,nt)|0,n=n+Math.imul(k,st)|0,o=(o=o+Math.imul(k,at)|0)+Math.imul(S,st)|0,h=h+Math.imul(S,at)|0,n=n+Math.imul(O,ht)|0,o=(o=o+Math.imul(O,ct)|0)+Math.imul(j,ht)|0,h=h+Math.imul(j,ct)|0,n=n+Math.imul(v,ft)|0,o=(o=o+Math.imul(v,pt)|0)+Math.imul(w,ft)|0,h=h+Math.imul(w,pt)|0;var xt=(l+(n=n+Math.imul(f,gt)|0)|0)+((8191&(o=(o=o+Math.imul(f,yt)|0)+Math.imul(m,gt)|0))<<13)|0;l=((h=h+Math.imul(m,yt)|0)+(o>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,G),o=(o=Math.imul(D,Z))+Math.imul(W,G)|0,h=Math.imul(W,Z),n=n+Math.imul(U,J)|0,o=(o=o+Math.imul(U,X)|0)+Math.imul(L,J)|0,h=h+Math.imul(L,X)|0,n=n+Math.imul(B,Q)|0,o=(o=o+Math.imul(B,tt)|0)+Math.imul(C,Q)|0,h=h+Math.imul(C,tt)|0,n=n+Math.imul(x,it)|0,o=(o=o+Math.imul(x,nt)|0)+Math.imul(T,it)|0,h=h+Math.imul(T,nt)|0,n=n+Math.imul(A,st)|0,o=(o=o+Math.imul(A,at)|0)+Math.imul(I,st)|0,h=h+Math.imul(I,at)|0,n=n+Math.imul(k,ht)|0,o=(o=o+Math.imul(k,ct)|0)+Math.imul(S,ht)|0,h=h+Math.imul(S,ct)|0,n=n+Math.imul(O,ft)|0,o=(o=o+Math.imul(O,pt)|0)+Math.imul(j,ft)|0,h=h+Math.imul(j,pt)|0,n=n+Math.imul(v,gt)|0,o=(o=o+Math.imul(v,yt)|0)+Math.imul(w,gt)|0,h=h+Math.imul(w,yt)|0;var Tt=(l+(n=n+Math.imul(f,vt)|0)|0)+((8191&(o=(o=o+Math.imul(f,wt)|0)+Math.imul(m,vt)|0))<<13)|0;l=((h=h+Math.imul(m,wt)|0)+(o>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(F,G),o=(o=Math.imul(F,Z))+Math.imul(H,G)|0,h=Math.imul(H,Z),n=n+Math.imul(D,J)|0,o=(o=o+Math.imul(D,X)|0)+Math.imul(W,J)|0,h=h+Math.imul(W,X)|0,n=n+Math.imul(U,Q)|0,o=(o=o+Math.imul(U,tt)|0)+Math.imul(L,Q)|0,h=h+Math.imul(L,tt)|0,n=n+Math.imul(B,it)|0,o=(o=o+Math.imul(B,nt)|0)+Math.imul(C,it)|0,h=h+Math.imul(C,nt)|0,n=n+Math.imul(x,st)|0,o=(o=o+Math.imul(x,at)|0)+Math.imul(T,st)|0,h=h+Math.imul(T,at)|0,n=n+Math.imul(A,ht)|0,o=(o=o+Math.imul(A,ct)|0)+Math.imul(I,ht)|0,h=h+Math.imul(I,ct)|0,n=n+Math.imul(k,ft)|0,o=(o=o+Math.imul(k,pt)|0)+Math.imul(S,ft)|0,h=h+Math.imul(S,pt)|0,n=n+Math.imul(O,gt)|0,o=(o=o+Math.imul(O,yt)|0)+Math.imul(j,gt)|0,h=h+Math.imul(j,yt)|0,n=n+Math.imul(v,vt)|0,o=(o=o+Math.imul(v,wt)|0)+Math.imul(w,vt)|0,h=h+Math.imul(w,wt)|0;var Rt=(l+(n=n+Math.imul(f,Ot)|0)|0)+((8191&(o=(o=o+Math.imul(f,jt)|0)+Math.imul(m,Ot)|0))<<13)|0;l=((h=h+Math.imul(m,jt)|0)+(o>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(F,J),o=(o=Math.imul(F,X))+Math.imul(H,J)|0,h=Math.imul(H,X),n=n+Math.imul(D,Q)|0,o=(o=o+Math.imul(D,tt)|0)+Math.imul(W,Q)|0,h=h+Math.imul(W,tt)|0,n=n+Math.imul(U,it)|0,o=(o=o+Math.imul(U,nt)|0)+Math.imul(L,it)|0,h=h+Math.imul(L,nt)|0,n=n+Math.imul(B,st)|0,o=(o=o+Math.imul(B,at)|0)+Math.imul(C,st)|0,h=h+Math.imul(C,at)|0,n=n+Math.imul(x,ht)|0,o=(o=o+Math.imul(x,ct)|0)+Math.imul(T,ht)|0,h=h+Math.imul(T,ct)|0,n=n+Math.imul(A,ft)|0,o=(o=o+Math.imul(A,pt)|0)+Math.imul(I,ft)|0,h=h+Math.imul(I,pt)|0,n=n+Math.imul(k,gt)|0,o=(o=o+Math.imul(k,yt)|0)+Math.imul(S,gt)|0,h=h+Math.imul(S,yt)|0,n=n+Math.imul(O,vt)|0,o=(o=o+Math.imul(O,wt)|0)+Math.imul(j,vt)|0,h=h+Math.imul(j,wt)|0;var Bt=(l+(n=n+Math.imul(v,Ot)|0)|0)+((8191&(o=(o=o+Math.imul(v,jt)|0)+Math.imul(w,Ot)|0))<<13)|0;l=((h=h+Math.imul(w,jt)|0)+(o>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(F,Q),o=(o=Math.imul(F,tt))+Math.imul(H,Q)|0,h=Math.imul(H,tt),n=n+Math.imul(D,it)|0,o=(o=o+Math.imul(D,nt)|0)+Math.imul(W,it)|0,h=h+Math.imul(W,nt)|0,n=n+Math.imul(U,st)|0,o=(o=o+Math.imul(U,at)|0)+Math.imul(L,st)|0,h=h+Math.imul(L,at)|0,n=n+Math.imul(B,ht)|0,o=(o=o+Math.imul(B,ct)|0)+Math.imul(C,ht)|0,h=h+Math.imul(C,ct)|0,n=n+Math.imul(x,ft)|0,o=(o=o+Math.imul(x,pt)|0)+Math.imul(T,ft)|0,h=h+Math.imul(T,pt)|0,n=n+Math.imul(A,gt)|0,o=(o=o+Math.imul(A,yt)|0)+Math.imul(I,gt)|0,h=h+Math.imul(I,yt)|0,n=n+Math.imul(k,vt)|0,o=(o=o+Math.imul(k,wt)|0)+Math.imul(S,vt)|0,h=h+Math.imul(S,wt)|0;var Ct=(l+(n=n+Math.imul(O,Ot)|0)|0)+((8191&(o=(o=o+Math.imul(O,jt)|0)+Math.imul(j,Ot)|0))<<13)|0;l=((h=h+Math.imul(j,jt)|0)+(o>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(F,it),o=(o=Math.imul(F,nt))+Math.imul(H,it)|0,h=Math.imul(H,nt),n=n+Math.imul(D,st)|0,o=(o=o+Math.imul(D,at)|0)+Math.imul(W,st)|0,h=h+Math.imul(W,at)|0,n=n+Math.imul(U,ht)|0,o=(o=o+Math.imul(U,ct)|0)+Math.imul(L,ht)|0,h=h+Math.imul(L,ct)|0,n=n+Math.imul(B,ft)|0,o=(o=o+Math.imul(B,pt)|0)+Math.imul(C,ft)|0,h=h+Math.imul(C,pt)|0,n=n+Math.imul(x,gt)|0,o=(o=o+Math.imul(x,yt)|0)+Math.imul(T,gt)|0,h=h+Math.imul(T,yt)|0,n=n+Math.imul(A,vt)|0,o=(o=o+Math.imul(A,wt)|0)+Math.imul(I,vt)|0,h=h+Math.imul(I,wt)|0;var Nt=(l+(n=n+Math.imul(k,Ot)|0)|0)+((8191&(o=(o=o+Math.imul(k,jt)|0)+Math.imul(S,Ot)|0))<<13)|0;l=((h=h+Math.imul(S,jt)|0)+(o>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(F,st),o=(o=Math.imul(F,at))+Math.imul(H,st)|0,h=Math.imul(H,at),n=n+Math.imul(D,ht)|0,o=(o=o+Math.imul(D,ct)|0)+Math.imul(W,ht)|0,h=h+Math.imul(W,ct)|0,n=n+Math.imul(U,ft)|0,o=(o=o+Math.imul(U,pt)|0)+Math.imul(L,ft)|0,h=h+Math.imul(L,pt)|0,n=n+Math.imul(B,gt)|0,o=(o=o+Math.imul(B,yt)|0)+Math.imul(C,gt)|0,h=h+Math.imul(C,yt)|0,n=n+Math.imul(x,vt)|0,o=(o=o+Math.imul(x,wt)|0)+Math.imul(T,vt)|0,h=h+Math.imul(T,wt)|0;var Ut=(l+(n=n+Math.imul(A,Ot)|0)|0)+((8191&(o=(o=o+Math.imul(A,jt)|0)+Math.imul(I,Ot)|0))<<13)|0;l=((h=h+Math.imul(I,jt)|0)+(o>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,n=Math.imul(F,ht),o=(o=Math.imul(F,ct))+Math.imul(H,ht)|0,h=Math.imul(H,ct),n=n+Math.imul(D,ft)|0,o=(o=o+Math.imul(D,pt)|0)+Math.imul(W,ft)|0,h=h+Math.imul(W,pt)|0,n=n+Math.imul(U,gt)|0,o=(o=o+Math.imul(U,yt)|0)+Math.imul(L,gt)|0,h=h+Math.imul(L,yt)|0,n=n+Math.imul(B,vt)|0,o=(o=o+Math.imul(B,wt)|0)+Math.imul(C,vt)|0,h=h+Math.imul(C,wt)|0;var Lt=(l+(n=n+Math.imul(x,Ot)|0)|0)+((8191&(o=(o=o+Math.imul(x,jt)|0)+Math.imul(T,Ot)|0))<<13)|0;l=((h=h+Math.imul(T,jt)|0)+(o>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(F,ft),o=(o=Math.imul(F,pt))+Math.imul(H,ft)|0,h=Math.imul(H,pt),n=n+Math.imul(D,gt)|0,o=(o=o+Math.imul(D,yt)|0)+Math.imul(W,gt)|0,h=h+Math.imul(W,yt)|0,n=n+Math.imul(U,vt)|0,o=(o=o+Math.imul(U,wt)|0)+Math.imul(L,vt)|0,h=h+Math.imul(L,wt)|0;var zt=(l+(n=n+Math.imul(B,Ot)|0)|0)+((8191&(o=(o=o+Math.imul(B,jt)|0)+Math.imul(C,Ot)|0))<<13)|0;l=((h=h+Math.imul(C,jt)|0)+(o>>>13)|0)+(zt>>>26)|0,zt&=67108863,n=Math.imul(F,gt),o=(o=Math.imul(F,yt))+Math.imul(H,gt)|0,h=Math.imul(H,yt),n=n+Math.imul(D,vt)|0,o=(o=o+Math.imul(D,wt)|0)+Math.imul(W,vt)|0,h=h+Math.imul(W,wt)|0;var qt=(l+(n=n+Math.imul(U,Ot)|0)|0)+((8191&(o=(o=o+Math.imul(U,jt)|0)+Math.imul(L,Ot)|0))<<13)|0;l=((h=h+Math.imul(L,jt)|0)+(o>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(F,vt),o=(o=Math.imul(F,wt))+Math.imul(H,vt)|0,h=Math.imul(H,wt);var Dt=(l+(n=n+Math.imul(D,Ot)|0)|0)+((8191&(o=(o=o+Math.imul(D,jt)|0)+Math.imul(W,Ot)|0))<<13)|0;l=((h=h+Math.imul(W,jt)|0)+(o>>>13)|0)+(Dt>>>26)|0,Dt&=67108863;var Wt=(l+(n=Math.imul(F,Ot))|0)+((8191&(o=(o=Math.imul(F,jt))+Math.imul(H,Ot)|0))<<13)|0;return l=((h=Math.imul(H,jt))+(o>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,c[0]=_t,c[1]=kt,c[2]=St,c[3]=Et,c[4]=At,c[5]=It,c[6]=Pt,c[7]=xt,c[8]=Tt,c[9]=Rt,c[10]=Bt,c[11]=Ct,c[12]=Nt,c[13]=Ut,c[14]=Lt,c[15]=zt,c[16]=qt,c[17]=Dt,c[18]=Wt,0!==l&&(c[19]=l,r.length++),r};function _(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,o=0,h=0;h<r.length-1;h++){var c=o;o=0;for(var l=67108863&n,d=Math.min(h,e.length-1),f=Math.max(0,h-t.length+1);f<=d;f++){var i=h-f,m=(0|t.words[i])*(0|e.words[f]),y=67108863&m;l=67108863&(y=y+l|0),o+=(c=(c=c+(m/67108864|0)|0)+(y>>>26)|0)>>>26,c&=67108863}r.words[h]=l,n=c,c=o}return 0!==n?r.words[h]=n:r.length--,r._strip()}function k(t,e,r){return _(t,e,r)}function S(t,e){this.x=t,this.y=e}Math.imul||(j=O),h.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?j(this,t,e):r<63?O(this,t,e):r<1024?_(this,t,e):k(this,t,e)},S.prototype.makeRBT=function(t){for(var e=new Array(t),r=h.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},S.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},S.prototype.permute=function(t,e,r,n,o,h){for(var i=0;i<h;i++)n[i]=e[t[i]],o[i]=r[t[i]]},S.prototype.transform=function(t,e,r,n,o,h){this.permute(h,t,e,r,n,o);for(var s=1;s<o;s<<=1)for(var c=s<<1,l=Math.cos(2*Math.PI/c),d=Math.sin(2*Math.PI/c),p=0;p<o;p+=c)for(var f=l,m=d,y=0;y<s;y++){var v=r[p+y],w=n[p+y],M=r[p+y+s],O=n[p+y+s],j=f*M-m*O;O=f*O+m*M,M=j,r[p+y]=v+M,n[p+y]=w+O,r[p+y+s]=v-M,n[p+y+s]=w-O,y!==c&&(j=l*f-d*m,m=l*m+d*f,f=j)}},S.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},S.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},S.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},S.prototype.convert13b=function(t,e,r,o){for(var h=0,i=0;i<e;i++)h+=0|t[i],r[2*i]=8191&h,h>>>=13,r[2*i+1]=8191&h,h>>>=13;for(i=2*e;i<o;++i)r[i]=0;n(0===h),n(0==(-8192&h))},S.prototype.stub=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=0;return e},S.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),o=this.makeRBT(n),h=this.stub(n),c=new Array(n),l=new Array(n),d=new Array(n),f=new Array(n),m=new Array(n),y=new Array(n),v=r.words;v.length=n,this.convert13b(t.words,t.length,c,n),this.convert13b(e.words,e.length,f,n),this.transform(c,h,l,d,n,o),this.transform(f,h,m,y,n,o);for(var i=0;i<n;i++){var w=l[i]*m[i]-d[i]*y[i];d[i]=l[i]*y[i]+d[i]*m[i],l[i]=w}return this.conjugate(l,d,n),this.transform(l,d,v,h,n,o),this.conjugate(v,h,n),this.normalize13b(v,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},h.prototype.mul=function(t){var e=new h(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},h.prototype.mulf=function(t){var e=new h(null);return e.words=new Array(this.length+t.length),k(this,t,e)},h.prototype.imul=function(t){return this.clone().mulTo(t,this)},h.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,h=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=h>>>26,this.words[i]=67108863&h}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},h.prototype.muln=function(t){return this.clone().imuln(t)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,o=r%26;e[r]=t.words[n]>>>o&1}return e}(t);if(0===e.length)return new h(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var q=r.sqr();i<e.length;i++,q=q.sqr())0!==e[i]&&(r=r.mul(q));return r},h.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var i,e=t%26,s=(t-e)/26,r=67108863>>>26-e<<26-e;if(0!==e){var o=0;for(i=0;i<this.length;i++){var h=this.words[i]&r,c=(0|this.words[i])-h<<e;this.words[i]=c|o,o=h>>>26-e}o&&(this.words[i]=o,this.length++)}if(0!==s){for(i=this.length-1;i>=0;i--)this.words[i+s]=this.words[i];for(i=0;i<s;i++)this.words[i]=0;this.length+=s}return this._strip()},h.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},h.prototype.iushrn=function(t,e,r){var o;n("number"==typeof t&&t>=0),o=e?(e-e%26)/26:0;var h=t%26,s=Math.min((t-h)/26,this.length),mask=67108863^67108863>>>h<<h,c=r;if(o-=s,o=Math.max(0,o),c){for(var i=0;i<s;i++)c.words[i]=this.words[i];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,i=0;i<this.length;i++)this.words[i]=this.words[i+s];else this.words[0]=0,this.length=1;var l=0;for(i=this.length-1;i>=0&&(0!==l||i>=o);i--){var d=0|this.words[i];this.words[i]=l<<26-h|d>>>h,l=d&mask}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},h.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},h.prototype.shln=function(t){return this.clone().ishln(t)},h.prototype.ushln=function(t){return this.clone().iushln(t)},h.prototype.shrn=function(t){return this.clone().ishrn(t)},h.prototype.ushrn=function(t){return this.clone().iushrn(t)},h.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,s=(t-e)/26,q=1<<e;return!(this.length<=s)&&!!(this.words[s]&q)},h.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,s=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=s)return this;if(0!==e&&s++,this.length=Math.min(s,this.length),0!==e){var mask=67108863^67108863>>>e<<e;this.words[this.length-1]&=mask}return this._strip()},h.prototype.maskn=function(t){return this.clone().imaskn(t)},h.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},h.prototype._iaddn=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},h.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this._strip()},h.prototype.addn=function(t){return this.clone().iaddn(t)},h.prototype.subn=function(t){return this.clone().isubn(t)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(t,e,r){var i,o,h=t.length+r;this._expand(h);var c=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+c;var l=(0|t.words[i])*e;c=((o-=67108863&l)>>26)-(l/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)c=(o=(0|this.words[i+r])+c)>>26,this.words[i+r]=67108863&o;if(0===c)return this._strip();for(n(-1===c),c=0,i=0;i<this.length;i++)c=(o=-(0|this.words[i])+c)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},h.prototype._wordDiv=function(t,e){var r=(this.length,t.length),a=this.clone(),b=t,n=0|b.words[b.length-1];0!==(r=26-this._countBits(n))&&(b=b.ushln(r),a.iushln(r),n=0|b.words[b.length-1]);var q,o=a.length-b.length;if("mod"!==e){(q=new h(null)).length=o+1,q.words=new Array(q.length);for(var i=0;i<q.length;i++)q.words[i]=0}var c=a.clone()._ishlnsubmul(b,1,o);0===c.negative&&(a=c,q&&(q.words[o]=1));for(var l=o-1;l>=0;l--){var d=67108864*(0|a.words[b.length+l])+(0|a.words[b.length+l-1]);for(d=Math.min(d/n|0,67108863),a._ishlnsubmul(b,d,l);0!==a.negative;)d--,a.negative=0,a._ishlnsubmul(b,1,l),a.isZero()||(a.negative^=1);q&&(q.words[l]=d)}return q&&q._strip(),a._strip(),"div"!==e&&0!==r&&a.iushrn(r),{div:q||null,mod:a}},h.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new h(0),mod:new h(0)}:0!==this.negative&&0===t.negative?(c=this.neg().divmod(t,e),"mod"!==e&&(div=c.div.neg()),"div"!==e&&(o=c.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:div,mod:o}):0===this.negative&&0!==t.negative?(c=this.divmod(t.neg(),e),"mod"!==e&&(div=c.div.neg()),{div:div,mod:c.mod}):0!=(this.negative&t.negative)?(c=this.neg().divmod(t.neg(),e),"div"!==e&&(o=c.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:c.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new h(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new h(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new h(this.modrn(t.words[0]))}:this._wordDiv(t,e);var div,o,c},h.prototype.div=function(t){return this.divmod(t,"div",!1).div},h.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},h.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},h.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),o=t.andln(1),h=r.cmp(n);return h<0||1===o&&0===h?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},h.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var p=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(p*r+(0|this.words[i]))%t;return e?-r:r},h.prototype.modn=function(t){return this.modrn(t)},h.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},h.prototype.divn=function(t){return this.clone().idivn(t)},h.prototype.egcd=function(p){n(0===p.negative),n(!p.isZero());var t=this,e=p.clone();t=0!==t.negative?t.umod(p):t.clone();for(var r=new h(1),o=new h(0),c=new h(0),l=new h(1),g=0;t.isEven()&&e.isEven();)t.iushrn(1),e.iushrn(1),++g;for(var d=e.clone(),f=t.clone();!t.isZero();){for(var i=0,m=1;0==(t.words[0]&m)&&i<26;++i,m<<=1);if(i>0)for(t.iushrn(i);i-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(d),o.isub(f)),r.iushrn(1),o.iushrn(1);for(var y=0,v=1;0==(e.words[0]&v)&&y<26;++y,v<<=1);if(y>0)for(e.iushrn(y);y-- >0;)(c.isOdd()||l.isOdd())&&(c.iadd(d),l.isub(f)),c.iushrn(1),l.iushrn(1);t.cmp(e)>=0?(t.isub(e),r.isub(c),o.isub(l)):(e.isub(t),c.isub(r),l.isub(o))}return{a:c,b:l,gcd:e.iushln(g)}},h.prototype._invmp=function(p){n(0===p.negative),n(!p.isZero());var a=this,b=p.clone();a=0!==a.negative?a.umod(p):a.clone();for(var t,e=new h(1),r=new h(0),o=b.clone();a.cmpn(1)>0&&b.cmpn(1)>0;){for(var i=0,c=1;0==(a.words[0]&c)&&i<26;++i,c<<=1);if(i>0)for(a.iushrn(i);i-- >0;)e.isOdd()&&e.iadd(o),e.iushrn(1);for(var l=0,d=1;0==(b.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(b.iushrn(l);l-- >0;)r.isOdd()&&r.iadd(o),r.iushrn(1);a.cmp(b)>=0?(a.isub(b),e.isub(r)):(b.isub(a),r.isub(e))}return(t=0===a.cmpn(1)?e:r).cmpn(0)<0&&t.iadd(p),t},h.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var a=this.clone(),b=t.clone();a.negative=0,b.negative=0;for(var e=0;a.isEven()&&b.isEven();e++)a.iushrn(1),b.iushrn(1);for(;;){for(;a.isEven();)a.iushrn(1);for(;b.isEven();)b.iushrn(1);var r=a.cmp(b);if(r<0){var n=a;a=b,b=n}else if(0===r||0===b.cmpn(1))break;a.isub(b)}return b.iushln(e)},h.prototype.invm=function(t){return this.egcd(t).a.umod(t)},h.prototype.isEven=function(){return 0==(1&this.words[0])},h.prototype.isOdd=function(){return 1==(1&this.words[0])},h.prototype.andln=function(t){return this.words[0]&t},h.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,s=(t-e)/26,q=1<<e;if(this.length<=s)return this._expand(s+1),this.words[s]|=q,this;for(var r=q,i=s;0!==r&&i<this.length;i++){var o=0|this.words[i];r=(o+=r)>>>26,o&=67108863,this.words[i]=o}return 0!==r&&(this.words[i]=r,this.length++),this},h.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},h.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var o=0|this.words[0];e=o===t?0:o<t?-1:1}return 0!==this.negative?0|-e:e},h.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},h.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var a=0|this.words[i],b=0|t.words[i];if(a!==b){a<b?e=-1:a>b&&(e=1);break}}return e},h.prototype.gtn=function(t){return 1===this.cmpn(t)},h.prototype.gt=function(t){return 1===this.cmp(t)},h.prototype.gten=function(t){return this.cmpn(t)>=0},h.prototype.gte=function(t){return this.cmp(t)>=0},h.prototype.ltn=function(t){return-1===this.cmpn(t)},h.prototype.lt=function(t){return-1===this.cmp(t)},h.prototype.lten=function(t){return this.cmpn(t)<=0},h.prototype.lte=function(t){return this.cmp(t)<=0},h.prototype.eqn=function(t){return 0===this.cmpn(t)},h.prototype.eq=function(t){return 0===this.cmp(t)},h.red=function(t){return new R(t)},h.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},h.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},h.prototype._forceRed=function(t){return this.red=t,this},h.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},h.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},h.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},h.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},h.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},h.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},h.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},h.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},h.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var E={k256:null,p224:null,p192:null,p25519:null};function A(t,p){this.name=t,this.p=new h(p,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function I(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function x(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function T(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function R(t){if("string"==typeof t){var e=h._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function B(t){R.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var t=new h(null);return t.words=new Array(Math.ceil(this.n/13)),t},A.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},A.prototype.split=function(input,t){input.iushrn(this.n,0,t)},A.prototype.imulK=function(t){return t.imul(this.k)},o(I,A),I.prototype.split=function(input,output){for(var mask=4194303,t=Math.min(input.length,9),i=0;i<t;i++)output.words[i]=input.words[i];if(output.length=t,input.length<=9)return input.words[0]=0,void(input.length=1);var e=input.words[9];for(output.words[output.length++]=e&mask,i=10;i<input.length;i++){var r=0|input.words[i];input.words[i-10]=(r&mask)<<4|e>>>22,e=r}e>>>=22,input.words[i-10]=e,0===e&&input.length>10?input.length-=10:input.length-=9},I.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var r=0|t.words[i];e+=977*r,t.words[i]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},o(P,A),o(x,A),o(T,A),T.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var r=19*(0|t.words[i])+e,n=67108863&r;r>>>=26,t.words[i]=n,e=r}return 0!==e&&(t.words[t.length++]=e),t},h._prime=function(t){if(E[t])return E[t];var e;if("k256"===t)e=new I;else if("p224"===t)e=new P;else if("p192"===t)e=new x;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new T}return E[t]=e,e},R.prototype._verify1=function(a){n(0===a.negative,"red works only with positives"),n(a.red,"red works only with red numbers")},R.prototype._verify2=function(a,b){n(0==(a.negative|b.negative),"red works only with positives"),n(a.red&&a.red===b.red,"red works only with red numbers")},R.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(m(a,a.umod(this.m)._forceRed(this)),a)},R.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},R.prototype.add=function(a,b){this._verify2(a,b);var t=a.add(b);return t.cmp(this.m)>=0&&t.isub(this.m),t._forceRed(this)},R.prototype.iadd=function(a,b){this._verify2(a,b);var t=a.iadd(b);return t.cmp(this.m)>=0&&t.isub(this.m),t},R.prototype.sub=function(a,b){this._verify2(a,b);var t=a.sub(b);return t.cmpn(0)<0&&t.iadd(this.m),t._forceRed(this)},R.prototype.isub=function(a,b){this._verify2(a,b);var t=a.isub(b);return t.cmpn(0)<0&&t.iadd(this.m),t},R.prototype.shl=function(a,t){return this._verify1(a),this.imod(a.ushln(t))},R.prototype.imul=function(a,b){return this._verify2(a,b),this.imod(a.imul(b))},R.prototype.mul=function(a,b){return this._verify2(a,b),this.imod(a.mul(b))},R.prototype.isqr=function(a){return this.imul(a,a.clone())},R.prototype.sqr=function(a){return this.mul(a,a)},R.prototype.sqrt=function(a){if(a.isZero())return a.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var e=this.m.add(new h(1)).iushrn(2);return this.pow(a,e)}for(var q=this.m.subn(1),s=0;!q.isZero()&&0===q.andln(1);)s++,q.iushrn(1);n(!q.isZero());var r=new h(1).toRed(this),o=r.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new h(2*l*l).toRed(this);0!==this.pow(l,c).cmp(o);)l.redIAdd(o);for(var d=this.pow(l,q),f=this.pow(a,q.addn(1).iushrn(1)),m=this.pow(a,q),y=s;0!==m.cmp(r);){for(var v=m,i=0;0!==v.cmp(r);i++)v=v.redSqr();n(i<y);var b=this.pow(d,new h(1).iushln(y-i-1));f=f.redMul(b),d=b.redSqr(),m=m.redMul(d),y=i}return f},R.prototype.invm=function(a){var t=a._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},R.prototype.pow=function(a,t){if(t.isZero())return new h(1).toRed(this);if(0===t.cmpn(1))return a.clone();var e=new Array(16);e[0]=new h(1).toRed(this),e[1]=a;for(var i=2;i<e.length;i++)e[i]=this.mul(e[i-1],a);var r=e[0],n=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),i=t.length-1;i>=0;i--){for(var l=t.words[i],d=c-1;d>=0;d--){var f=l>>d&1;r!==e[0]&&(r=this.sqr(r)),0!==f||0!==n?(n<<=1,n|=f,(4===++o||0===i&&0===d)&&(r=this.mul(r,e[n]),o=0,n=0)):o=0}c=26}return r},R.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},R.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},h.mont=function(t){return new B(t)},o(B,R),B.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},B.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},B.prototype.imul=function(a,b){if(a.isZero()||b.isZero())return a.words[0]=0,a.length=1,a;var t=a.imul(b),e=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=t.isub(e).iushrn(this.shift),r=u;return u.cmp(this.m)>=0?r=u.isub(this.m):u.cmpn(0)<0&&(r=u.iadd(this.m)),r._forceRed(this)},B.prototype.mul=function(a,b){if(a.isZero()||b.isZero())return new h(0)._forceRed(this);var t=a.mul(b),e=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=t.isub(e).iushrn(this.shift),r=u;return u.cmp(this.m)>=0?r=u.isub(this.m):u.cmpn(0)<0&&(r=u.iadd(this.m)),r._forceRed(this)},B.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,r(123)(t))},638:function(t,e){},639:function(t,e,r){"use strict";var n=r(13).Buffer;t.exports=function(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),r=0;r<e.length;r++)e[r]=255;for(var i=0;i<t.length;i++){var o=t.charAt(i),h=o.charCodeAt(0);if(255!==e[h])throw new TypeError(o+" is ambiguous");e[h]=i}var c=t.length,l=t.charAt(0),d=Math.log(c)/Math.log(256),f=Math.log(256)/Math.log(c);function m(source){if("string"!=typeof source)throw new TypeError("Expected String");if(0===source.length)return n.alloc(0);for(var t=0,r=0,o=0;source[t]===l;)r++,t++;for(var h=(source.length-t)*d+1>>>0,f=new Uint8Array(h);source[t];){var m=e[source.charCodeAt(t)];if(255===m)return;for(var i=0,y=h-1;(0!==m||i<o)&&-1!==y;y--,i++)m+=c*f[y]>>>0,f[y]=m%256>>>0,m=m/256>>>0;if(0!==m)throw new Error("Non-zero carry");o=i,t++}for(var v=h-o;v!==h&&0===f[v];)v++;var w=n.allocUnsafe(r+(h-v));w.fill(0,0,r);for(var M=r;v!==h;)w[M++]=f[v++];return w}return{encode:function(source){if((Array.isArray(source)||source instanceof Uint8Array)&&(source=n.from(source)),!n.isBuffer(source))throw new TypeError("Expected Buffer");if(0===source.length)return"";for(var e=0,r=0,o=0,h=source.length;o!==h&&0===source[o];)o++,e++;for(var d=(h-o)*f+1>>>0,m=new Uint8Array(d);o!==h;){for(var y=source[o],i=0,v=d-1;(0!==y||i<r)&&-1!==v;v--,i++)y+=256*m[v]>>>0,m[v]=y%c>>>0,y=y/c>>>0;if(0!==y)throw new Error("Non-zero carry");r=i,o++}for(var w=d-r;w!==d&&0===m[w];)w++;for(var M=l.repeat(e);w<d;++w)M+=t.charAt(m[w]);return M},decodeUnsafe:m,decode:function(t){var e=m(t);if(e)return e;throw new Error("Non-base"+c+" character")}}}},640:function(t,e,r){"use strict";(function(t){var n=this&&this.__createBinding||(Object.create?function(t,e,r,n){void 0===n&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),h=this&&this.__decorate||function(t,e,r,desc){var n,o=arguments.length,h=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,r):desc;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)h=Reflect.decorate(t,e,r,desc);else for(var i=t.length-1;i>=0;i--)(n=t[i])&&(h=(o<3?n(h):o>3?n(e,r,h):n(e,r))||h);return o>3&&h&&Object.defineProperty(e,r,h),h},c=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)"default"!==r&&Object.hasOwnProperty.call(t,r)&&n(e,t,r);return o(e,t),e},l=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.deserializeUnchecked=e.deserialize=e.serialize=e.BinaryReader=e.BinaryWriter=e.BorshError=e.baseDecode=e.baseEncode=void 0;const d=l(r(641)),f=l(r(610)),m=c(r(643)),y=new("function"!=typeof TextDecoder?m.TextDecoder:TextDecoder)("utf-8",{fatal:!0});e.baseEncode=function(e){return"string"==typeof e&&(e=t.from(e,"utf8")),f.default.encode(t.from(e))},e.baseDecode=function(e){return t.from(f.default.decode(e))};const v=1024;class w extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}e.BorshError=w;class M{constructor(){this.buf=t.alloc(v),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=t.concat([this.buf,t.alloc(v)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(e){this.maybeResize(),this.writeBuffer(t.from(new d.default(e).toArray("le",8)))}writeU128(e){this.maybeResize(),this.writeBuffer(t.from(new d.default(e).toArray("le",16)))}writeU256(e){this.maybeResize(),this.writeBuffer(t.from(new d.default(e).toArray("le",32)))}writeU512(e){this.maybeResize(),this.writeBuffer(t.from(new d.default(e).toArray("le",64)))}writeBuffer(e){this.buf=t.concat([t.from(this.buf.subarray(0,this.length)),e,t.alloc(v)]),this.length+=e.length}writeString(e){this.maybeResize();const b=t.from(e,"utf8");this.writeU32(b.length),this.writeBuffer(b)}writeFixedArray(e){this.writeBuffer(t.from(e))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const r of t)this.maybeResize(),e(r)}toArray(){return this.buf.subarray(0,this.length)}}function O(t,e,r){const n=r.value;r.value=function(...t){try{return n.apply(this,t)}catch(t){if(t instanceof RangeError){const code=t.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(code)>=0)throw new w("Reached the end of buffer when deserializing")}throw t}}}e.BinaryWriter=M;class j{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new d.default(t,"le")}readU128(){const t=this.readBuffer(16);return new d.default(t,"le")}readU256(){const t=this.readBuffer(32);return new d.default(t,"le")}readU512(){const t=this.readBuffer(64);return new d.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new w(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return y.decode(e)}catch(t){throw new w(`Error decoding UTF-8 string: ${t}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),r=Array();for(let i=0;i<e;++i)r.push(t());return r}}function _(t){return t.charAt(0).toUpperCase()+t.slice(1)}function k(t,e,r,n,o){try{if("string"==typeof n)o[`write${_(n)}`](r);else if(n instanceof Array)if("number"==typeof n[0]){if(r.length!==n[0])throw new w(`Expecting byte array of length ${n[0]}, but got ${r.length} bytes`);o.writeFixedArray(r)}else if(2===n.length&&"number"==typeof n[1]){if(r.length!==n[1])throw new w(`Expecting byte array of length ${n[1]}, but got ${r.length} bytes`);for(let i=0;i<n[1];i++)k(t,null,r[i],n[0],o)}else o.writeArray(r,(r=>{k(t,e,r,n[0],o)}));else if(void 0!==n.kind)switch(n.kind){case"option":null==r?o.writeU8(0):(o.writeU8(1),k(t,e,r,n.type,o));break;case"map":o.writeU32(r.size),r.forEach(((r,h)=>{k(t,e,h,n.key,o),k(t,e,r,n.value,o)}));break;default:throw new w(`FieldType ${n} unrecognized`)}else S(t,r,o)}catch(t){throw t instanceof w&&t.addToFieldPath(e),t}}function S(t,e,r){if("function"==typeof e.borshSerialize)return void e.borshSerialize(r);const n=t.get(e.constructor);if(!n)throw new w(`Class ${e.constructor.name} is missing in schema`);if("struct"===n.kind)n.fields.map((([n,o])=>{k(t,n,e[n],o,r)}));else{if("enum"!==n.kind)throw new w(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`);{const o=e[n.field];for(let h=0;h<n.values.length;++h){const[c,l]=n.values[h];if(c===o){r.writeU8(h),k(t,c,e[c],l,r);break}}}}}function E(t,e,r,n){try{if("string"==typeof r)return n[`read${_(r)}`]();if(r instanceof Array){if("number"==typeof r[0])return n.readFixedArray(r[0]);if("number"==typeof r[1]){const e=[];for(let i=0;i<r[1];i++)e.push(E(t,null,r[0],n));return e}return n.readArray((()=>E(t,e,r[0],n)))}if("option"===r.kind){return n.readU8()?E(t,e,r.type,n):void 0}if("map"===r.kind){let map=new Map;const o=n.readU32();for(let i=0;i<o;i++){const o=E(t,e,r.key,n),h=E(t,e,r.value,n);map.set(o,h)}return map}return A(t,r,n)}catch(t){throw t instanceof w&&t.addToFieldPath(e),t}}function A(t,e,r){if("function"==typeof e.borshDeserialize)return e.borshDeserialize(r);const n=t.get(e);if(!n)throw new w(`Class ${e.name} is missing in schema`);if("struct"===n.kind){const n={};for(const[o,h]of t.get(e).fields)n[o]=E(t,o,h,r);return new e(n)}if("enum"===n.kind){const o=r.readU8();if(o>=n.values.length)throw new w(`Enum index: ${o} is out of range`);const[h,c]=n.values[o];return new e({[h]:E(t,h,c,r)})}throw new w(`Unexpected schema kind: ${n.kind} for ${e.constructor.name}`)}h([O],j.prototype,"readU8",null),h([O],j.prototype,"readU16",null),h([O],j.prototype,"readU32",null),h([O],j.prototype,"readU64",null),h([O],j.prototype,"readU128",null),h([O],j.prototype,"readU256",null),h([O],j.prototype,"readU512",null),h([O],j.prototype,"readString",null),h([O],j.prototype,"readFixedArray",null),h([O],j.prototype,"readArray",null),e.BinaryReader=j,e.serialize=function(t,e,r=M){const n=new r;return S(t,e,n),n.toArray()},e.deserialize=function(t,e,r,n=j){const o=new n(r),h=A(t,e,o);if(o.offset<r.length)throw new w(`Unexpected ${r.length-o.offset} bytes after deserialized data`);return h},e.deserializeUnchecked=function(t,e,r,n=j){return A(t,e,new n(r))}}).call(this,r(16).Buffer)},641:function(t,e,r){(function(t){!function(t,e){"use strict";function n(t,e){if(!t)throw new Error(e||"Assertion failed")}function o(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function h(t,base,e){if(h.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==base&&"be"!==base||(e=base,base=10),this._init(t||0,base||10,e||"be"))}var c;"object"==typeof t?t.exports=h:e.BN=h,h.BN=h,h.wordSize=26;try{c="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:r(642).Buffer}catch(t){}function l(t,e){var r=t.charCodeAt(e);return r>=48&&r<=57?r-48:r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:void n(!1,"Invalid character in "+t)}function d(t,e,r){var n=l(t,r);return r-1>=e&&(n|=l(t,r-1)<<4),n}function f(t,e,r,o){for(var h=0,b=0,c=Math.min(t.length,r),i=e;i<c;i++){var l=t.charCodeAt(i)-48;h*=o,b=l>=49?l-49+10:l>=17?l-17+10:l,n(l>=0&&b<o,"Invalid character"),h+=b}return h}function m(t,e){t.words=e.words,t.length=e.length,t.negative=e.negative,t.red=e.red}if(h.isBN=function(t){return t instanceof h||null!==t&&"object"==typeof t&&t.constructor.wordSize===h.wordSize&&Array.isArray(t.words)},h.max=function(t,e){return t.cmp(e)>0?t:e},h.min=function(t,e){return t.cmp(e)<0?t:e},h.prototype._init=function(t,base,e){if("number"==typeof t)return this._initNumber(t,base,e);if("object"==typeof t)return this._initArray(t,base,e);"hex"===base&&(base=16),n(base===(0|base)&&base>=2&&base<=36);var r=0;"-"===(t=t.toString().replace(/\s+/g,""))[0]&&(r++,this.negative=1),r<t.length&&(16===base?this._parseHex(t,r,e):(this._parseBase(t,base,r),"le"===e&&this._initArray(this.toArray(),base,e)))},h.prototype._initNumber=function(t,base,e){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(n(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===e&&this._initArray(this.toArray(),base,e)},h.prototype._initArray=function(t,base,e){if(n("number"==typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var r,o,h=0;if("be"===e)for(i=t.length-1,r=0;i>=0;i-=3)o=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[r]|=o<<h&67108863,this.words[r+1]=o>>>26-h&67108863,(h+=24)>=26&&(h-=26,r++);else if("le"===e)for(i=0,r=0;i<t.length;i+=3)o=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[r]|=o<<h&67108863,this.words[r+1]=o>>>26-h&67108863,(h+=24)>=26&&(h-=26,r++);return this._strip()},h.prototype._parseHex=function(t,e,r){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var n,o=0,h=0;if("be"===r)for(i=t.length-1;i>=e;i-=2)n=d(t,e,i)<<o,this.words[h]|=67108863&n,o>=18?(o-=18,h+=1,this.words[h]|=n>>>26):o+=8;else for(i=(t.length-e)%2==0?e+1:e;i<t.length;i+=2)n=d(t,e,i)<<o,this.words[h]|=67108863&n,o>=18?(o-=18,h+=1,this.words[h]|=n>>>26):o+=8;this._strip()},h.prototype._parseBase=function(t,base,e){this.words=[0],this.length=1;for(var r=0,n=1;n<=67108863;n*=base)r++;r--,n=n/base|0;for(var o=t.length-e,h=o%r,c=Math.min(o,o-h)+e,l=0,i=e;i<c;i+=r)l=f(t,i,i+r,base),this.imuln(n),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l);if(0!==h){var d=1;for(l=f(t,i,t.length,base),i=0;i<h;i++)d*=base;this.imuln(d),this.words[0]+l<67108864?this.words[0]+=l:this._iaddn(l)}this._strip()},h.prototype.copy=function(t){t.words=new Array(this.length);for(var i=0;i<this.length;i++)t.words[i]=this.words[i];t.length=this.length,t.negative=this.negative,t.red=this.red},h.prototype._move=function(t){m(t,this)},h.prototype.clone=function(){var t=new h(null);return this.copy(t),t},h.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},h.prototype._strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},h.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},"undefined"!=typeof Symbol&&"function"==typeof Symbol.for)try{h.prototype[Symbol.for("nodejs.util.inspect.custom")]=y}catch(t){h.prototype.inspect=y}else h.prototype.inspect=y;function y(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var v=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],w=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],M=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];h.prototype.toString=function(base,t){var e;if(t=0|t||1,16===(base=base||10)||"hex"===base){e="";for(var r=0,o=0,i=0;i<this.length;i++){var h=this.words[i],c=(16777215&(h<<r|o)).toString(16);e=0!==(o=h>>>24-r&16777215)||i!==this.length-1?v[6-c.length]+c+e:c+e,(r+=2)>=26&&(r-=26,i--)}for(0!==o&&(e=o.toString(16)+e);e.length%t!=0;)e="0"+e;return 0!==this.negative&&(e="-"+e),e}if(base===(0|base)&&base>=2&&base<=36){var l=w[base],d=M[base];e="";var f=this.clone();for(f.negative=0;!f.isZero();){var m=f.modrn(d).toString(base);e=(f=f.idivn(d)).isZero()?m+e:v[l-m.length]+m+e}for(this.isZero()&&(e="0"+e);e.length%t!=0;)e="0"+e;return 0!==this.negative&&(e="-"+e),e}n(!1,"Base should be between 2 and 36")},h.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},h.prototype.toJSON=function(){return this.toString(16,2)},c&&(h.prototype.toBuffer=function(t,e){return this.toArrayLike(c,t,e)}),h.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)};function O(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var a=0|t.words[0],b=0|e.words[0],o=a*b,h=67108863&o,c=o/67108864|0;r.words[0]=h;for(var l=1;l<n;l++){for(var d=c>>>26,f=67108863&c,m=Math.min(l,e.length-1),y=Math.max(0,l-t.length+1);y<=m;y++){var i=l-y|0;d+=(o=(a=0|t.words[i])*(b=0|e.words[y])+f)/67108864|0,f=67108863&o}r.words[l]=0|f,c=0|d}return 0!==c?r.words[l]=0|c:r.length--,r._strip()}h.prototype.toArrayLike=function(t,e,r){this._strip();var o=this.byteLength(),h=r||Math.max(1,o);n(o<=h,"byte array longer than desired length"),n(h>0,"Requested array length <= 0");var c=function(t,e){return t.allocUnsafe?t.allocUnsafe(e):new t(e)}(t,h);return this["_toArrayLike"+("le"===e?"LE":"BE")](c,o),c},h.prototype._toArrayLikeLE=function(t,e){for(var r=0,n=0,i=0,o=0;i<this.length;i++){var h=this.words[i]<<o|n;t[r++]=255&h,r<t.length&&(t[r++]=h>>8&255),r<t.length&&(t[r++]=h>>16&255),6===o?(r<t.length&&(t[r++]=h>>24&255),n=0,o=0):(n=h>>>24,o+=2)}if(r<t.length)for(t[r++]=n;r<t.length;)t[r++]=0},h.prototype._toArrayLikeBE=function(t,e){for(var r=t.length-1,n=0,i=0,o=0;i<this.length;i++){var h=this.words[i]<<o|n;t[r--]=255&h,r>=0&&(t[r--]=h>>8&255),r>=0&&(t[r--]=h>>16&255),6===o?(r>=0&&(t[r--]=h>>24&255),n=0,o=0):(n=h>>>24,o+=2)}if(r>=0)for(t[r--]=n;r>=0;)t[r--]=0},Math.clz32?h.prototype._countBits=function(t){return 32-Math.clz32(t)}:h.prototype._countBits=function(t){var e=t,r=0;return e>=4096&&(r+=13,e>>>=13),e>=64&&(r+=7,e>>>=7),e>=8&&(r+=4,e>>>=4),e>=2&&(r+=2,e>>>=2),r+e},h.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&e)&&(r+=13,e>>>=13),0==(127&e)&&(r+=7,e>>>=7),0==(15&e)&&(r+=4,e>>>=4),0==(3&e)&&(r+=2,e>>>=2),0==(1&e)&&r++,r},h.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},h.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,i=0;i<this.length;i++){var b=this._zeroBits(this.words[i]);if(t+=b,26!==b)break}return t},h.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},h.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},h.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},h.prototype.isNeg=function(){return 0!==this.negative},h.prototype.neg=function(){return this.clone().ineg()},h.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},h.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var i=0;i<t.length;i++)this.words[i]=this.words[i]|t.words[i];return this._strip()},h.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},h.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},h.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},h.prototype.iuand=function(t){var b;b=this.length>t.length?t:this;for(var i=0;i<b.length;i++)this.words[i]=this.words[i]&t.words[i];return this.length=b.length,this._strip()},h.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},h.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},h.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},h.prototype.iuxor=function(t){var a,b;this.length>t.length?(a=this,b=t):(a=t,b=this);for(var i=0;i<b.length;i++)this.words[i]=a.words[i]^b.words[i];if(this!==a)for(;i<a.length;i++)this.words[i]=a.words[i];return this.length=a.length,this._strip()},h.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},h.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},h.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},h.prototype.inotn=function(t){n("number"==typeof t&&t>=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return r>0&&(this.words[i]=~this.words[i]&67108863>>26-r),this._strip()},h.prototype.notn=function(t){return this.clone().inotn(t)},h.prototype.setn=function(t,e){n("number"==typeof t&&t>=0);var r=t/26|0,o=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1<<o:this.words[r]&~(1<<o),this._strip()},h.prototype.iadd=function(t){var e,a,b;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length>t.length?(a=this,b=t):(a=t,b=this);for(var r=0,i=0;i<b.length;i++)e=(0|a.words[i])+(0|b.words[i])+r,this.words[i]=67108863&e,r=e>>>26;for(;0!==r&&i<a.length;i++)e=(0|a.words[i])+r,this.words[i]=67108863&e,r=e>>>26;if(this.length=a.length,0!==r)this.words[this.length]=r,this.length++;else if(a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this},h.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},h.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var a,b,r=this.cmp(t);if(0===r)return this.negative=0,this.length=1,this.words[0]=0,this;r>0?(a=this,b=t):(a=t,b=this);for(var n=0,i=0;i<b.length;i++)n=(e=(0|a.words[i])-(0|b.words[i])+n)>>26,this.words[i]=67108863&e;for(;0!==n&&i<a.length;i++)n=(e=(0|a.words[i])+n)>>26,this.words[i]=67108863&e;if(0===n&&i<a.length&&a!==this)for(;i<a.length;i++)this.words[i]=a.words[i];return this.length=Math.max(this.length,i),a!==this&&(this.negative=1),this._strip()},h.prototype.sub=function(t){return this.clone().isub(t)};var j=function(t,e,r){var n,o,h,a=t.words,b=e.words,c=r.words,l=0,d=0|a[0],f=8191&d,m=d>>>13,y=0|a[1],v=8191&y,w=y>>>13,M=0|a[2],O=8191&M,j=M>>>13,_=0|a[3],k=8191&_,S=_>>>13,E=0|a[4],A=8191&E,I=E>>>13,P=0|a[5],x=8191&P,T=P>>>13,R=0|a[6],B=8191&R,C=R>>>13,N=0|a[7],U=8191&N,L=N>>>13,z=0|a[8],D=8191&z,W=z>>>13,K=0|a[9],F=8191&K,H=K>>>13,V=0|b[0],G=8191&V,Z=V>>>13,$=0|b[1],J=8191&$,X=$>>>13,Y=0|b[2],Q=8191&Y,tt=Y>>>13,et=0|b[3],it=8191&et,nt=et>>>13,ot=0|b[4],st=8191&ot,at=ot>>>13,ut=0|b[5],ht=8191&ut,ct=ut>>>13,lt=0|b[6],ft=8191&lt,pt=lt>>>13,mt=0|b[7],gt=8191&mt,yt=mt>>>13,bt=0|b[8],vt=8191&bt,wt=bt>>>13,Mt=0|b[9],Ot=8191&Mt,jt=Mt>>>13;r.negative=t.negative^e.negative,r.length=19;var _t=(l+(n=Math.imul(f,G))|0)+((8191&(o=(o=Math.imul(f,Z))+Math.imul(m,G)|0))<<13)|0;l=((h=Math.imul(m,Z))+(o>>>13)|0)+(_t>>>26)|0,_t&=67108863,n=Math.imul(v,G),o=(o=Math.imul(v,Z))+Math.imul(w,G)|0,h=Math.imul(w,Z);var kt=(l+(n=n+Math.imul(f,J)|0)|0)+((8191&(o=(o=o+Math.imul(f,X)|0)+Math.imul(m,J)|0))<<13)|0;l=((h=h+Math.imul(m,X)|0)+(o>>>13)|0)+(kt>>>26)|0,kt&=67108863,n=Math.imul(O,G),o=(o=Math.imul(O,Z))+Math.imul(j,G)|0,h=Math.imul(j,Z),n=n+Math.imul(v,J)|0,o=(o=o+Math.imul(v,X)|0)+Math.imul(w,J)|0,h=h+Math.imul(w,X)|0;var St=(l+(n=n+Math.imul(f,Q)|0)|0)+((8191&(o=(o=o+Math.imul(f,tt)|0)+Math.imul(m,Q)|0))<<13)|0;l=((h=h+Math.imul(m,tt)|0)+(o>>>13)|0)+(St>>>26)|0,St&=67108863,n=Math.imul(k,G),o=(o=Math.imul(k,Z))+Math.imul(S,G)|0,h=Math.imul(S,Z),n=n+Math.imul(O,J)|0,o=(o=o+Math.imul(O,X)|0)+Math.imul(j,J)|0,h=h+Math.imul(j,X)|0,n=n+Math.imul(v,Q)|0,o=(o=o+Math.imul(v,tt)|0)+Math.imul(w,Q)|0,h=h+Math.imul(w,tt)|0;var Et=(l+(n=n+Math.imul(f,it)|0)|0)+((8191&(o=(o=o+Math.imul(f,nt)|0)+Math.imul(m,it)|0))<<13)|0;l=((h=h+Math.imul(m,nt)|0)+(o>>>13)|0)+(Et>>>26)|0,Et&=67108863,n=Math.imul(A,G),o=(o=Math.imul(A,Z))+Math.imul(I,G)|0,h=Math.imul(I,Z),n=n+Math.imul(k,J)|0,o=(o=o+Math.imul(k,X)|0)+Math.imul(S,J)|0,h=h+Math.imul(S,X)|0,n=n+Math.imul(O,Q)|0,o=(o=o+Math.imul(O,tt)|0)+Math.imul(j,Q)|0,h=h+Math.imul(j,tt)|0,n=n+Math.imul(v,it)|0,o=(o=o+Math.imul(v,nt)|0)+Math.imul(w,it)|0,h=h+Math.imul(w,nt)|0;var At=(l+(n=n+Math.imul(f,st)|0)|0)+((8191&(o=(o=o+Math.imul(f,at)|0)+Math.imul(m,st)|0))<<13)|0;l=((h=h+Math.imul(m,at)|0)+(o>>>13)|0)+(At>>>26)|0,At&=67108863,n=Math.imul(x,G),o=(o=Math.imul(x,Z))+Math.imul(T,G)|0,h=Math.imul(T,Z),n=n+Math.imul(A,J)|0,o=(o=o+Math.imul(A,X)|0)+Math.imul(I,J)|0,h=h+Math.imul(I,X)|0,n=n+Math.imul(k,Q)|0,o=(o=o+Math.imul(k,tt)|0)+Math.imul(S,Q)|0,h=h+Math.imul(S,tt)|0,n=n+Math.imul(O,it)|0,o=(o=o+Math.imul(O,nt)|0)+Math.imul(j,it)|0,h=h+Math.imul(j,nt)|0,n=n+Math.imul(v,st)|0,o=(o=o+Math.imul(v,at)|0)+Math.imul(w,st)|0,h=h+Math.imul(w,at)|0;var It=(l+(n=n+Math.imul(f,ht)|0)|0)+((8191&(o=(o=o+Math.imul(f,ct)|0)+Math.imul(m,ht)|0))<<13)|0;l=((h=h+Math.imul(m,ct)|0)+(o>>>13)|0)+(It>>>26)|0,It&=67108863,n=Math.imul(B,G),o=(o=Math.imul(B,Z))+Math.imul(C,G)|0,h=Math.imul(C,Z),n=n+Math.imul(x,J)|0,o=(o=o+Math.imul(x,X)|0)+Math.imul(T,J)|0,h=h+Math.imul(T,X)|0,n=n+Math.imul(A,Q)|0,o=(o=o+Math.imul(A,tt)|0)+Math.imul(I,Q)|0,h=h+Math.imul(I,tt)|0,n=n+Math.imul(k,it)|0,o=(o=o+Math.imul(k,nt)|0)+Math.imul(S,it)|0,h=h+Math.imul(S,nt)|0,n=n+Math.imul(O,st)|0,o=(o=o+Math.imul(O,at)|0)+Math.imul(j,st)|0,h=h+Math.imul(j,at)|0,n=n+Math.imul(v,ht)|0,o=(o=o+Math.imul(v,ct)|0)+Math.imul(w,ht)|0,h=h+Math.imul(w,ct)|0;var Pt=(l+(n=n+Math.imul(f,ft)|0)|0)+((8191&(o=(o=o+Math.imul(f,pt)|0)+Math.imul(m,ft)|0))<<13)|0;l=((h=h+Math.imul(m,pt)|0)+(o>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,n=Math.imul(U,G),o=(o=Math.imul(U,Z))+Math.imul(L,G)|0,h=Math.imul(L,Z),n=n+Math.imul(B,J)|0,o=(o=o+Math.imul(B,X)|0)+Math.imul(C,J)|0,h=h+Math.imul(C,X)|0,n=n+Math.imul(x,Q)|0,o=(o=o+Math.imul(x,tt)|0)+Math.imul(T,Q)|0,h=h+Math.imul(T,tt)|0,n=n+Math.imul(A,it)|0,o=(o=o+Math.imul(A,nt)|0)+Math.imul(I,it)|0,h=h+Math.imul(I,nt)|0,n=n+Math.imul(k,st)|0,o=(o=o+Math.imul(k,at)|0)+Math.imul(S,st)|0,h=h+Math.imul(S,at)|0,n=n+Math.imul(O,ht)|0,o=(o=o+Math.imul(O,ct)|0)+Math.imul(j,ht)|0,h=h+Math.imul(j,ct)|0,n=n+Math.imul(v,ft)|0,o=(o=o+Math.imul(v,pt)|0)+Math.imul(w,ft)|0,h=h+Math.imul(w,pt)|0;var xt=(l+(n=n+Math.imul(f,gt)|0)|0)+((8191&(o=(o=o+Math.imul(f,yt)|0)+Math.imul(m,gt)|0))<<13)|0;l=((h=h+Math.imul(m,yt)|0)+(o>>>13)|0)+(xt>>>26)|0,xt&=67108863,n=Math.imul(D,G),o=(o=Math.imul(D,Z))+Math.imul(W,G)|0,h=Math.imul(W,Z),n=n+Math.imul(U,J)|0,o=(o=o+Math.imul(U,X)|0)+Math.imul(L,J)|0,h=h+Math.imul(L,X)|0,n=n+Math.imul(B,Q)|0,o=(o=o+Math.imul(B,tt)|0)+Math.imul(C,Q)|0,h=h+Math.imul(C,tt)|0,n=n+Math.imul(x,it)|0,o=(o=o+Math.imul(x,nt)|0)+Math.imul(T,it)|0,h=h+Math.imul(T,nt)|0,n=n+Math.imul(A,st)|0,o=(o=o+Math.imul(A,at)|0)+Math.imul(I,st)|0,h=h+Math.imul(I,at)|0,n=n+Math.imul(k,ht)|0,o=(o=o+Math.imul(k,ct)|0)+Math.imul(S,ht)|0,h=h+Math.imul(S,ct)|0,n=n+Math.imul(O,ft)|0,o=(o=o+Math.imul(O,pt)|0)+Math.imul(j,ft)|0,h=h+Math.imul(j,pt)|0,n=n+Math.imul(v,gt)|0,o=(o=o+Math.imul(v,yt)|0)+Math.imul(w,gt)|0,h=h+Math.imul(w,yt)|0;var Tt=(l+(n=n+Math.imul(f,vt)|0)|0)+((8191&(o=(o=o+Math.imul(f,wt)|0)+Math.imul(m,vt)|0))<<13)|0;l=((h=h+Math.imul(m,wt)|0)+(o>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,n=Math.imul(F,G),o=(o=Math.imul(F,Z))+Math.imul(H,G)|0,h=Math.imul(H,Z),n=n+Math.imul(D,J)|0,o=(o=o+Math.imul(D,X)|0)+Math.imul(W,J)|0,h=h+Math.imul(W,X)|0,n=n+Math.imul(U,Q)|0,o=(o=o+Math.imul(U,tt)|0)+Math.imul(L,Q)|0,h=h+Math.imul(L,tt)|0,n=n+Math.imul(B,it)|0,o=(o=o+Math.imul(B,nt)|0)+Math.imul(C,it)|0,h=h+Math.imul(C,nt)|0,n=n+Math.imul(x,st)|0,o=(o=o+Math.imul(x,at)|0)+Math.imul(T,st)|0,h=h+Math.imul(T,at)|0,n=n+Math.imul(A,ht)|0,o=(o=o+Math.imul(A,ct)|0)+Math.imul(I,ht)|0,h=h+Math.imul(I,ct)|0,n=n+Math.imul(k,ft)|0,o=(o=o+Math.imul(k,pt)|0)+Math.imul(S,ft)|0,h=h+Math.imul(S,pt)|0,n=n+Math.imul(O,gt)|0,o=(o=o+Math.imul(O,yt)|0)+Math.imul(j,gt)|0,h=h+Math.imul(j,yt)|0,n=n+Math.imul(v,vt)|0,o=(o=o+Math.imul(v,wt)|0)+Math.imul(w,vt)|0,h=h+Math.imul(w,wt)|0;var Rt=(l+(n=n+Math.imul(f,Ot)|0)|0)+((8191&(o=(o=o+Math.imul(f,jt)|0)+Math.imul(m,Ot)|0))<<13)|0;l=((h=h+Math.imul(m,jt)|0)+(o>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,n=Math.imul(F,J),o=(o=Math.imul(F,X))+Math.imul(H,J)|0,h=Math.imul(H,X),n=n+Math.imul(D,Q)|0,o=(o=o+Math.imul(D,tt)|0)+Math.imul(W,Q)|0,h=h+Math.imul(W,tt)|0,n=n+Math.imul(U,it)|0,o=(o=o+Math.imul(U,nt)|0)+Math.imul(L,it)|0,h=h+Math.imul(L,nt)|0,n=n+Math.imul(B,st)|0,o=(o=o+Math.imul(B,at)|0)+Math.imul(C,st)|0,h=h+Math.imul(C,at)|0,n=n+Math.imul(x,ht)|0,o=(o=o+Math.imul(x,ct)|0)+Math.imul(T,ht)|0,h=h+Math.imul(T,ct)|0,n=n+Math.imul(A,ft)|0,o=(o=o+Math.imul(A,pt)|0)+Math.imul(I,ft)|0,h=h+Math.imul(I,pt)|0,n=n+Math.imul(k,gt)|0,o=(o=o+Math.imul(k,yt)|0)+Math.imul(S,gt)|0,h=h+Math.imul(S,yt)|0,n=n+Math.imul(O,vt)|0,o=(o=o+Math.imul(O,wt)|0)+Math.imul(j,vt)|0,h=h+Math.imul(j,wt)|0;var Bt=(l+(n=n+Math.imul(v,Ot)|0)|0)+((8191&(o=(o=o+Math.imul(v,jt)|0)+Math.imul(w,Ot)|0))<<13)|0;l=((h=h+Math.imul(w,jt)|0)+(o>>>13)|0)+(Bt>>>26)|0,Bt&=67108863,n=Math.imul(F,Q),o=(o=Math.imul(F,tt))+Math.imul(H,Q)|0,h=Math.imul(H,tt),n=n+Math.imul(D,it)|0,o=(o=o+Math.imul(D,nt)|0)+Math.imul(W,it)|0,h=h+Math.imul(W,nt)|0,n=n+Math.imul(U,st)|0,o=(o=o+Math.imul(U,at)|0)+Math.imul(L,st)|0,h=h+Math.imul(L,at)|0,n=n+Math.imul(B,ht)|0,o=(o=o+Math.imul(B,ct)|0)+Math.imul(C,ht)|0,h=h+Math.imul(C,ct)|0,n=n+Math.imul(x,ft)|0,o=(o=o+Math.imul(x,pt)|0)+Math.imul(T,ft)|0,h=h+Math.imul(T,pt)|0,n=n+Math.imul(A,gt)|0,o=(o=o+Math.imul(A,yt)|0)+Math.imul(I,gt)|0,h=h+Math.imul(I,yt)|0,n=n+Math.imul(k,vt)|0,o=(o=o+Math.imul(k,wt)|0)+Math.imul(S,vt)|0,h=h+Math.imul(S,wt)|0;var Ct=(l+(n=n+Math.imul(O,Ot)|0)|0)+((8191&(o=(o=o+Math.imul(O,jt)|0)+Math.imul(j,Ot)|0))<<13)|0;l=((h=h+Math.imul(j,jt)|0)+(o>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,n=Math.imul(F,it),o=(o=Math.imul(F,nt))+Math.imul(H,it)|0,h=Math.imul(H,nt),n=n+Math.imul(D,st)|0,o=(o=o+Math.imul(D,at)|0)+Math.imul(W,st)|0,h=h+Math.imul(W,at)|0,n=n+Math.imul(U,ht)|0,o=(o=o+Math.imul(U,ct)|0)+Math.imul(L,ht)|0,h=h+Math.imul(L,ct)|0,n=n+Math.imul(B,ft)|0,o=(o=o+Math.imul(B,pt)|0)+Math.imul(C,ft)|0,h=h+Math.imul(C,pt)|0,n=n+Math.imul(x,gt)|0,o=(o=o+Math.imul(x,yt)|0)+Math.imul(T,gt)|0,h=h+Math.imul(T,yt)|0,n=n+Math.imul(A,vt)|0,o=(o=o+Math.imul(A,wt)|0)+Math.imul(I,vt)|0,h=h+Math.imul(I,wt)|0;var Nt=(l+(n=n+Math.imul(k,Ot)|0)|0)+((8191&(o=(o=o+Math.imul(k,jt)|0)+Math.imul(S,Ot)|0))<<13)|0;l=((h=h+Math.imul(S,jt)|0)+(o>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,n=Math.imul(F,st),o=(o=Math.imul(F,at))+Math.imul(H,st)|0,h=Math.imul(H,at),n=n+Math.imul(D,ht)|0,o=(o=o+Math.imul(D,ct)|0)+Math.imul(W,ht)|0,h=h+Math.imul(W,ct)|0,n=n+Math.imul(U,ft)|0,o=(o=o+Math.imul(U,pt)|0)+Math.imul(L,ft)|0,h=h+Math.imul(L,pt)|0,n=n+Math.imul(B,gt)|0,o=(o=o+Math.imul(B,yt)|0)+Math.imul(C,gt)|0,h=h+Math.imul(C,yt)|0,n=n+Math.imul(x,vt)|0,o=(o=o+Math.imul(x,wt)|0)+Math.imul(T,vt)|0,h=h+Math.imul(T,wt)|0;var Ut=(l+(n=n+Math.imul(A,Ot)|0)|0)+((8191&(o=(o=o+Math.imul(A,jt)|0)+Math.imul(I,Ot)|0))<<13)|0;l=((h=h+Math.imul(I,jt)|0)+(o>>>13)|0)+(Ut>>>26)|0,Ut&=67108863,n=Math.imul(F,ht),o=(o=Math.imul(F,ct))+Math.imul(H,ht)|0,h=Math.imul(H,ct),n=n+Math.imul(D,ft)|0,o=(o=o+Math.imul(D,pt)|0)+Math.imul(W,ft)|0,h=h+Math.imul(W,pt)|0,n=n+Math.imul(U,gt)|0,o=(o=o+Math.imul(U,yt)|0)+Math.imul(L,gt)|0,h=h+Math.imul(L,yt)|0,n=n+Math.imul(B,vt)|0,o=(o=o+Math.imul(B,wt)|0)+Math.imul(C,vt)|0,h=h+Math.imul(C,wt)|0;var Lt=(l+(n=n+Math.imul(x,Ot)|0)|0)+((8191&(o=(o=o+Math.imul(x,jt)|0)+Math.imul(T,Ot)|0))<<13)|0;l=((h=h+Math.imul(T,jt)|0)+(o>>>13)|0)+(Lt>>>26)|0,Lt&=67108863,n=Math.imul(F,ft),o=(o=Math.imul(F,pt))+Math.imul(H,ft)|0,h=Math.imul(H,pt),n=n+Math.imul(D,gt)|0,o=(o=o+Math.imul(D,yt)|0)+Math.imul(W,gt)|0,h=h+Math.imul(W,yt)|0,n=n+Math.imul(U,vt)|0,o=(o=o+Math.imul(U,wt)|0)+Math.imul(L,vt)|0,h=h+Math.imul(L,wt)|0;var zt=(l+(n=n+Math.imul(B,Ot)|0)|0)+((8191&(o=(o=o+Math.imul(B,jt)|0)+Math.imul(C,Ot)|0))<<13)|0;l=((h=h+Math.imul(C,jt)|0)+(o>>>13)|0)+(zt>>>26)|0,zt&=67108863,n=Math.imul(F,gt),o=(o=Math.imul(F,yt))+Math.imul(H,gt)|0,h=Math.imul(H,yt),n=n+Math.imul(D,vt)|0,o=(o=o+Math.imul(D,wt)|0)+Math.imul(W,vt)|0,h=h+Math.imul(W,wt)|0;var qt=(l+(n=n+Math.imul(U,Ot)|0)|0)+((8191&(o=(o=o+Math.imul(U,jt)|0)+Math.imul(L,Ot)|0))<<13)|0;l=((h=h+Math.imul(L,jt)|0)+(o>>>13)|0)+(qt>>>26)|0,qt&=67108863,n=Math.imul(F,vt),o=(o=Math.imul(F,wt))+Math.imul(H,vt)|0,h=Math.imul(H,wt);var Dt=(l+(n=n+Math.imul(D,Ot)|0)|0)+((8191&(o=(o=o+Math.imul(D,jt)|0)+Math.imul(W,Ot)|0))<<13)|0;l=((h=h+Math.imul(W,jt)|0)+(o>>>13)|0)+(Dt>>>26)|0,Dt&=67108863;var Wt=(l+(n=Math.imul(F,Ot))|0)+((8191&(o=(o=Math.imul(F,jt))+Math.imul(H,Ot)|0))<<13)|0;return l=((h=Math.imul(H,jt))+(o>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,c[0]=_t,c[1]=kt,c[2]=St,c[3]=Et,c[4]=At,c[5]=It,c[6]=Pt,c[7]=xt,c[8]=Tt,c[9]=Rt,c[10]=Bt,c[11]=Ct,c[12]=Nt,c[13]=Ut,c[14]=Lt,c[15]=zt,c[16]=qt,c[17]=Dt,c[18]=Wt,0!==l&&(c[19]=l,r.length++),r};function _(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,o=0,h=0;h<r.length-1;h++){var c=o;o=0;for(var l=67108863&n,d=Math.min(h,e.length-1),f=Math.max(0,h-t.length+1);f<=d;f++){var i=h-f,m=(0|t.words[i])*(0|e.words[f]),y=67108863&m;l=67108863&(y=y+l|0),o+=(c=(c=c+(m/67108864|0)|0)+(y>>>26)|0)>>>26,c&=67108863}r.words[h]=l,n=c,c=o}return 0!==n?r.words[h]=n:r.length--,r._strip()}function k(t,e,r){return _(t,e,r)}function S(t,e){this.x=t,this.y=e}Math.imul||(j=O),h.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&&10===t.length?j(this,t,e):r<63?O(this,t,e):r<1024?_(this,t,e):k(this,t,e)},S.prototype.makeRBT=function(t){for(var e=new Array(t),r=h.prototype._countBits(t)-1,i=0;i<t;i++)e[i]=this.revBin(i,r,t);return e},S.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i<e;i++)n|=(1&t)<<e-i-1,t>>=1;return n},S.prototype.permute=function(t,e,r,n,o,h){for(var i=0;i<h;i++)n[i]=e[t[i]],o[i]=r[t[i]]},S.prototype.transform=function(t,e,r,n,o,h){this.permute(h,t,e,r,n,o);for(var s=1;s<o;s<<=1)for(var c=s<<1,l=Math.cos(2*Math.PI/c),d=Math.sin(2*Math.PI/c),p=0;p<o;p+=c)for(var f=l,m=d,y=0;y<s;y++){var v=r[p+y],w=n[p+y],M=r[p+y+s],O=n[p+y+s],j=f*M-m*O;O=f*O+m*M,M=j,r[p+y]=v+M,n[p+y]=w+O,r[p+y+s]=v-M,n[p+y+s]=w-O,y!==c&&(j=l*f-d*m,m=l*m+d*f,f=j)}},S.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},S.prototype.conjugate=function(t,e,r){if(!(r<=1))for(var i=0;i<r/2;i++){var n=t[i];t[i]=t[r-i-1],t[r-i-1]=n,n=e[i],e[i]=-e[r-i-1],e[r-i-1]=-n}},S.prototype.normalize13b=function(t,e){for(var r=0,i=0;i<e/2;i++){var n=8192*Math.round(t[2*i+1]/e)+Math.round(t[2*i]/e)+r;t[i]=67108863&n,r=n<67108864?0:n/67108864|0}return t},S.prototype.convert13b=function(t,e,r,o){for(var h=0,i=0;i<e;i++)h+=0|t[i],r[2*i]=8191&h,h>>>=13,r[2*i+1]=8191&h,h>>>=13;for(i=2*e;i<o;++i)r[i]=0;n(0===h),n(0==(-8192&h))},S.prototype.stub=function(t){for(var e=new Array(t),i=0;i<t;i++)e[i]=0;return e},S.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),o=this.makeRBT(n),h=this.stub(n),c=new Array(n),l=new Array(n),d=new Array(n),f=new Array(n),m=new Array(n),y=new Array(n),v=r.words;v.length=n,this.convert13b(t.words,t.length,c,n),this.convert13b(e.words,e.length,f,n),this.transform(c,h,l,d,n,o),this.transform(f,h,m,y,n,o);for(var i=0;i<n;i++){var w=l[i]*m[i]-d[i]*y[i];d[i]=l[i]*y[i]+d[i]*m[i],l[i]=w}return this.conjugate(l,d,n),this.transform(l,d,v,h,n,o),this.conjugate(v,h,n),this.normalize13b(v,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r._strip()},h.prototype.mul=function(t){var e=new h(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},h.prototype.mulf=function(t){var e=new h(null);return e.words=new Array(this.length+t.length),k(this,t,e)},h.prototype.imul=function(t){return this.clone().mulTo(t,this)},h.prototype.imuln=function(t){var e=t<0;e&&(t=-t),n("number"==typeof t),n(t<67108864);for(var r=0,i=0;i<this.length;i++){var o=(0|this.words[i])*t,h=(67108863&o)+(67108863&r);r>>=26,r+=o/67108864|0,r+=h>>>26,this.words[i]=67108863&h}return 0!==r&&(this.words[i]=r,this.length++),e?this.ineg():this},h.prototype.muln=function(t){return this.clone().imuln(t)},h.prototype.sqr=function(){return this.mul(this)},h.prototype.isqr=function(){return this.imul(this.clone())},h.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r<e.length;r++){var n=r/26|0,o=r%26;e[r]=t.words[n]>>>o&1}return e}(t);if(0===e.length)return new h(1);for(var r=this,i=0;i<e.length&&0===e[i];i++,r=r.sqr());if(++i<e.length)for(var q=r.sqr();i<e.length;i++,q=q.sqr())0!==e[i]&&(r=r.mul(q));return r},h.prototype.iushln=function(t){n("number"==typeof t&&t>=0);var i,e=t%26,s=(t-e)/26,r=67108863>>>26-e<<26-e;if(0!==e){var o=0;for(i=0;i<this.length;i++){var h=this.words[i]&r,c=(0|this.words[i])-h<<e;this.words[i]=c|o,o=h>>>26-e}o&&(this.words[i]=o,this.length++)}if(0!==s){for(i=this.length-1;i>=0;i--)this.words[i+s]=this.words[i];for(i=0;i<s;i++)this.words[i]=0;this.length+=s}return this._strip()},h.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},h.prototype.iushrn=function(t,e,r){var o;n("number"==typeof t&&t>=0),o=e?(e-e%26)/26:0;var h=t%26,s=Math.min((t-h)/26,this.length),mask=67108863^67108863>>>h<<h,c=r;if(o-=s,o=Math.max(0,o),c){for(var i=0;i<s;i++)c.words[i]=this.words[i];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,i=0;i<this.length;i++)this.words[i]=this.words[i+s];else this.words[0]=0,this.length=1;var l=0;for(i=this.length-1;i>=0&&(0!==l||i>=o);i--){var d=0|this.words[i];this.words[i]=l<<26-h|d>>>h,l=d&mask}return c&&0!==l&&(c.words[c.length++]=l),0===this.length&&(this.words[0]=0,this.length=1),this._strip()},h.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},h.prototype.shln=function(t){return this.clone().ishln(t)},h.prototype.ushln=function(t){return this.clone().iushln(t)},h.prototype.shrn=function(t){return this.clone().ishrn(t)},h.prototype.ushrn=function(t){return this.clone().iushrn(t)},h.prototype.testn=function(t){n("number"==typeof t&&t>=0);var e=t%26,s=(t-e)/26,q=1<<e;return!(this.length<=s)&&!!(this.words[s]&q)},h.prototype.imaskn=function(t){n("number"==typeof t&&t>=0);var e=t%26,s=(t-e)/26;if(n(0===this.negative,"imaskn works only with positive numbers"),this.length<=s)return this;if(0!==e&&s++,this.length=Math.min(s,this.length),0!==e){var mask=67108863^67108863>>>e<<e;this.words[this.length-1]&=mask}return this._strip()},h.prototype.maskn=function(t){return this.clone().imaskn(t)},h.prototype.iaddn=function(t){return n("number"==typeof t),n(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<=t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},h.prototype._iaddn=function(t){this.words[0]+=t;for(var i=0;i<this.length&&this.words[i]>=67108864;i++)this.words[i]-=67108864,i===this.length-1?this.words[i+1]=1:this.words[i+1]++;return this.length=Math.max(this.length,i+1),this},h.prototype.isubn=function(t){if(n("number"==typeof t),n(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var i=0;i<this.length&&this.words[i]<0;i++)this.words[i]+=67108864,this.words[i+1]-=1;return this._strip()},h.prototype.addn=function(t){return this.clone().iaddn(t)},h.prototype.subn=function(t){return this.clone().isubn(t)},h.prototype.iabs=function(){return this.negative=0,this},h.prototype.abs=function(){return this.clone().iabs()},h.prototype._ishlnsubmul=function(t,e,r){var i,o,h=t.length+r;this._expand(h);var c=0;for(i=0;i<t.length;i++){o=(0|this.words[i+r])+c;var l=(0|t.words[i])*e;c=((o-=67108863&l)>>26)-(l/67108864|0),this.words[i+r]=67108863&o}for(;i<this.length-r;i++)c=(o=(0|this.words[i+r])+c)>>26,this.words[i+r]=67108863&o;if(0===c)return this._strip();for(n(-1===c),c=0,i=0;i<this.length;i++)c=(o=-(0|this.words[i])+c)>>26,this.words[i]=67108863&o;return this.negative=1,this._strip()},h.prototype._wordDiv=function(t,e){var r=(this.length,t.length),a=this.clone(),b=t,n=0|b.words[b.length-1];0!==(r=26-this._countBits(n))&&(b=b.ushln(r),a.iushln(r),n=0|b.words[b.length-1]);var q,o=a.length-b.length;if("mod"!==e){(q=new h(null)).length=o+1,q.words=new Array(q.length);for(var i=0;i<q.length;i++)q.words[i]=0}var c=a.clone()._ishlnsubmul(b,1,o);0===c.negative&&(a=c,q&&(q.words[o]=1));for(var l=o-1;l>=0;l--){var d=67108864*(0|a.words[b.length+l])+(0|a.words[b.length+l-1]);for(d=Math.min(d/n|0,67108863),a._ishlnsubmul(b,d,l);0!==a.negative;)d--,a.negative=0,a._ishlnsubmul(b,1,l),a.isZero()||(a.negative^=1);q&&(q.words[l]=d)}return q&&q._strip(),a._strip(),"div"!==e&&0!==r&&a.iushrn(r),{div:q||null,mod:a}},h.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new h(0),mod:new h(0)}:0!==this.negative&&0===t.negative?(c=this.neg().divmod(t,e),"mod"!==e&&(div=c.div.neg()),"div"!==e&&(o=c.mod.neg(),r&&0!==o.negative&&o.iadd(t)),{div:div,mod:o}):0===this.negative&&0!==t.negative?(c=this.divmod(t.neg(),e),"mod"!==e&&(div=c.div.neg()),{div:div,mod:c.mod}):0!=(this.negative&t.negative)?(c=this.neg().divmod(t.neg(),e),"div"!==e&&(o=c.mod.neg(),r&&0!==o.negative&&o.isub(t)),{div:c.div,mod:o}):t.length>this.length||this.cmp(t)<0?{div:new h(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new h(this.modrn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new h(this.modrn(t.words[0]))}:this._wordDiv(t,e);var div,o,c},h.prototype.div=function(t){return this.divmod(t,"div",!1).div},h.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},h.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},h.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),o=t.andln(1),h=r.cmp(n);return h<0||1===o&&0===h?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},h.prototype.modrn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var p=(1<<26)%t,r=0,i=this.length-1;i>=0;i--)r=(p*r+(0|this.words[i]))%t;return e?-r:r},h.prototype.modn=function(t){return this.modrn(t)},h.prototype.idivn=function(t){var e=t<0;e&&(t=-t),n(t<=67108863);for(var r=0,i=this.length-1;i>=0;i--){var o=(0|this.words[i])+67108864*r;this.words[i]=o/t|0,r=o%t}return this._strip(),e?this.ineg():this},h.prototype.divn=function(t){return this.clone().idivn(t)},h.prototype.egcd=function(p){n(0===p.negative),n(!p.isZero());var t=this,e=p.clone();t=0!==t.negative?t.umod(p):t.clone();for(var r=new h(1),o=new h(0),c=new h(0),l=new h(1),g=0;t.isEven()&&e.isEven();)t.iushrn(1),e.iushrn(1),++g;for(var d=e.clone(),f=t.clone();!t.isZero();){for(var i=0,m=1;0==(t.words[0]&m)&&i<26;++i,m<<=1);if(i>0)for(t.iushrn(i);i-- >0;)(r.isOdd()||o.isOdd())&&(r.iadd(d),o.isub(f)),r.iushrn(1),o.iushrn(1);for(var y=0,v=1;0==(e.words[0]&v)&&y<26;++y,v<<=1);if(y>0)for(e.iushrn(y);y-- >0;)(c.isOdd()||l.isOdd())&&(c.iadd(d),l.isub(f)),c.iushrn(1),l.iushrn(1);t.cmp(e)>=0?(t.isub(e),r.isub(c),o.isub(l)):(e.isub(t),c.isub(r),l.isub(o))}return{a:c,b:l,gcd:e.iushln(g)}},h.prototype._invmp=function(p){n(0===p.negative),n(!p.isZero());var a=this,b=p.clone();a=0!==a.negative?a.umod(p):a.clone();for(var t,e=new h(1),r=new h(0),o=b.clone();a.cmpn(1)>0&&b.cmpn(1)>0;){for(var i=0,c=1;0==(a.words[0]&c)&&i<26;++i,c<<=1);if(i>0)for(a.iushrn(i);i-- >0;)e.isOdd()&&e.iadd(o),e.iushrn(1);for(var l=0,d=1;0==(b.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(b.iushrn(l);l-- >0;)r.isOdd()&&r.iadd(o),r.iushrn(1);a.cmp(b)>=0?(a.isub(b),e.isub(r)):(b.isub(a),r.isub(e))}return(t=0===a.cmpn(1)?e:r).cmpn(0)<0&&t.iadd(p),t},h.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var a=this.clone(),b=t.clone();a.negative=0,b.negative=0;for(var e=0;a.isEven()&&b.isEven();e++)a.iushrn(1),b.iushrn(1);for(;;){for(;a.isEven();)a.iushrn(1);for(;b.isEven();)b.iushrn(1);var r=a.cmp(b);if(r<0){var n=a;a=b,b=n}else if(0===r||0===b.cmpn(1))break;a.isub(b)}return b.iushln(e)},h.prototype.invm=function(t){return this.egcd(t).a.umod(t)},h.prototype.isEven=function(){return 0==(1&this.words[0])},h.prototype.isOdd=function(){return 1==(1&this.words[0])},h.prototype.andln=function(t){return this.words[0]&t},h.prototype.bincn=function(t){n("number"==typeof t);var e=t%26,s=(t-e)/26,q=1<<e;if(this.length<=s)return this._expand(s+1),this.words[s]|=q,this;for(var r=q,i=s;0!==r&&i<this.length;i++){var o=0|this.words[i];r=(o+=r)>>>26,o&=67108863,this.words[i]=o}return 0!==r&&(this.words[i]=r,this.length++),this},h.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},h.prototype.cmpn=function(t){var e,r=t<0;if(0!==this.negative&&!r)return-1;if(0===this.negative&&r)return 1;if(this._strip(),this.length>1)e=1;else{r&&(t=-t),n(t<=67108863,"Number is too big");var o=0|this.words[0];e=o===t?0:o<t?-1:1}return 0!==this.negative?0|-e:e},h.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},h.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,i=this.length-1;i>=0;i--){var a=0|this.words[i],b=0|t.words[i];if(a!==b){a<b?e=-1:a>b&&(e=1);break}}return e},h.prototype.gtn=function(t){return 1===this.cmpn(t)},h.prototype.gt=function(t){return 1===this.cmp(t)},h.prototype.gten=function(t){return this.cmpn(t)>=0},h.prototype.gte=function(t){return this.cmp(t)>=0},h.prototype.ltn=function(t){return-1===this.cmpn(t)},h.prototype.lt=function(t){return-1===this.cmp(t)},h.prototype.lten=function(t){return this.cmpn(t)<=0},h.prototype.lte=function(t){return this.cmp(t)<=0},h.prototype.eqn=function(t){return 0===this.cmpn(t)},h.prototype.eq=function(t){return 0===this.cmp(t)},h.red=function(t){return new R(t)},h.prototype.toRed=function(t){return n(!this.red,"Already a number in reduction context"),n(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},h.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},h.prototype._forceRed=function(t){return this.red=t,this},h.prototype.forceRed=function(t){return n(!this.red,"Already a number in reduction context"),this._forceRed(t)},h.prototype.redAdd=function(t){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},h.prototype.redIAdd=function(t){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},h.prototype.redSub=function(t){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},h.prototype.redISub=function(t){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},h.prototype.redShl=function(t){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},h.prototype.redMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},h.prototype.redIMul=function(t){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},h.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},h.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},h.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},h.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},h.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},h.prototype.redPow=function(t){return n(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var E={k256:null,p224:null,p192:null,p25519:null};function A(t,p){this.name=t,this.p=new h(p,16),this.n=this.p.bitLength(),this.k=new h(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function I(){A.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P(){A.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function x(){A.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function T(){A.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function R(t){if("string"==typeof t){var e=h._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function B(t){R.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new h(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}A.prototype._tmp=function(){var t=new h(null);return t.words=new Array(Math.ceil(this.n/13)),t},A.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e>this.n);var n=e<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},A.prototype.split=function(input,t){input.iushrn(this.n,0,t)},A.prototype.imulK=function(t){return t.imul(this.k)},o(I,A),I.prototype.split=function(input,output){for(var mask=4194303,t=Math.min(input.length,9),i=0;i<t;i++)output.words[i]=input.words[i];if(output.length=t,input.length<=9)return input.words[0]=0,void(input.length=1);var e=input.words[9];for(output.words[output.length++]=e&mask,i=10;i<input.length;i++){var r=0|input.words[i];input.words[i-10]=(r&mask)<<4|e>>>22,e=r}e>>>=22,input.words[i-10]=e,0===e&&input.length>10?input.length-=10:input.length-=9},I.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,i=0;i<t.length;i++){var r=0|t.words[i];e+=977*r,t.words[i]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},o(P,A),o(x,A),o(T,A),T.prototype.imulK=function(t){for(var e=0,i=0;i<t.length;i++){var r=19*(0|t.words[i])+e,n=67108863&r;r>>>=26,t.words[i]=n,e=r}return 0!==e&&(t.words[t.length++]=e),t},h._prime=function(t){if(E[t])return E[t];var e;if("k256"===t)e=new I;else if("p224"===t)e=new P;else if("p192"===t)e=new x;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new T}return E[t]=e,e},R.prototype._verify1=function(a){n(0===a.negative,"red works only with positives"),n(a.red,"red works only with red numbers")},R.prototype._verify2=function(a,b){n(0==(a.negative|b.negative),"red works only with positives"),n(a.red&&a.red===b.red,"red works only with red numbers")},R.prototype.imod=function(a){return this.prime?this.prime.ireduce(a)._forceRed(this):(m(a,a.umod(this.m)._forceRed(this)),a)},R.prototype.neg=function(a){return a.isZero()?a.clone():this.m.sub(a)._forceRed(this)},R.prototype.add=function(a,b){this._verify2(a,b);var t=a.add(b);return t.cmp(this.m)>=0&&t.isub(this.m),t._forceRed(this)},R.prototype.iadd=function(a,b){this._verify2(a,b);var t=a.iadd(b);return t.cmp(this.m)>=0&&t.isub(this.m),t},R.prototype.sub=function(a,b){this._verify2(a,b);var t=a.sub(b);return t.cmpn(0)<0&&t.iadd(this.m),t._forceRed(this)},R.prototype.isub=function(a,b){this._verify2(a,b);var t=a.isub(b);return t.cmpn(0)<0&&t.iadd(this.m),t},R.prototype.shl=function(a,t){return this._verify1(a),this.imod(a.ushln(t))},R.prototype.imul=function(a,b){return this._verify2(a,b),this.imod(a.imul(b))},R.prototype.mul=function(a,b){return this._verify2(a,b),this.imod(a.mul(b))},R.prototype.isqr=function(a){return this.imul(a,a.clone())},R.prototype.sqr=function(a){return this.mul(a,a)},R.prototype.sqrt=function(a){if(a.isZero())return a.clone();var t=this.m.andln(3);if(n(t%2==1),3===t){var e=this.m.add(new h(1)).iushrn(2);return this.pow(a,e)}for(var q=this.m.subn(1),s=0;!q.isZero()&&0===q.andln(1);)s++,q.iushrn(1);n(!q.isZero());var r=new h(1).toRed(this),o=r.redNeg(),c=this.m.subn(1).iushrn(1),l=this.m.bitLength();for(l=new h(2*l*l).toRed(this);0!==this.pow(l,c).cmp(o);)l.redIAdd(o);for(var d=this.pow(l,q),f=this.pow(a,q.addn(1).iushrn(1)),m=this.pow(a,q),y=s;0!==m.cmp(r);){for(var v=m,i=0;0!==v.cmp(r);i++)v=v.redSqr();n(i<y);var b=this.pow(d,new h(1).iushln(y-i-1));f=f.redMul(b),d=b.redSqr(),m=m.redMul(d),y=i}return f},R.prototype.invm=function(a){var t=a._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},R.prototype.pow=function(a,t){if(t.isZero())return new h(1).toRed(this);if(0===t.cmpn(1))return a.clone();var e=new Array(16);e[0]=new h(1).toRed(this),e[1]=a;for(var i=2;i<e.length;i++)e[i]=this.mul(e[i-1],a);var r=e[0],n=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),i=t.length-1;i>=0;i--){for(var l=t.words[i],d=c-1;d>=0;d--){var f=l>>d&1;r!==e[0]&&(r=this.sqr(r)),0!==f||0!==n?(n<<=1,n|=f,(4===++o||0===i&&0===d)&&(r=this.mul(r,e[n]),o=0,n=0)):o=0}c=26}return r},R.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},R.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},h.mont=function(t){return new B(t)},o(B,R),B.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},B.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},B.prototype.imul=function(a,b){if(a.isZero()||b.isZero())return a.words[0]=0,a.length=1,a;var t=a.imul(b),e=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=t.isub(e).iushrn(this.shift),r=u;return u.cmp(this.m)>=0?r=u.isub(this.m):u.cmpn(0)<0&&(r=u.iadd(this.m)),r._forceRed(this)},B.prototype.mul=function(a,b){if(a.isZero()||b.isZero())return new h(0)._forceRed(this);var t=a.mul(b),e=t.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),u=t.isub(e).iushrn(this.shift),r=u;return u.cmp(this.m)>=0?r=u.isub(this.m):u.cmpn(0)<0&&(r=u.iadd(this.m)),r._forceRed(this)},B.prototype.invm=function(a){return this.imod(a._invmp(this.m).mul(this.r2))._forceRed(this)}}(t,this)}).call(this,r(123)(t))},642:function(t,e){},643:function(t,e,r){"use strict";function n(a,t,e){return t<=a&&a<=e}function o(t){if(void 0===t)return{};if(t===Object(t))return t;throw TypeError("Could not convert argument to dictionary")}r.r(e),r.d(e,"TextEncoder",(function(){return m})),r.d(e,"TextDecoder",(function(){return f}));function h(t){this.tokens=[].slice.call(t)}h.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():-1},prepend:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.unshift(e.pop());else this.tokens.unshift(t)},push:function(t){if(Array.isArray(t))for(var e=t;e.length;)this.tokens.push(e.shift());else this.tokens.push(t)}};var c=-1;function l(t,e){if(t)throw TypeError("Decoder error");return e||65533}var d="utf-8";function f(t,e){if(!(this instanceof f))return new f(t,e);if((t=void 0!==t?String(t).toLowerCase():d)!==d)throw new Error("Encoding not supported. Only utf-8 is supported");e=o(e),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(e.fatal),this._ignoreBOM=Boolean(e.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}function m(t,e){if(!(this instanceof m))return new m(t,e);if((t=void 0!==t?String(t).toLowerCase():d)!==d)throw new Error("Encoding not supported. Only utf-8 is supported");e=o(e),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(e.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}function y(t){var e=t.fatal,r=0,o=0,h=0,d=128,f=191;this.handler=function(t,m){if(-1===m&&0!==h)return h=0,l(e);if(-1===m)return c;if(0===h){if(n(m,0,127))return m;if(n(m,194,223))h=1,r=m-192;else if(n(m,224,239))224===m&&(d=160),237===m&&(f=159),h=2,r=m-224;else{if(!n(m,240,244))return l(e);240===m&&(d=144),244===m&&(f=143),h=3,r=m-240}return r<<=6*h,null}if(!n(m,d,f))return r=h=o=0,d=128,f=191,t.prepend(m),l(e);if(d=128,f=191,r+=m-128<<6*(h-(o+=1)),o!==h)return null;var y=r;return r=h=o=0,y}}function v(t){t.fatal;this.handler=function(t,e){if(-1===e)return c;if(n(e,0,127))return e;var r,o;n(e,128,2047)?(r=1,o=192):n(e,2048,65535)?(r=2,o=224):n(e,65536,1114111)&&(r=3,o=240);for(var h=[(e>>6*r)+o];r>0;){var l=e>>6*(r-1);h.push(128|63&l),r-=1}return h}}f.prototype={decode:function(input,t){var e;e="object"==typeof input&&input instanceof ArrayBuffer?new Uint8Array(input):"object"==typeof input&&"buffer"in input&&input.buffer instanceof ArrayBuffer?new Uint8Array(input.buffer,input.byteOffset,input.byteLength):new Uint8Array(0),t=o(t),this._streaming||(this._decoder=new y({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(t.stream);for(var r,n=new h(e),l=[];!n.endOfStream()&&(r=this._decoder.handler(n,n.read()))!==c;)null!==r&&(Array.isArray(r)?l.push.apply(l,r):l.push(r));if(!this._streaming){do{if((r=this._decoder.handler(n,n.read()))===c)break;null!==r&&(Array.isArray(r)?l.push.apply(l,r):l.push(r))}while(!n.endOfStream());this._decoder=null}return l.length&&(-1===["utf-8"].indexOf(this.encoding)||this._ignoreBOM||this._BOMseen||(65279===l[0]?(this._BOMseen=!0,l.shift()):this._BOMseen=!0)),function(t){for(var s="",i=0;i<t.length;++i){var e=t[i];e<=65535?s+=String.fromCharCode(e):(e-=65536,s+=String.fromCharCode(55296+(e>>10),56320+(1023&e)))}return s}(l)}},m.prototype={encode:function(t,e){t=t?String(t):"",e=o(e),this._streaming||(this._encoder=new v(this._options)),this._streaming=Boolean(e.stream);for(var r,n=[],l=new h(function(t){for(var s=String(t),e=s.length,i=0,u=[];i<e;){var r=s.charCodeAt(i);if(r<55296||r>57343)u.push(r);else if(56320<=r&&r<=57343)u.push(65533);else if(55296<=r&&r<=56319)if(i===e-1)u.push(65533);else{var n=t.charCodeAt(i+1);if(56320<=n&&n<=57343){var a=1023&r,b=1023&n;u.push(65536+(a<<10)+b),i+=1}else u.push(65533)}i+=1}return u}(t));!l.endOfStream()&&(r=this._encoder.handler(l,l.read()))!==c;)Array.isArray(r)?n.push.apply(n,r):n.push(r);if(!this._streaming){for(;(r=this._encoder.handler(l,l.read()))!==c;)Array.isArray(r)?n.push.apply(n,r):n.push(r);this._encoder=null}return new Uint8Array(n)}}},644:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.s16=e.s8=e.nu64be=e.u48be=e.u40be=e.u32be=e.u24be=e.u16be=e.nu64=e.u48=e.u40=e.u32=e.u24=e.u16=e.u8=e.offset=e.greedy=e.Constant=e.UTF8=e.CString=e.Blob=e.Boolean=e.BitField=e.BitStructure=e.VariantLayout=e.Union=e.UnionLayoutDiscriminator=e.UnionDiscriminator=e.Structure=e.Sequence=e.DoubleBE=e.Double=e.FloatBE=e.Float=e.NearInt64BE=e.NearInt64=e.NearUInt64BE=e.NearUInt64=e.IntBE=e.Int=e.UIntBE=e.UInt=e.OffsetLayout=e.GreedyCount=e.ExternalLayout=e.bindConstructorLayout=e.nameWithProperty=e.Layout=e.uint8ArrayToBuffer=e.checkUint8Array=void 0,e.constant=e.utf8=e.cstr=e.blob=e.unionLayoutDiscriminator=e.union=e.seq=e.bits=e.struct=e.f64be=e.f64=e.f32be=e.f32=e.ns64be=e.s48be=e.s40be=e.s32be=e.s24be=e.s16be=e.ns64=e.s48=e.s40=e.s32=e.s24=void 0;const n=r(16);function o(b){if(!(b instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}function h(b){return o(b),n.Buffer.from(b.buffer,b.byteOffset,b.length)}e.checkUint8Array=o,e.uint8ArrayToBuffer=h;class c{constructor(span,t){if(!Number.isInteger(span))throw new TypeError("span must be an integer");this.span=span,this.property=t}makeDestinationObject(){return{}}getSpan(b,t){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}function l(t,e){return e.property?t+"["+e.property+"]":t}e.Layout=c,e.nameWithProperty=l,e.bindConstructorLayout=function(t,e){if("function"!=typeof t)throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(t,"layout_"))throw new Error("Class is already bound to a layout");if(!(e&&e instanceof c))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(e,"boundConstructor_"))throw new Error("layout is already bound to a constructor");t.layout_=e,e.boundConstructor_=t,e.makeDestinationObject=()=>new t,Object.defineProperty(t.prototype,"encode",{value(b,t){return e.encode(this,b,t)},writable:!0}),Object.defineProperty(t,"decode",{value:(b,t)=>e.decode(b,t),writable:!0})};class d extends c{isCount(){throw new Error("ExternalLayout is abstract")}}e.ExternalLayout=d;class f extends d{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(b,t=0){o(b);const e=b.length-t;return Math.floor(e/this.elementSpan)}encode(t,b,e){return 0}}e.GreedyCount=f;class m extends d{constructor(t,e=0,r){if(!(t instanceof c))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof y||this.layout instanceof v}decode(b,t=0){return this.layout.decode(b,t+this.offset)}encode(t,b,e=0){return this.layout.encode(t,b,e+this.offset)}}e.OffsetLayout=m;class y extends c{constructor(span,t){if(super(span,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(b,t=0){return h(b).readUIntLE(t,this.span)}encode(t,b,e=0){return h(b).writeUIntLE(t,e,this.span),this.span}}e.UInt=y;class v extends c{constructor(span,t){if(super(span,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(b,t=0){return h(b).readUIntBE(t,this.span)}encode(t,b,e=0){return h(b).writeUIntBE(t,e,this.span),this.span}}e.UIntBE=v;class w extends c{constructor(span,t){if(super(span,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(b,t=0){return h(b).readIntLE(t,this.span)}encode(t,b,e=0){return h(b).writeIntLE(t,e,this.span),this.span}}e.Int=w;class M extends c{constructor(span,t){if(super(span,t),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(b,t=0){return h(b).readIntBE(t,this.span)}encode(t,b,e=0){return h(b).writeIntBE(t,e,this.span),this.span}}e.IntBE=M;const O=Math.pow(2,32);function j(t){const e=Math.floor(t/O);return{hi32:e,lo32:t-e*O}}function _(t,e){return t*O+e}class k extends c{constructor(t){super(8,t)}decode(b,t=0){const e=h(b),r=e.readUInt32LE(t);return _(e.readUInt32LE(t+4),r)}encode(t,b,e=0){const r=j(t),n=h(b);return n.writeUInt32LE(r.lo32,e),n.writeUInt32LE(r.hi32,e+4),8}}e.NearUInt64=k;class S extends c{constructor(t){super(8,t)}decode(b,t=0){const e=h(b);return _(e.readUInt32BE(t),e.readUInt32BE(t+4))}encode(t,b,e=0){const r=j(t),n=h(b);return n.writeUInt32BE(r.hi32,e),n.writeUInt32BE(r.lo32,e+4),8}}e.NearUInt64BE=S;class E extends c{constructor(t){super(8,t)}decode(b,t=0){const e=h(b),r=e.readUInt32LE(t);return _(e.readInt32LE(t+4),r)}encode(t,b,e=0){const r=j(t),n=h(b);return n.writeUInt32LE(r.lo32,e),n.writeInt32LE(r.hi32,e+4),8}}e.NearInt64=E;class A extends c{constructor(t){super(8,t)}decode(b,t=0){const e=h(b);return _(e.readInt32BE(t),e.readUInt32BE(t+4))}encode(t,b,e=0){const r=j(t),n=h(b);return n.writeInt32BE(r.hi32,e),n.writeUInt32BE(r.lo32,e+4),8}}e.NearInt64BE=A;class I extends c{constructor(t){super(4,t)}decode(b,t=0){return h(b).readFloatLE(t)}encode(t,b,e=0){return h(b).writeFloatLE(t,e),4}}e.Float=I;class P extends c{constructor(t){super(4,t)}decode(b,t=0){return h(b).readFloatBE(t)}encode(t,b,e=0){return h(b).writeFloatBE(t,e),4}}e.FloatBE=P;class x extends c{constructor(t){super(8,t)}decode(b,t=0){return h(b).readDoubleLE(t)}encode(t,b,e=0){return h(b).writeDoubleLE(t,e),8}}e.Double=x;class T extends c{constructor(t){super(8,t)}decode(b,t=0){return h(b).readDoubleBE(t)}encode(t,b,e=0){return h(b).writeDoubleBE(t,e),8}}e.DoubleBE=T;class R extends c{constructor(t,e,r){if(!(t instanceof c))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof d&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let span=-1;!(e instanceof d)&&0<t.span&&(span=e*t.span),super(span,r),this.elementLayout=t,this.count=e}getSpan(b,t=0){if(0<=this.span)return this.span;let span=0,e=this.count;if(e instanceof d&&(e=e.decode(b,t)),0<this.elementLayout.span)span=e*this.elementLayout.span;else{let r=0;for(;r<e;)span+=this.elementLayout.getSpan(b,t+span),++r}return span}decode(b,t=0){const e=[];let i=0,r=this.count;for(r instanceof d&&(r=r.decode(b,t));i<r;)e.push(this.elementLayout.decode(b,t)),t+=this.elementLayout.getSpan(b,t),i+=1;return e}encode(t,b,e=0){const r=this.elementLayout,span=t.reduce(((span,t)=>span+r.encode(t,b,e+span)),0);return this.count instanceof d&&this.count.encode(t.length,b,e),span}}e.Sequence=R;class B extends c{constructor(t,e,r){if(!Array.isArray(t)||!t.reduce(((t,e)=>t&&e instanceof c),!0))throw new TypeError("fields must be array of Layout instances");"boolean"==typeof e&&void 0===r&&(r=e,e=void 0);for(const e of t)if(0>e.span&&void 0===e.property)throw new Error("fields cannot contain unnamed variable-length layout");let span=-1;try{span=t.reduce(((span,t)=>span+t.getSpan()),0)}catch(t){}super(span,e),this.fields=t,this.decodePrefixes=!!r}getSpan(b,t=0){if(0<=this.span)return this.span;let span=0;try{span=this.fields.reduce(((span,e)=>{const r=e.getSpan(b,t);return t+=r,span+r}),0)}catch(t){throw new RangeError("indeterminate span")}return span}decode(b,t=0){o(b);const e=this.makeDestinationObject();for(const r of this.fields)if(void 0!==r.property&&(e[r.property]=r.decode(b,t)),t+=r.getSpan(b,t),this.decodePrefixes&&b.length===t)break;return e}encode(t,b,e=0){const r=e;let n=0,o=0;for(const r of this.fields){let span=r.span;if(o=0<span?span:0,void 0!==r.property){const n=t[r.property];void 0!==n&&(o=r.encode(n,b,e),0>span&&(span=r.getSpan(b,e)))}n=e,e+=span}return n+o-r}fromArray(t){const e=this.makeDestinationObject();for(const r of this.fields)void 0!==r.property&&0<t.length&&(e[r.property]=t.shift());return e}layoutFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if("string"!=typeof t)throw new TypeError("property must be string");let e=0;for(const r of this.fields){if(r.property===t)return e;0>r.span?e=-1:0<=e&&(e+=r.span)}}}e.Structure=B;class C{constructor(t){this.property=t}decode(b,t){throw new Error("UnionDiscriminator is abstract")}encode(t,b,e){throw new Error("UnionDiscriminator is abstract")}}e.UnionDiscriminator=C;class N extends C{constructor(t,e){if(!(t instanceof d&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(b,t){return this.layout.decode(b,t)}encode(t,b,e){return this.layout.encode(t,b,e)}}e.UnionLayoutDiscriminator=N;class U extends c{constructor(t,e,r){let n;if(t instanceof y||t instanceof v)n=new N(new m(t));else if(t instanceof d&&t.isCount())n=new N(t);else{if(!(t instanceof C))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");n=t}if(void 0===e&&(e=null),!(null===e||e instanceof c))throw new TypeError("defaultLayout must be null or a Layout");if(null!==e){if(0>e.span)throw new Error("defaultLayout must have constant span");void 0===e.property&&(e=e.replicate("content"))}let span=-1;e&&(span=e.span,0<=span&&(t instanceof y||t instanceof v)&&(span+=n.layout.span)),super(span,r),this.discriminator=n,this.usesPrefixDiscriminator=t instanceof y||t instanceof v,this.defaultLayout=e,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(t){return o(t)},this.configGetSourceVariant=function(t){o=t.bind(this)}}getSpan(b,t=0){if(0<=this.span)return this.span;const e=this.getVariant(b,t);if(!e)throw new Error("unable to determine span for unrecognized variant");return e.getSpan(b,t)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const r=this.registry[e];if(r.property&&Object.prototype.hasOwnProperty.call(t,r.property))return r}throw new Error("unable to infer src variant")}decode(b,t=0){let e;const r=this.discriminator,n=r.decode(b,t),o=this.registry[n];if(void 0===o){const o=this.defaultLayout;let h=0;this.usesPrefixDiscriminator&&(h=r.layout.span),e=this.makeDestinationObject(),e[r.property]=n,e[o.property]=o.decode(b,t+h)}else e=o.decode(b,t);return e}encode(t,b,e=0){const r=this.getSourceVariant(t);if(void 0===r){const r=this.discriminator,n=this.defaultLayout;let o=0;return this.usesPrefixDiscriminator&&(o=r.layout.span),r.encode(t[r.property],b,e),o+n.encode(t[n.property],b,e+o)}return r.encode(t,b,e)}addVariant(t,e,r){const n=new L(this,t,e,r);return this.registry[t]=n,n}getVariant(t,e=0){let r;return r=t instanceof Uint8Array?this.discriminator.decode(t,e):t,this.registry[r]}}e.Union=U;class L extends c{constructor(t,e,r,n){if(!(t instanceof U))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if("string"==typeof r&&void 0===n&&(n=r,r=null),r){if(!(r instanceof c))throw new TypeError("layout must be a Layout");if(null!==t.defaultLayout&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if("string"!=typeof n)throw new TypeError("variant must have a String property")}let span=t.span;0>t.span&&(span=r?r.span:0,0<=span&&t.usesPrefixDiscriminator&&(span+=t.discriminator.layout.span)),super(span,n),this.union=t,this.variant=e,this.layout=r||null}getSpan(b,t=0){if(0<=this.span)return this.span;let e=0;this.union.usesPrefixDiscriminator&&(e=this.union.discriminator.layout.span);let span=0;return this.layout&&(span=this.layout.getSpan(b,t+e)),e+span}decode(b,t=0){const e=this.makeDestinationObject();if(this!==this.union.getVariant(b,t))throw new Error("variant mismatch");let r=0;return this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout?e[this.property]=this.layout.decode(b,t+r):this.property?e[this.property]=!0:this.union.usesPrefixDiscriminator&&(e[this.union.discriminator.property]=this.variant),e}encode(t,b,e=0){let r=0;if(this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,b,e);let span=r;if(this.layout&&(this.layout.encode(t[this.property],b,e+r),span+=this.layout.getSpan(b,e+r),0<=this.union.span&&span>this.union.span))throw new Error("encoded variant overruns containing union");return span}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}function z(t){return 0>t&&(t+=4294967296),t}e.VariantLayout=L;class D extends c{constructor(t,e,r){if(!(t instanceof y||t instanceof v))throw new TypeError("word must be a UInt or UIntBE layout");if("string"==typeof e&&void 0===r&&(r=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,r),this.word=t,this.msb=!!e,this.fields=[];let n=0;this._packedSetValue=function(t){return n=z(t),this},this._packedGetValue=function(){return n}}decode(b,t=0){const e=this.makeDestinationObject(),r=this.word.decode(b,t);this._packedSetValue(r);for(const t of this.fields)void 0!==t.property&&(e[t.property]=t.decode(b));return e}encode(t,b,e=0){const r=this.word.decode(b,e);this._packedSetValue(r);for(const e of this.fields)if(void 0!==e.property){const r=t[e.property];void 0!==r&&e.encode(r)}return this.word.encode(this._packedGetValue(),b,e)}addField(t,e){const r=new W(this,t,e);return this.fields.push(r),r}addBoolean(t){const e=new K(this,t);return this.fields.push(e),e}fieldFor(t){if("string"!=typeof t)throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}e.BitStructure=D;class W{constructor(t,e,r){if(!(t instanceof D))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const n=8*t.span,o=t.fields.reduce(((t,e)=>t+e.bits),0);if(e+o>n)throw new Error("bits too long for span remainder ("+(n-o)+" of "+n+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,32===e&&(this.valueMask=4294967295),this.start=o,this.container.msb&&(this.start=n-o-e),this.wordMask=z(this.valueMask<<this.start),this.property=r}decode(b,t){return z(this.container._packedGetValue()&this.wordMask)>>>this.start}encode(t){if("number"!=typeof t||!Number.isInteger(t)||t!==z(t&this.valueMask))throw new TypeError(l("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),r=z(t<<this.start);this.container._packedSetValue(z(e&~this.wordMask)|r)}}e.BitField=W;class K extends W{constructor(t,e){super(t,1,e)}decode(b,t){return!!super.decode(b,t)}encode(t){"boolean"==typeof t&&(t=+t),super.encode(t)}}e.Boolean=K;class F extends c{constructor(t,e){if(!(t instanceof d&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let span=-1;t instanceof d||(span=t),super(span,e),this.length=t}getSpan(b,t){let span=this.span;return 0>span&&(span=this.length.decode(b,t)),span}decode(b,t=0){let span=this.span;return 0>span&&(span=this.length.decode(b,t)),h(b).slice(t,t+span)}encode(t,b,e){let span=this.length;if(this.length instanceof d&&(span=t.length),!(t instanceof Uint8Array&&span===t.length))throw new TypeError(l("Blob.encode",this)+" requires (length "+span+") Uint8Array as src");if(e+span>b.length)throw new RangeError("encoding overruns Uint8Array");const r=h(t);return h(b).write(r.toString("hex"),e,span,"hex"),this.length instanceof d&&this.length.encode(span,b,e),span}}e.Blob=F;class H extends c{constructor(t){super(-1,t)}getSpan(b,t=0){o(b);let e=t;for(;e<b.length&&0!==b[e];)e+=1;return 1+e-t}decode(b,t=0){const span=this.getSpan(b,t);return h(b).slice(t,t+span-1).toString("utf-8")}encode(t,b,e=0){"string"!=typeof t&&(t=String(t));const r=n.Buffer.from(t,"utf8"),span=r.length;if(e+span>b.length)throw new RangeError("encoding overruns Buffer");const o=h(b);return r.copy(o,e),o[e+span]=0,span+1}}e.CString=H;class V extends c{constructor(t,e){if("string"==typeof t&&void 0===e&&(e=t,t=void 0),void 0===t)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(b,t=0){return o(b),b.length-t}decode(b,t=0){const span=this.getSpan(b,t);if(0<=this.maxSpan&&this.maxSpan<span)throw new RangeError("text length exceeds maxSpan");return h(b).slice(t,t+span).toString("utf-8")}encode(t,b,e=0){"string"!=typeof t&&(t=String(t));const r=n.Buffer.from(t,"utf8"),span=r.length;if(0<=this.maxSpan&&this.maxSpan<span)throw new RangeError("text length exceeds maxSpan");if(e+span>b.length)throw new RangeError("encoding overruns Buffer");return r.copy(h(b),e),span}}e.UTF8=V;class G extends c{constructor(t,e){super(0,e),this.value=t}decode(b,t){return this.value}encode(t,b,e){return 0}}e.Constant=G,e.greedy=(t,e)=>new f(t,e),e.offset=(t,e,r)=>new m(t,e,r),e.u8=t=>new y(1,t),e.u16=t=>new y(2,t),e.u24=t=>new y(3,t),e.u32=t=>new y(4,t),e.u40=t=>new y(5,t),e.u48=t=>new y(6,t),e.nu64=t=>new k(t),e.u16be=t=>new v(2,t),e.u24be=t=>new v(3,t),e.u32be=t=>new v(4,t),e.u40be=t=>new v(5,t),e.u48be=t=>new v(6,t),e.nu64be=t=>new S(t),e.s8=t=>new w(1,t),e.s16=t=>new w(2,t),e.s24=t=>new w(3,t),e.s32=t=>new w(4,t),e.s40=t=>new w(5,t),e.s48=t=>new w(6,t),e.ns64=t=>new E(t),e.s16be=t=>new M(2,t),e.s24be=t=>new M(3,t),e.s32be=t=>new M(4,t),e.s40be=t=>new M(5,t),e.s48be=t=>new M(6,t),e.ns64be=t=>new A(t),e.f32=t=>new I(t),e.f32be=t=>new P(t),e.f64=t=>new x(t),e.f64be=t=>new T(t),e.struct=(t,e,r)=>new B(t,e,r),e.bits=(t,e,r)=>new D(t,e,r),e.seq=(t,e,r)=>new R(t,e,r),e.union=(t,e,r)=>new U(t,e,r),e.unionLayoutDiscriminator=(t,e)=>new N(t,e),e.blob=(t,e)=>new F(t,e),e.cstr=t=>new H(t),e.utf8=(t,e)=>new V(t,e),e.constant=(t,e)=>new G(t,e)},645:function(t,e,r){"use strict";var n=r(613);Object.defineProperty(e,"__esModule",{value:!0}),e.Client=void 0;var o=n(r(605)),h=n(r(606)),c=n(r(607)),l=n(r(604)),d=n(r(646));function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,l.default)(t);if(e){var o=(0,l.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,c.default)(this,r)}}var m=function(t){(0,h.default)(r,t);var e=f(r);function r(){var address=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ws://localhost:8080",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.autoconnect,h=void 0===n||n,c=t.reconnect,l=void 0===c||c,f=t.reconnect_interval,m=void 0===f?1e3:f,y=t.max_reconnects,v=void 0===y?5:y,w=arguments.length>2?arguments[2]:void 0;return(0,o.default)(this,r),e.call(this,d.default,address,{autoconnect:h,reconnect:l,reconnect_interval:m,max_reconnects:v},w)}return r}(n(r(647)).default);e.Client=m},646:function(t,e,r){"use strict";var n=r(613);Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(address,t){return new m(address,t)};var o=n(r(605)),h=n(r(612)),c=n(r(606)),l=n(r(607)),d=n(r(604));function f(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,d.default)(t);if(e){var o=(0,d.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,l.default)(this,r)}}var m=function(t){(0,c.default)(r,t);var e=f(r);function r(address,t,n){var h;return(0,o.default)(this,r),(h=e.call(this)).socket=new window.WebSocket(address,n),h.socket.onopen=function(){return h.emit("open")},h.socket.onmessage=function(t){return h.emit("message",t.data)},h.socket.onerror=function(t){return h.emit("error",t)},h.socket.onclose=function(t){h.emit("close",t.code,t.reason)},h}return(0,h.default)(r,[{key:"send",value:function(data,t,e){var r=e||t;try{this.socket.send(data),r()}catch(t){r(t)}}},{key:"close",value:function(code,t){this.socket.close(code,t)}},{key:"addEventListener",value:function(t,e,r){this.socket.addEventListener(t,e,r)}}]),r}(r(618).EventEmitter)},647:function(t,e,r){"use strict";(function(t){var n=r(613);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n(r(624)),h=n(r(623)),c=n(r(615)),l=n(r(605)),d=n(r(612)),f=n(r(606)),m=n(r(607)),y=n(r(604)),v=r(618),w=n(r(648));function M(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=(0,y.default)(t);if(e){var o=(0,y.default)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return(0,m.default)(this,r)}}var O=function(s,t){var e={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&t.indexOf(p)<0&&(e[p]=s[p]);if(null!=s&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)t.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(e[p[i]]=s[p[i]])}return e},j=function(e){(0,f.default)(j,e);var r,n,m,y,v=M(j);function j(t){var e,address=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ws://localhost:8080",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;(0,l.default)(this,j);var o=r.autoconnect,h=void 0===o||o,c=r.reconnect,d=void 0===c||c,f=r.reconnect_interval,m=void 0===f?1e3:f,y=r.max_reconnects,w=void 0===y?5:y,M=O(r,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return(e=v.call(this)).webSocketFactory=t,e.queue={},e.rpc_id=0,e.address=address,e.autoconnect=h,e.ready=!1,e.reconnect=d,e.reconnect_interval=m,e.max_reconnects=w,e.rest_options=M,e.current_reconnects=0,e.generate_request_id=n||function(){return++e.rpc_id},e.autoconnect&&e._connect(e.address,Object.assign({autoconnect:e.autoconnect,reconnect:e.reconnect,reconnect_interval:e.reconnect_interval,max_reconnects:e.max_reconnects},e.rest_options)),e}return(0,d.default)(j,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(t,e,r,n){var o=this;return n||"object"!==(0,c.default)(r)||(n=r,r=null),new Promise((function(h,c){if(!o.ready)return c(new Error("socket not ready"));var l=o.generate_request_id(t,e),d={jsonrpc:"2.0",method:t,params:e||null,id:l};o.socket.send(JSON.stringify(d),n,(function(t){if(t)return c(t);o.queue[l]={promise:[h,c]},r&&(o.queue[l].timeout=setTimeout((function(){delete o.queue[l],c(new Error("reply timeout"))}),r))}))}))}},{key:"login",value:(y=(0,h.default)(o.default.mark((function t(e){var r;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call("rpc.login",e);case 2:if(r=t.sent){t.next=5;break}throw new Error("authentication failed");case 5:return t.abrupt("return",r);case 6:case"end":return t.stop()}}),t,this)}))),function(t){return y.apply(this,arguments)})},{key:"listMethods",value:(m=(0,h.default)(o.default.mark((function t(){return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.call("__listMethods");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t,this)}))),function(){return m.apply(this,arguments)})},{key:"notify",value:function(t,e){var r=this;return new Promise((function(n,o){if(!r.ready)return o(new Error("socket not ready"));var h={jsonrpc:"2.0",method:t,params:e||null};r.socket.send(JSON.stringify(h),(function(t){if(t)return o(t);n()}))}))}},{key:"subscribe",value:(n=(0,h.default)(o.default.mark((function t(e){var r;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"string"==typeof e&&(e=[e]),t.next=3,this.call("rpc.on",e);case 3:if(r=t.sent,"string"!=typeof e||"ok"===r[e]){t.next=6;break}throw new Error("Failed subscribing to an event '"+e+"' with: "+r[e]);case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return n.apply(this,arguments)})},{key:"unsubscribe",value:(r=(0,h.default)(o.default.mark((function t(e){var r;return o.default.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"string"==typeof e&&(e=[e]),t.next=3,this.call("rpc.off",e);case 3:if(r=t.sent,"string"!=typeof e||"ok"===r[e]){t.next=6;break}throw new Error("Failed unsubscribing from an event with: "+r);case 6:return t.abrupt("return",r);case 7:case"end":return t.stop()}}),t,this)}))),function(t){return r.apply(this,arguments)})},{key:"close",value:function(code,data){this.socket.close(code||1e3,data)}},{key:"_connect",value:function(address,e){var r=this;this.socket=this.webSocketFactory(address,e),this.socket.addEventListener("open",(function(){r.ready=!0,r.emit("open"),r.current_reconnects=0})),this.socket.addEventListener("message",(function(e){var n=e.data;n instanceof ArrayBuffer&&(n=t.from(n).toString());try{n=w.default.parse(n)}catch(t){return}if(n.notification&&r.listeners(n.notification).length){if(!Object.keys(n.params).length)return r.emit(n.notification);var o=[n.notification];if(n.params.constructor===Object)o.push(n.params);else for(var i=0;i<n.params.length;i++)o.push(n.params[i]);return Promise.resolve().then((function(){r.emit.apply(r,o)}))}if(!r.queue[n.id])return n.method&&n.params?Promise.resolve().then((function(){r.emit(n.method,n.params)})):void 0;"error"in n=="result"in n&&r.queue[n.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),r.queue[n.id].timeout&&clearTimeout(r.queue[n.id].timeout),n.error?r.queue[n.id].promise[1](n.error):r.queue[n.id].promise[0](n.result),delete r.queue[n.id]})),this.socket.addEventListener("error",(function(t){return r.emit("error",t)})),this.socket.addEventListener("close",(function(t){var code=t.code,n=t.reason;r.ready&&setTimeout((function(){return r.emit("close",code,n)}),0),r.ready=!1,r.socket=void 0,1e3!==code&&(r.current_reconnects++,r.reconnect&&(r.max_reconnects>r.current_reconnects||0===r.max_reconnects)&&setTimeout((function(){return r._connect(address,e)}),r.reconnect_interval))}))}}]),j}(v.EventEmitter);e.default=j}).call(this,r(16).Buffer)},648:function(t,e){var r="~",n="\\x"+("0"+r.charCodeAt(0).toString(16)).slice(-2),o="\\"+n,h=new RegExp(n,"g"),c=new RegExp(o,"g"),l=new RegExp("(?:^|([^\\\\]))"+o),d=[].indexOf||function(t){for(var i=this.length;i--&&this[i]!==t;);return i},f=String;function m(t,e,n){return e instanceof Array?function(t,e,r){for(var i=0,n=e.length;i<n;i++)e[i]=m(t,e[i],r);return e}(t,e,n):e instanceof f?e.length?n.hasOwnProperty(e)?n[e]:n[e]=function(t,e){for(var i=0,n=e.length;i<n;t=t[e[i++].replace(c,r)]);return t}(t,e.split(r)):t:e instanceof Object?function(t,e,r){for(var n in e)e.hasOwnProperty(n)&&(e[n]=m(t,e[n],r));return e}(t,e,n):e}var y={stringify:function(t,e,c,l){return y.parser.stringify(t,function(t,e,c){var i,l,f=!1,m=!!e,path=[],y=[t],v=[t],w=[c?r:"[Circular]"],M=t,O=1;return m&&(l="object"==typeof e?function(t,r){return""!==t&&e.indexOf(t)<0?void 0:r}:e),function(t,e){return m&&(e=l.call(this,t,e)),f?(M!==this&&(i=O-d.call(y,this)-1,O-=i,y.splice(O,y.length),path.splice(O-1,path.length),M=this),"object"==typeof e&&e?(d.call(y,e)<0&&y.push(M=e),O=y.length,(i=d.call(v,e))<0?(i=v.push(e)-1,c?(path.push((""+t).replace(h,n)),w[i]=r+path.join(r)):w[i]=w[0]):e=w[i]):"string"==typeof e&&c&&(e=e.replace(n,o).replace(r,n))):f=!0,e}}(t,e,!l),c)},parse:function(text,t){return y.parser.parse(text,function(t){return function(e,h){var c="string"==typeof h;return c&&h.charAt(0)===r?new f(h.slice(1)):(""===e&&(h=m(h,h,{})),c&&(h=h.replace(l,"$1~").replace(o,n)),t?t.call(this,e,h):h)}}(t))},parser:JSON};t.exports=y},649:function(t,e,r){"use strict";const n=r(619).v4,o=r(650),h=function(t,e){if(!(this instanceof h))return new h(t,e);e||(e={}),this.options={reviver:void 0!==e.reviver?e.reviver:null,replacer:void 0!==e.replacer?e.replacer:null,generator:void 0!==e.generator?e.generator:function(){return n()},version:void 0!==e.version?e.version:2,notificationIdNull:"boolean"==typeof e.notificationIdNull&&e.notificationIdNull},this.callServer=t};t.exports=h,h.prototype.request=function(t,e,r,n){const h=this;let c=null;const l=Array.isArray(t)&&"function"==typeof e;if(1===this.options.version&&l)throw new TypeError("JSON-RPC 1.0 does not support batching");if(l||!l&&t&&"object"==typeof t&&"function"==typeof e)n=e,c=t;else{"function"==typeof r&&(n=r,r=void 0);const h="function"==typeof n;try{c=o(t,e,r,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(t){if(h)return n(t);throw t}if(!h)return c}let d;try{d=JSON.stringify(c,this.options.replacer)}catch(t){return n(t)}return this.callServer(d,(function(t,e){h._parseResponse(t,e,n)})),c},h.prototype._parseResponse=function(t,e,r){if(t)return void r(t);if(!e)return r();let n;try{n=JSON.parse(e,this.options.reviver)}catch(t){return r(t)}if(3===r.length){if(Array.isArray(n)){const t=function(t){return void 0!==t.error},e=function(e){return!t(e)};return r(null,n.filter(t),n.filter(e))}return r(null,n.error,n.result)}r(null,n)}},650:function(t,e,r){"use strict";const n=r(619).v4;t.exports=function(t,e,r,o){if("string"!=typeof t)throw new TypeError(t+" must be a string");const h="number"==typeof(o=o||{}).version?o.version:2;if(1!==h&&2!==h)throw new TypeError(h+" must be 1 or 2");const c={method:t};if(2===h&&(c.jsonrpc="2.0"),e){if("object"!=typeof e&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");c.params=e}if(void 0===r){const t="function"==typeof o.generator?o.generator:function(){return n()};c.id=t(c,o)}else 2===h&&null===r?o.notificationIdNull&&(c.id=null):c.id=r;return c}},651:function(t,e,r){"use strict";r.d(e,"a",(function(){return O})),r.d(e,"b",(function(){return j})),r.d(e,"c",(function(){return m})),r.d(e,"d",(function(){return _})),r.d(e,"e",(function(){return U})),r.d(e,"f",(function(){return y})),r.d(e,"g",(function(){return k})),r.d(e,"h",(function(){return S})),r.d(e,"i",(function(){return A})),r.d(e,"j",(function(){return I})),r.d(e,"k",(function(){return P})),r.d(e,"l",(function(){return x})),r.d(e,"m",(function(){return T})),r.d(e,"n",(function(){return R})),r.d(e,"o",(function(){return B})),r.d(e,"p",(function(){return C})),r.d(e,"q",(function(){return N}));class n extends TypeError{constructor(t,e){let r;const{message:n,...o}=t,{path:path}=t;super(0===path.length?n:"At path: "+path.join(".")+" -- "+n),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var n;return null!=(n=r)?n:r=[t,...e()]}}}function o(t){return"object"==typeof t&&null!=t}function h(t){return"string"==typeof t?JSON.stringify(t):""+t}function c(t,e,r,n){if(!0===t)return;!1===t?t={}:"string"==typeof t&&(t={message:t});const{path:path,branch:o}=e,{type:c}=r,{refinement:l,message:d="Expected a value of type `"+c+"`"+(l?" with refinement `"+l+"`":"")+", but received: `"+h(n)+"`"}=t;return{value:n,type:c,refinement:l,key:path[path.length-1],path:path,branch:o,...t,message:d}}function*l(t,e,r,n){var h;o(h=t)&&"function"==typeof h[Symbol.iterator]||(t=[t]);for(const o of t){const t=c(o,e,r,n);t&&(yield t)}}function*d(t,e,r={}){const{path:path=[],branch:n=[t],coerce:h=!1,mask:mask=!1}=r,c={path:path,branch:n};if(h&&(t=e.coercer(t,c),mask&&"type"!==e.type&&o(e.schema)&&o(t)&&!Array.isArray(t)))for(const r in t)void 0===e.schema[r]&&delete t[r];let l=!0;for(const r of e.validator(t,c))l=!1,yield[r,void 0];for(let[r,f,s]of e.entries(t,c)){const e=d(f,s,{path:void 0===r?path:[...path,r],branch:void 0===r?n:[...n,f],coerce:h,mask:mask});for(const n of e)n[0]?(l=!1,yield[n[0],void 0]):h&&(f=n[1],void 0===r?t=f:t instanceof Map?t.set(r,f):t instanceof Set?t.add(f):o(t)&&(t[r]=f))}if(l)for(const r of e.refiner(t,c))l=!1,yield[r,void 0];l&&(yield[void 0,t])}class f{constructor(t){const{type:e,schema:r,validator:n,refiner:o,coercer:h=(t=>t),entries:c=function*(){}}=t;this.type=e,this.schema=r,this.entries=c,this.coercer=h,this.validator=n?(t,e)=>l(n(t,e),e,this,t):()=>[],this.refiner=o?(t,e)=>l(o(t,e),e,this,t):()=>[]}assert(t){return m(t,this)}create(t){return y(t,this)}is(t){return v(t,this)}mask(t){return function(t,e){const r=w(t,e,{coerce:!0,mask:!0});if(r[0])throw r[0];return r[1]}(t,this)}validate(t,e={}){return w(t,this,e)}}function m(t,e){const r=w(t,e);if(r[0])throw r[0]}function y(t,e){const r=w(t,e,{coerce:!0});if(r[0])throw r[0];return r[1]}function v(t,e){return!w(t,e)[0]}function w(t,e,r={}){const o=d(t,e,r),h=function(input){const{done:t,value:e}=input.next();return t?void 0:e}(o);if(h[0]){return[new n(h[0],(function*(){for(const t of o)t[0]&&(yield t[0])})),void 0]}return[void 0,h[1]]}function M(t,e){return new f({type:t,schema:null,validator:e})}function O(){return M("any",(()=>!0))}function j(t){return new f({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[i,r]of e.entries())yield[i,r,t]},coercer:t=>Array.isArray(t)?t.slice():t,validator:t=>Array.isArray(t)||"Expected an array value, but received: "+h(t)})}function _(){return M("boolean",(t=>"boolean"==typeof t))}function k(t){return M("instance",(e=>e instanceof t||"Expected a `"+t.name+"` instance, but received: "+h(e)))}function S(t){const e=h(t),r=typeof t;return new f({type:"literal",schema:"string"===r||"number"===r||"boolean"===r?t:null,validator:r=>r===t||"Expected the literal `"+e+"`, but received: "+h(r)})}function E(){return M("never",(()=>!1))}function A(t){return new f({...t,validator:(e,r)=>null===e||t.validator(e,r),refiner:(e,r)=>null===e||t.refiner(e,r)})}function I(){return M("number",(t=>"number"==typeof t&&!isNaN(t)||"Expected a number, but received: "+h(t)))}function P(t){return new f({...t,validator:(e,r)=>void 0===e||t.validator(e,r),refiner:(e,r)=>void 0===e||t.refiner(e,r)})}function x(t,e){return new f({type:"record",schema:null,*entries(r){if(o(r))for(const n in r){const o=r[n];yield[n,n,t],yield[n,o,e]}},validator:t=>o(t)||"Expected an object, but received: "+h(t)})}function T(){return M("string",(t=>"string"==typeof t||"Expected a string, but received: "+h(t)))}function R(t){const e=E();return new f({type:"tuple",schema:null,*entries(r){if(Array.isArray(r)){const n=Math.max(t.length,r.length);for(let i=0;i<n;i++)yield[i,r[i],t[i]||e]}},validator:t=>Array.isArray(t)||"Expected an array, but received: "+h(t)})}function B(t){const e=Object.keys(t);return new f({type:"type",schema:t,*entries(r){if(o(r))for(const n of e)yield[n,r[n],t[n]]},validator:t=>o(t)||"Expected an object, but received: "+h(t)})}function C(t){const e=t.map((s=>s.type)).join(" | ");return new f({type:"union",schema:null,validator(r,n){const o=[];for(const e of t){const[...t]=d(r,e,n),[h]=t;if(!h[0])return[];for(const[e]of t)e&&o.push(e)}return["Expected the value to satisfy a union of `"+e+"`, but received: "+h(r),...o]}})}function N(){return M("unknown",(()=>!0))}function U(t,e,r){return new f({...t,coercer:(n,o)=>v(n,e)?t.coercer(r(n,o),o):t.coercer(n,o)})}},652:function(t,e,r){"use strict";r.r(e),function(t){r.d(e,"PhantomInjectedProvider",(function(){return B})),r.d(e,"PrivateKeyWallet",(function(){return O})),r.d(e,"SolanaPrivateKeyProvider",(function(){return D})),r.d(e,"SolanaWallet",(function(){return W})),r.d(e,"TorusInjectedProvider",(function(){return U}));var n=r(5),o=r.n(n),h=r(629),c=r(663),l=r.n(c),d=r(610),f=r.n(d),m=r(630),y=r(34),v=r(3),w=r(653),M=r(189);class O{constructor(t){o()(this,"provider",void 0),this.provider=t}async requestAccounts(){return await this.provider.request({method:"requestAccounts",params:{}})}async signAndSendTransaction(t){const e=await this.signTransaction(t);return{signature:await this.provider.request({method:"sendTransaction",params:[f.a.encode(e.serialize())]})}}async sendTransaction(t){const e=await this.signTransaction(t);return{signature:await this.provider.request({method:"sendTransaction",params:[f.a.encode(e.serialize())]})}}async signTransaction(e){const r=await this.provider.request({method:"solanaPrivateKey"}),n=h.a.fromSecretKey(t.from(r,"hex"));return e.partialSign(n),e}async signAllTransactions(e){const r=await this.provider.request({method:"solanaPrivateKey"}),n=h.a.fromSecretKey(t.from(r,"hex"));return e.map((t=>(t.partialSign(n),t)))}async signMessage(data){const e=await this.provider.request({method:"solanaPrivateKey"}),r=h.a.fromSecretKey(t.from(e,"hex"));return l.a.sign.detached(data,r.secretKey)}async request(t){return await this.provider.request(t)}}function j(t){return(e,r,n,o)=>"solana_chainId"===e.method?(r.result=t,o()):n()}function _(t){return(e,r,n,o)=>"solana_provider_config"===e.method?(r.result=t,o()):n()}function k(t){const{chainId:e}=t;return Object(y.k)([j(e),_(t)])}function S(t){let{getAccounts:e}=t;return Object(y.f)((async(t,r,n)=>{const{method:o}=t;if("getAccounts"!==o)return n();if(!e)throw new Error("WalletMiddleware - opts.getAccounts not provided");const h=await e(t);r.result=h}))}function E(t){let{requestAccounts:e}=t;return Object(y.f)((async(t,r,n)=>{const{method:o}=t;if("requestAccounts"!==o)return n();if(!e)throw new Error("WalletMiddleware - opts.requestAccounts not provided");const h=await e(t);r.result=h}))}function A(t,e){return Object(y.f)((async(r,n,o)=>{const{method:h}=r;if(h!==t)return o();if(!e)throw new Error("WalletMiddleware - ".concat(t," not provided"));const c=await e(r);n.result=c}))}function I(t){const{getAccounts:e,requestAccounts:r,signTransaction:n,signAndSendTransaction:o,signAllTransactions:h,signMessage:c,getPrivateKey:l,getSecretKey:d}=t;return Object(y.k)([E({requestAccounts:r}),S({getAccounts:e}),A("signTransaction",n),A("signAndSendTransaction",o),A("signAllTransactions",h),A("signMessage",c),A("solanaPrivateKey",l),A("solanaSecretKey",d)])}function P(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function x(t){return Object(y.f)((async(e,r,n)=>{const h=await t.request(function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?P(Object(source),!0).forEach((function(e){o()(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):P(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},e));r.result=h}))}function T(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function R(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(Object(source),!0).forEach((function(e){o()(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):T(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}class B extends w.a{constructor(t){let{config:e,state:r}=t;super({config:{chainConfig:R(R({},e.chainConfig),{},{chainNamespace:v.f.SOLANA})},state:r})}async switchChain(t){return Promise.resolve()}async setupProvider(t){const e=(t=>({requestAccounts:async()=>t.publicKey?[f.a.encode(t.publicKey.toBytes())]:[],getAccounts:async()=>t.publicKey?[f.a.encode(t.publicKey.toBytes())]:[],getPrivateKey:async()=>{throw M.ethErrors.rpc.methodNotSupported()},getSecretKey:async()=>{throw M.ethErrors.rpc.methodNotSupported()},signTransaction:async e=>{const r=f.a.decode(e.params.message),n=h.c.from(r);return await t.signTransaction(n)},signMessage:async e=>{var r;return await t.request({method:"signMessage",params:{message:null===(r=e.params)||void 0===r?void 0:r.message}})},signAndSendTransaction:async e=>{const r=f.a.decode(e.params.message),n=h.c.from(r);return{signature:(await t.signAndSendTransaction(n)).signature}},signAllTransactions:async e=>{var r,n;if(null===(r=e.params)||void 0===r||!r.message||null===(n=e.params)||void 0===n||!n.message.length)throw M.ethErrors.rpc.invalidParams("message");const o=e.params.message.map((t=>{const e=f.a.decode(t);return h.c.from(e)}));return await t.signAllTransactions(o)}}))(t),r=I(e),n=k(this.config.chainConfig),o=x(t),c=new y.b;c.push(r),c.push(n),c.push(o);const l=Object(m.i)(c);this.updateProviderEngineProxy(l),await this.lookupNetwork(t)}async lookupNetwork(t){const{chainConfig:e}=this.config;return this.update({chainId:e.chainId}),e.chainId||""}}function C(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function N(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?C(Object(source),!0).forEach((function(e){o()(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):C(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}class U extends w.a{constructor(t){let{config:e,state:r}=t;super({config:{chainConfig:N(N({},e.chainConfig),{},{chainNamespace:v.f.SOLANA})},state:r})}async switchChain(t){return Promise.resolve()}async setupProvider(t){this.handleInjectedProviderUpdate(t),await this.setupEngine(t)}async lookupNetwork(){if(!this.provider)throw M.ethErrors.provider.custom({message:"Torus solana provider is not initialized",code:4902});const{chainId:t}=this.config.chainConfig,e=await this.provider.request({method:"solana_chainId"}),r=Object(v.n)(e.toString())?e:"0x".concat(parseInt(e,10).toString(16));if(t!==r)throw v.j.rpcConnectionError("Invalid network, net_version is: ".concat(r,", expected: ").concat(t));return this.update({chainId:r}),this.provider.emit("connect",{chainId:this.state.chainId}),this.provider.emit("chainChanged",this.state.chainId),this.state.chainId}async setupEngine(e){const r=(e=>({requestAccounts:async()=>await e.request({method:"solana_requestAccounts",params:{}}),getAccounts:async()=>await e.request({method:"solana_accounts",params:{}}),getPrivateKey:async()=>{throw M.ethErrors.rpc.methodNotSupported()},getSecretKey:async()=>{throw M.ethErrors.rpc.methodNotSupported()},signMessage:async t=>{var r;return await e.request({method:"sign_message",params:{data:null===(r=t.params)||void 0===r?void 0:r.message}})},signTransaction:async r=>{var n;if(null===(n=r.params)||void 0===n||!n.message)throw M.ethErrors.rpc.invalidParams("message");const o=f.a.decode(r.params.message).toString("hex"),c=await e.request({method:"sign_transaction",params:{message:o}}),l=t.from(c,"hex");return h.c.from(l)},signAndSendTransaction:async t=>{var r;if(null===(r=t.params)||void 0===r||!r.message)throw M.ethErrors.rpc.invalidParams("message");const n=f.a.decode(t.params.message).toString("hex");return{signature:await e.request({method:"send_transaction",params:{message:n}})}},signAllTransactions:async t=>{var r,n;if(null===(r=t.params)||void 0===r||!r.message||null===(n=t.params)||void 0===n||!n.message.length)throw M.ethErrors.rpc.invalidParams("message");const o=[];for(const e of t.params.message){const t=f.a.decode(e).toString("hex");o.push(t)}return await e.request({method:"sign_all_transactions",params:{message:o}})}}))(e),n=I(r),o=x(e),c=new y.b;c.push(n),c.push(o);const l=Object(m.i)(c);this.updateProviderEngineProxy(l),await this.lookupNetwork()}async handleInjectedProviderUpdate(t){t.on("accountsChanged",(async t=>{this.provider.emit("accountsChanged",t)})),t.on("chainChanged",(async e=>{const r=Object(v.n)(e)?e:"0x".concat(parseInt(e,10).toString(16));this.configure({chainConfig:N(N({},this.config.chainConfig),{},{chainId:r})}),await this.setupProvider(t)}))}}function L(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function z(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?L(Object(source),!0).forEach((function(e){o()(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):L(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}class D extends w.a{constructor(t){let{config:e,state:r}=t;super({config:{chainConfig:z(z({},e.chainConfig),{},{chainNamespace:v.f.SOLANA})},state:r})}async enable(){if(!this.state.privateKey)throw M.ethErrors.provider.custom({message:"Private key is not found in state, plz pass it in constructor state param",code:4902});return await this.setupProvider(this.state.privateKey),this._providerEngineProxy.request({method:"eth_accounts"})}async setupProvider(e){const r=await async function(e){let{privKey:r,getProviderEngineProxy:n}=e;const o=t=>{const e=f.a.decode(t);return h.c.from(e)};if("string"!=typeof r)throw v.j.invalidParams("privKey must be a string");const c=h.a.fromSecretKey(t.from(r,"hex"));return{requestAccounts:async()=>[c.publicKey.toBase58()],getAccounts:async()=>[c.publicKey.toBase58()],getPrivateKey:async()=>r,getSecretKey:async()=>f.a.encode(c.secretKey),signTransaction:async t=>{var e,r;if(null===(e=t.params)||void 0===e||!e.message)throw M.ethErrors.rpc.invalidParams("message");const n=o(null===(r=t.params)||void 0===r?void 0:r.message);return n.partialSign(c),n},signMessage:async t=>{var e;if(null===(e=t.params)||void 0===e||!e.message)throw M.ethErrors.rpc.invalidParams("message");return l.a.sign.detached(t.params.message,c.secretKey)},signAndSendTransaction:async t=>{var e,r;if(null===(e=t.params)||void 0===e||!e.message)throw M.ethErrors.rpc.invalidParams("message");const h=n();if(!h)throw M.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});const l=o(null===(r=t.params)||void 0===r?void 0:r.message);return l.sign(c),{signature:await h.request({method:"sendTransaction",params:[f.a.encode(l.serialize())]})}},signAllTransactions:async t=>{var e,r;if(null===(e=t.params)||void 0===e||!e.message||null===(r=t.params)||void 0===r||!r.message.length)throw M.ethErrors.rpc.invalidParams("message");const n=[];for(const e of(null===(h=t.params)||void 0===h?void 0:h.message)||[]){var h;const t=o(e);t.partialSign(c),n.push(t)}return n}}}({privKey:e,getProviderEngineProxy:this.getProviderEngineProxy.bind(this)}),n=I(r),o=new y.b,{networkMiddleware:c}=function(t){const{rpcTarget:e}=t,r=Object(m.g)({rpcTarget:e});return{networkMiddleware:Object(y.k)([k(t),r]),fetchMiddleware:r}}(this.config.chainConfig);o.push(this.getChainSwitchMiddleware()),o.push(this.getAccountMiddleware()),o.push(n),o.push(c);const d=Object(m.i)(o);this.updateProviderEngineProxy(d),await this.lookupNetwork()}async updateAccount(t){if(!this._providerEngineProxy)throw M.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});await this._providerEngineProxy.request({method:"solanaPrivateKey"})!==t.privateKey&&(await this.setupProvider(t.privateKey),this._providerEngineProxy.emit("accountsChanged",{accounts:await this._providerEngineProxy.request({method:"requestAccounts"})}))}async switchChain(t){if(!this._providerEngineProxy)throw M.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});const e=this.getChainConfig(t.chainId);this.update({chainId:"loading"}),this.configure({chainConfig:e});const r=await this._providerEngineProxy.request({method:"solanaPrivateKey"});await this.setupProvider(r)}async lookupNetwork(){if(!this._providerEngineProxy)throw M.ethErrors.provider.custom({message:"Provider is not initialized",code:4902});const t=await this._providerEngineProxy.request({method:"getHealth",params:[]}),{chainConfig:e}=this.config;if("ok"!==t)throw v.j.rpcConnectionError("Failed to lookup network for following rpc target: ".concat(e.rpcTarget));return this.update({chainId:e.chainId}),this.state.chainId!==e.chainId&&(this.provider.emit("chainChanged",this.state.chainId),this.provider.emit("connect",{chainId:this.state.chainId})),this.state.chainId}getChainSwitchMiddleware(){return function(t){let{addNewChainConfig:e,switchSolanaChain:r}=t;return Object(y.k)([A("addSolanaChain",e),A("switchSolanaChain",r)])}({addNewChainConfig:async t=>{if(!t.params)throw M.ethErrors.rpc.invalidParams("Missing request params");const{chainId:e,chainName:r,rpcUrls:n,blockExplorerUrls:o,nativeCurrency:h}=t.params;if(!e)throw M.ethErrors.rpc.invalidParams("Missing chainId in chainParams");if(!n||0===n.length)throw M.ethErrors.rpc.invalidParams("Missing rpcUrls in chainParams");if(!h)throw M.ethErrors.rpc.invalidParams("Missing nativeCurrency in chainParams");this.addChain({chainNamespace:v.f.SOLANA,chainId:e,ticker:(null==h?void 0:h.symbol)||"SOL",tickerName:(null==h?void 0:h.name)||"Solana",displayName:r,rpcTarget:n[0],blockExplorer:(null==o?void 0:o[0])||""})},switchSolanaChain:async t=>{if(!t.params)throw M.ethErrors.rpc.invalidParams("Missing request params");if(!t.params.chainId)throw M.ethErrors.rpc.invalidParams("Missing chainId");await this.switchChain(t.params)}})}getAccountMiddleware(){return function(t){let{updatePrivatekey:e}=t;return Object(y.k)([A("updateAccount",e)])}({updatePrivatekey:async t=>{if(!t.params)throw M.ethErrors.rpc.invalidParams("Missing request params");if(!t.params.privateKey)throw M.ethErrors.rpc.invalidParams("Missing privateKey");const{privateKey:e}=t.params;await this.updateAccount({privateKey:e})}})}}o()(D,"getProviderInstance",(async t=>{const e=new D({config:{chainConfig:t.chainConfig}});return await e.setupProvider(t.privKey),e}));class W{constructor(t){o()(this,"provider",void 0),this.provider=t}async requestAccounts(){return await this.provider.request({method:"requestAccounts",params:{}})}async signAndSendTransaction(t){const{signature:e}=await this.provider.request({method:"signAndSendTransaction",params:{message:f.a.encode(t.serialize({requireAllSignatures:!1}))}});return{signature:e}}async signTransaction(t){return await this.provider.request({method:"signTransaction",params:{message:f.a.encode(t.serialize({requireAllSignatures:!1}))}})}async signAllTransactions(t){const e=t.map((t=>f.a.encode(t.serialize({requireAllSignatures:!1}))));return await this.provider.request({method:"signAllTransactions",params:{message:e}})}async signMessage(data){return await this.provider.request({method:"signMessage",params:{message:data}})}async request(t){return await this.provider.request(t)}}}.call(this,r(16).Buffer)},662:function(t,e){},664:function(t,e){},676:function(t,e,r){"use strict";t.exports=function t(a,b){if(a===b)return!0;if(a&&b&&"object"==typeof a&&"object"==typeof b){if(a.constructor!==b.constructor)return!1;var e,i,r;if(Array.isArray(a)){if((e=a.length)!=b.length)return!1;for(i=e;0!=i--;)if(!t(a[i],b[i]))return!1;return!0}if(a.constructor===RegExp)return a.source===b.source&&a.flags===b.flags;if(a.valueOf!==Object.prototype.valueOf)return a.valueOf()===b.valueOf();if(a.toString!==Object.prototype.toString)return a.toString()===b.toString();if((e=(r=Object.keys(a)).length)!==Object.keys(b).length)return!1;for(i=e;0!=i--;)if(!Object.prototype.hasOwnProperty.call(b,r[i]))return!1;for(i=e;0!=i--;){var n=r[i];if(!t(a[n],b[n]))return!1}return!0}return a!=a&&b!=b}},677:function(t,e,r){"use strict";const n=t=>null!==t&&"object"==typeof t&&"function"==typeof t.pipe;n.writable=t=>n(t)&&!1!==t.writable&&"function"==typeof t._write&&"object"==typeof t._writableState,n.readable=t=>n(t)&&!1!==t.readable&&"function"==typeof t._read&&"object"==typeof t._readableState,n.duplex=t=>n.writable(t)&&n.readable(t),n.transform=t=>n.duplex(t)&&"function"==typeof t._transform,t.exports=n},814:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return tt}));var n=r(5),o=r.n(n),h=r(629),c=r(630),l=r(191),d=r(34),f=r(189),m=r(677),y=r(174),v=r.n(y),w=r(83),M=r.n(w),O=r(676),j=r.n(O),_={disconnected:()=>"Torus: Lost connection to Torus.",permanentlyDisconnected:()=>"Torus: Disconnected from iframe. Page reload required.",unsupportedSync:t=>"Torus: The Torus Ethereum provider does not support synchronous methods like ".concat(t," without a callback parameter."),invalidDuplexStream:()=>"Must provide a Node.js-style duplex stream.",invalidOptions:t=>"Invalid options. Received: { maxEventListeners: ".concat(t,"}"),invalidRequestArgs:()=>"Expected a single, non-array, object argument.",invalidRequestMethod:()=>"'args.method' must be a non-empty string.",invalidRequestParams:()=>"'args.params' must be an object or array if provided.",invalidLoggerObject:()=>"'args.logger' must be an object if provided.",invalidLoggerMethod:t=>"'args.logger' must include required method '".concat(t,"'.")},k={connected:t=>'Torus: Connected to chain with ID "'.concat(t,'".')};const S={PRODUCTION:"production",DEVELOPMENT:"development",TESTING:"testing"},E={BOTTOM_LEFT:"bottom-left",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",TOP_RIGHT:"top-right"};var A={supportedVerifierList:["google","reddit","discord"],api:"https://api.tor.us",translations:{en:{embed:{continue:"Continue",actionRequired:"Authorization required",pendingAction:"Click continue to proceed with your request in a popup",cookiesRequired:"Cookies Required",enableCookies:"Please enable cookies in your browser preferences to access Torus",clickHere:"More Info"}},de:{embed:{continue:"Fortsetzen",actionRequired:"Autorisierung erforderlich",pendingAction:"Klicken Sie in einem Popup auf Weiter, um mit Ihrer Anfrage fortzufahren",cookiesRequired:"Cookies bentigt",enableCookies:"Bitte aktivieren Sie Cookies in Ihren Browsereinstellungen, um auf Torus zuzugreifen",clickHere:"Mehr Info"}},ja:{embed:{continue:"",actionRequired:"",pendingAction:"",cookiesRequired:"",enableCookies:"TorusCookie",clickHere:""}},ko:{embed:{continue:"",actionRequired:" ",pendingAction:"    .",cookiesRequired:" ",enableCookies:"     Torus .",clickHere:"  "}},zh:{embed:{continue:"",actionRequired:"",pendingAction:"",cookiesRequired:"Cookie",enableCookies:"cookieTorus",clickHere:""}}},prodTorusUrl:"",localStorageKey:"torus-".concat(window.location.hostname)},I=M.a.getLogger("solana-embed");const P=()=>Math.random().toString(36).slice(2),x=async t=>{let e,r;switch(t){case"testing":e="https://solana-testing.tor.us",r="debug";break;case"development":e="http://localhost:8080",r="debug";break;default:e="https://solana.tor.us",r="error"}return{torusUrl:e,logLevel:r}},T={height:660,width:375},R={height:740,width:1315},B={height:700,width:1200},C={height:600,width:400};function N(t){let{width:e,height:r}=t;const n=void 0!==window.screenLeft?window.screenLeft:window.screenX,o=void 0!==window.screenTop?window.screenTop:window.screenY,h=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:window.screen.width,c=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:window.screen.height,l=Math.abs((h-e)/2/1+n),d=Math.abs((c-r)/2/1+o);return"titlebar=0,toolbar=0,status=0,location=0,menubar=0,height=".concat(r/1,",width=").concat(e/1,",top=").concat(d,",left=").concat(l)}class U extends d.e{constructor(t,e){let{maxEventListeners:r=100,jsonRpcStreamName:n="provider"}=e;if(super(),o()(this,"isTorus",void 0),o()(this,"_rpcEngine",void 0),o()(this,"jsonRpcConnectionEvents",void 0),o()(this,"_state",void 0),!Object(m.duplex)(t))throw new Error(_.invalidDuplexStream());this.isTorus=!0,this.setMaxListeners(r),this._handleConnect=this._handleConnect.bind(this),this._handleDisconnect=this._handleDisconnect.bind(this),this._handleStreamDisconnect=this._handleStreamDisconnect.bind(this),this._rpcRequest=this._rpcRequest.bind(this),this._initializeState=this._initializeState.bind(this),this.request=this.request.bind(this),this.sendAsync=this.sendAsync.bind(this);const h=new d.c;v()(t,h,t,this._handleStreamDisconnect.bind(this,"Torus")),h.ignoreStream("phishing");const l=Object(d.i)();v()(l.stream,h.createStream(n),l.stream,this._handleStreamDisconnect.bind(this,"Torus RpcProvider"));const y=new d.b;y.push(Object(d.g)()),y.push(((t,e,r)=>{"string"==typeof t.method&&t.method||(e.error=f.ethErrors.rpc.invalidRequest({message:"The request 'method' must be a non-empty string.",data:t})),r((t=>{const{error:r}=e;return r?(I.error("Torus - RPC Error: ".concat(r.message),r),t()):t()}))})),y.push(Object(c.h)({origin:location.origin})),y.push(l.middleware),this._rpcEngine=y,this.jsonRpcConnectionEvents=l.events}async request(t){if(!t||"object"!=typeof t||Array.isArray(t))throw f.ethErrors.rpc.invalidRequest({message:_.invalidRequestArgs(),data:t});const{method:e,params:r}=t;if("string"!=typeof e||0===e.length)throw f.ethErrors.rpc.invalidRequest({message:_.invalidRequestMethod(),data:t});if(void 0!==r&&!Array.isArray(r)&&("object"!=typeof r||null===r))throw f.ethErrors.rpc.invalidRequest({message:_.invalidRequestParams(),data:t});return new Promise(((t,n)=>{this._rpcRequest({method:e,params:r},Object(d.j)(t,n))}))}send(t,e){this._rpcRequest(t,e)}sendAsync(t){return new Promise(((e,r)=>{this._rpcRequest(t,Object(d.j)(e,r))}))}_handleStreamDisconnect(t,e){!function(t,e,r){let n='Torus: Lost connection to "'.concat(t,'".');null!=e&&e.stack&&(n+="\n".concat(e.stack)),I.warn(n),r&&r.listenerCount("error")>0&&r.emit("error",n)}(t,e,this),this._handleDisconnect(!1,e?e.message:void 0)}}async function L(){return new Promise((t=>{"loading"!==document.readyState?t():function(t,e,r){for(var n=arguments.length,o=new Array(n>3?n-3:0),h=3;h<n;h++)o[h-3]=arguments[h];const c=()=>{r(...o),t.removeEventListener(e,c)};t.addEventListener(e,c)}(document,"DOMContentLoaded",t)}))}const z=html=>{const template=window.document.createElement("template"),t=html.trim();return template.innerHTML=t,template.content.firstChild};class D extends d.e{constructor(t){let{url:e,target:r,features:n}=t;super(),o()(this,"url",void 0),o()(this,"target",void 0),o()(this,"features",void 0),o()(this,"window",void 0),o()(this,"windowTimer",void 0),o()(this,"iClosedWindow",void 0),this.url=e,this.target=r||"_blank",this.features=n||N(B),this.window=void 0,this.windowTimer=void 0,this.iClosedWindow=!1,this._setupTimer()}_setupTimer(){this.windowTimer=Number(setInterval((()=>{this.window&&this.window.closed&&(clearInterval(this.windowTimer),this.iClosedWindow||this.emit("close"),this.iClosedWindow=!1,this.window=void 0),void 0===this.window&&clearInterval(this.windowTimer)}),500))}open(){var t;return this.window=window.open(this.url.href,this.target,this.features),null!==(t=this.window)&&void 0!==t&&t.focus&&this.window.focus(),Promise.resolve()}close(){this.iClosedWindow=!0,this.window&&this.window.close()}redirect(t){t?window.location.replace(this.url.href):window.location.href=this.url.href}}function W(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}class K extends U{constructor(t,e){let{maxEventListeners:r=100,jsonRpcStreamName:n="provider"}=e;super(t,{maxEventListeners:r,jsonRpcStreamName:n}),o()(this,"embedTranslations",void 0),o()(this,"torusUrl",void 0),o()(this,"dappStorageKey",void 0),o()(this,"windowRefs",void 0),o()(this,"tryWindowHandle",void 0),o()(this,"torusAlertContainer",void 0),o()(this,"torusIframe",void 0),this._state=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?W(Object(source),!0).forEach((function(e){o()(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):W(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},K._defaultState),this.torusUrl="",this.dappStorageKey="";const h=A.translations[(()=>{let t=window.navigator.language||"en-US";const e=t.split("-");return t=Object.prototype.hasOwnProperty.call(A.translations,e[0])?e[0]:"en",t})()];this.embedTranslations=h.embed,this.windowRefs={},this.on("connect",(()=>{this._state.isConnected=!0}));this.jsonRpcConnectionEvents.on("notification",(t=>{const{method:e,params:r}=t;if(e===c.c.IFRAME_STATUS){const{isFullScreen:t,rid:e}=r;this._displayIframe({isFull:t,rid:e})}else if(e===c.c.CREATE_WINDOW){const{windowId:t,url:e}=r;this._createPopupBlockAlert(t,e)}else if(e===c.c.CLOSE_WINDOW)this._handleCloseWindow(r);else if(e===c.c.USER_LOGGED_IN){const{currentLoginProvider:t}=r;this._state.isLoggedIn=!0,this._state.currentLoginProvider=t}else e===c.c.USER_LOGGED_OUT&&(this._state.isLoggedIn=!1,this._state.currentLoginProvider=null,this._displayIframe())}))}get isLoggedIn(){return this._state.isLoggedIn}get isIFrameFullScreen(){return this._state.isIFrameFullScreen}isConnected(){return this._state.isConnected}async _initializeState(t){try{const{torusUrl:e,dappStorageKey:r,torusAlertContainer:n,torusIframe:o}=t;this.torusUrl=e,this.dappStorageKey=r,this.torusAlertContainer=n,this.torusIframe=o,this.torusIframe.addEventListener("load",(()=>{this._state.isIFrameFullScreen||this._displayIframe()}));const{currentLoginProvider:h,isLoggedIn:l}=await this.request({method:c.b.GET_PROVIDER_STATE,params:[]});this._handleConnect(h,l)}catch(t){I.error("Torus: Failed to get initial state. Please report this bug.",t)}finally{I.info("initialized communication state"),this._state.initialized=!0,this.emit("_initialized")}}_handleWindow(t){let{url:e,target:r,features:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=new URL(e||"".concat(this.torusUrl,"/redirect?windowId=").concat(t));this.dappStorageKey&&(o.hash?o.hash+="&dappStorageKey=".concat(this.dappStorageKey):o.hash="#dappStorageKey=".concat(this.dappStorageKey));const h=new D({url:o,target:r,features:n});h.open(),h.window?(this.windowRefs[t]=h,this.request({method:c.b.OPENED_WINDOW,params:{windowId:t}}),h.once("close",(()=>{delete this.windowRefs[t],this.request({method:c.b.CLOSED_WINDOW,params:{windowId:t}})}))):this._createPopupBlockAlert(t,o.href)}_displayIframe(){let{isFull:t=!1,rid:e=""}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const style={};if(t)style.display="block",style.width="100%",style.height="100%",style.top="0px",style.right="0px",style.left="0px",style.bottom="0px";else switch(style.display=this._state.torusWidgetVisibility?"block":"none",style.height="70px",style.width="70px",this._state.buttonPosition){case E.TOP_LEFT:style.top="0px",style.left="0px",style.right="auto",style.bottom="auto";break;case E.TOP_RIGHT:style.top="0px",style.right="0px",style.left="auto",style.bottom="auto";break;case E.BOTTOM_RIGHT:style.bottom="0px",style.right="0px",style.top="auto",style.left="auto";break;case E.BOTTOM_LEFT:default:style.bottom="0px",style.left="0px",style.top="auto",style.right="auto"}Object.assign(this.torusIframe.style,style),this._state.isIFrameFullScreen=t,this.request({method:c.b.IFRAME_STATUS,params:{isIFrameFullScreen:t,rid:e}})}hideTorusButton(){this._state.torusWidgetVisibility=!1,this._displayIframe()}showTorusButton(){this._state.torusWidgetVisibility=!0,this._displayIframe()}_rpcRequest(t,e){const r=e,n=t;Array.isArray(n)||n.jsonrpc||(n.jsonrpc="2.0"),this.tryWindowHandle(n,r)}_handleConnect(t,e){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{currentLoginProvider:t,isLoggedIn:e}),I.debug(k.connected(t)))}_handleDisconnect(t,e){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!t){let r;this._state.isConnected=!1,t?(r=new f.EthereumRpcError(1013,e||_.disconnected()),I.debug(r)):(r=new f.EthereumRpcError(1011,e||_.permanentlyDisconnected()),I.error(r),this._state.currentLoginProvider=null,this._state.isLoggedIn=!1,this._state.torusWidgetVisibility=!1,this._state.isIFrameFullScreen=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleCloseWindow(t){const{windowId:e}=t;this.windowRefs[e]&&(this.windowRefs[e].close(),delete this.windowRefs[e])}async _createPopupBlockAlert(t,e){const r=this.getLogoUrl(),n=z('<div id="torusAlert" class="torus-alert--v2">'+'<div id="torusAlert__logo"><img src="'.concat(r,'" /></div>')+"<div>"+'<h1 id="torusAlert__title">'.concat(this.embedTranslations.actionRequired,"</h1>")+'<p id="torusAlert__desc">'.concat(this.embedTranslations.pendingAction,"</p>")+"</div></div>"),o=z('<div><a id="torusAlert__btn">'.concat(this.embedTranslations.continue,"</a></div>")),h=z('<div id="torusAlert__btn-container"></div>');h.appendChild(o),n.appendChild(h);await L(),(()=>{this.torusAlertContainer.appendChild(n)})(),(()=>{o.addEventListener("click",(()=>{this._handleWindow(t,{url:e,target:"_blank",features:N(C)}),n.remove(),0===this.torusAlertContainer.children.length&&(this.torusAlertContainer.style.display="none")}))})(),this.torusAlertContainer.style.display="block"}getLogoUrl(){return"".concat(this.torusUrl,"/images/torus_icon-blue.svg")}}function F(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}o()(K,"_defaultState",{buttonPosition:"bottom-left",currentLoginProvider:null,isIFrameFullScreen:!1,hasEmittedConnection:!1,torusWidgetVisibility:!1,initialized:!1,isLoggedIn:!1,isPermanentlyDisconnected:!1,isConnected:!1});class H extends U{constructor(t,e){let{maxEventListeners:r=100,jsonRpcStreamName:n="provider"}=e;super(t,{maxEventListeners:r,jsonRpcStreamName:n}),o()(this,"chainId",void 0),o()(this,"selectedAddress",void 0),o()(this,"tryWindowHandle",void 0),this._state=function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?F(Object(source),!0).forEach((function(e){o()(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):F(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},H._defaultState),this.selectedAddress=null,this.chainId=null,this._handleAccountsChanged=this._handleAccountsChanged.bind(this),this._handleChainChanged=this._handleChainChanged.bind(this),this._handleUnlockStateChanged=this._handleUnlockStateChanged.bind(this),this.on("connect",(()=>{this._state.isConnected=!0}));this.jsonRpcConnectionEvents.on("notification",(t=>{const{method:e,params:r}=t;e===c.e.ACCOUNTS_CHANGED?this._handleAccountsChanged(r):e===c.e.UNLOCK_STATE_CHANGED?this._handleUnlockStateChanged(r):e===c.e.CHAIN_CHANGED&&this._handleChainChanged(r)}))}isConnected(){return this._state.isConnected}async _initializeState(){try{const{accounts:t,chainId:e,isUnlocked:r}=await this.request({method:c.d.GET_PROVIDER_STATE,params:[]});this.emit("connect",{chainId:e}),this._handleChainChanged({chainId:e}),this._handleUnlockStateChanged({accounts:t,isUnlocked:r}),this._handleAccountsChanged(t)}catch(t){I.error("Torus: Failed to get initial state. Please report this bug.",t)}finally{I.info("initialized provider state"),this._state.initialized=!0,this.emit("_initialized")}}_rpcRequest(t,e){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e;const o=t;if(!Array.isArray(o))if(o.jsonrpc||(o.jsonrpc="2.0"),"solana_accounts"===o.method||"solana_requestAccounts"===o.method)n=(t,n)=>{this._handleAccountsChanged(n.result||[],"solana_accounts"===o.method,r),e(t,n)};else if("wallet_getProviderState"===o.method)return void this._rpcEngine.handle(t,n);this.tryWindowHandle(o,n)}_handleConnect(t){this._state.isConnected||(this._state.isConnected=!0,this.emit("connect",{chainId:t}),I.debug(k.connected(t)))}_handleDisconnect(t,e){if(this._state.isConnected||!this._state.isPermanentlyDisconnected&&!t){let r;this._state.isConnected=!1,t?(r=new f.EthereumRpcError(1013,e||_.disconnected()),I.debug(r)):(r=new f.EthereumRpcError(1011,e||_.permanentlyDisconnected()),I.error(r),this.chainId=null,this._state.accounts=null,this.selectedAddress=null,this._state.isUnlocked=!1,this._state.isPermanentlyDisconnected=!0),this.emit("disconnect",r)}}_handleAccountsChanged(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t;Array.isArray(n)||(I.error("Torus: Received non-array accounts parameter. Please report this bug.",n),n=[]);for(const e of t)if("string"!=typeof e){I.error("Torus: Received non-string account. Please report this bug.",t),n=[];break}j()(this._state.accounts,n)||(e&&Array.isArray(this._state.accounts)&&this._state.accounts.length>0&&!r&&I.error('Torus: "solana_accounts" unexpectedly updated accounts. Please report this bug.',n),this._state.accounts=n,this.emit("accountsChanged",n)),this.selectedAddress!==n[0]&&(this.selectedAddress=n[0]||null)}_handleChainChanged(){let{chainId:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t?"loading"===t?this._handleDisconnect(!0):(this._handleConnect(t),t!==this.chainId&&(this.chainId=t,this._state.initialized&&this.emit("chainChanged",this.chainId))):I.error("Torus: Received invalid network parameters. Please report this bug.",{chainId:t})}_handleUnlockStateChanged(){let{accounts:t,isUnlocked:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"boolean"==typeof e?e!==this._state.isUnlocked&&(this._state.isUnlocked=e,this._handleAccountsChanged(t||[])):I.error("Torus: Received invalid isUnlocked parameter. Please report this bug.",{isUnlocked:e})}}function V(t){return new Promise(((e,r)=>{try{const img=document.createElement("img");img.onload=()=>e(!0),img.onerror=()=>e(!1),img.src=t}catch(t){r(t)}}))}o()(H,"_defaultState",{accounts:null,isConnected:!1,isUnlocked:!1,initialized:!1,isPermanentlyDisconnected:!1,hasEmittedConnection:!1});const G=t=>{const{document:e}=t,r=e.querySelector('head > meta[property="og:site_name"]');if(r)return r.content;const n=e.querySelector('head > meta[name="title"]');return n?n.content:e.title&&e.title.length>0?e.title:t.location.hostname};async function Z(t){try{const{document:e}=t;let r=e.querySelector('head > link[rel="shortcut icon"]');return r&&await V(r.href)?r.href:(r=Array.from(e.querySelectorAll('head > link[rel="icon"]')).find((t=>Boolean(t.href))),r&&await V(r.href)?r.href:"")}catch(t){return""}}function $(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function J(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?$(Object(source),!0).forEach((function(e){o()(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):$(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}const X=["send_transaction","sign_transaction","sign_all_transactions","sign_message","connect"],Y=[c.b.SET_PROVIDER],Q=function(t){let e;try{e=window[t];const r="__storage_test__";return e.setItem(r,r),e.removeItem(r),!0}catch(t){return t&&(22===t.code||1014===t.code||"QuotaExceededError"===t.name||"NS_ERROR_DOM_QUOTA_REACHED"===t.name)&&e&&0!==e.length}}("localStorage");!async function(){try{if("undefined"==typeof document)return;const t=document.createElement("link"),{torusUrl:e}=await x("production");t.href="".concat(e,"/frame"),t.crossOrigin="anonymous",t.type="text/html",t.rel="prefetch",t.relList&&t.relList.supports&&t.relList.supports("prefetch")&&document.head.appendChild(t)}catch(t){I.warn(t)}}();class tt{constructor(){let{modalZIndex:t=99999}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(this,"isInitialized",void 0),o()(this,"torusAlert",void 0),o()(this,"modalZIndex",void 0),o()(this,"alertZIndex",void 0),o()(this,"requestedLoginProvider",void 0),o()(this,"provider",void 0),o()(this,"communicationProvider",void 0),o()(this,"dappStorageKey",void 0),o()(this,"torusAlertContainer",void 0),o()(this,"torusUrl",void 0),o()(this,"torusIframe",void 0),o()(this,"styleLink",void 0),this.torusUrl="",this.isInitialized=!1,this.requestedLoginProvider=null,this.modalZIndex=t,this.alertZIndex=t+1e3,this.dappStorageKey=""}get isLoggedIn(){return!!this.communicationProvider&&this.communicationProvider.isLoggedIn}async init(){let{buildEnv:t=S.PRODUCTION,enableLogging:e=!1,network:r,showTorusButton:n=!1,useLocalStorage:o=!1,buttonPosition:h=E.BOTTOM_LEFT,apiKey:c="torus-default",extraParams:d={}}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.isInitialized)throw new Error("Already initialized");Object(l.f)(c);const{torusUrl:f,logLevel:m}=await x(t);I.info(f,"url loaded"),this.torusUrl=f,I.setDefaultLevel(m),e?I.enableAll():I.disableAll();const y=this.handleDappStorageKey(o),v=new URL(f);v.pathname.endsWith("/")?v.pathname+="frame":v.pathname+="/frame";const w=new URLSearchParams;y&&w.append("dappStorageKey",y),w.append("origin",window.location.origin),v.hash=w.toString(),this.torusIframe=z('<iframe\n        id="torusIframe"\n        class="torusIframe"\n        src="'.concat(v.href,'"\n        style="display: none; position: fixed; top: 0; right: 0; width: 100%;\n        height: 100%; border: none; border-radius: 0; z-index: ').concat(this.modalZIndex.toString(),'"\n      ></iframe>')),this.torusAlertContainer=z('<div id="torusAlertContainer" style="display:none; z-index: '.concat(this.alertZIndex.toString(),'"></div>')),this.styleLink=z('<link href="'.concat(f,'/css/widget.css" rel="stylesheet" type="text/css">'));await L(),await(async()=>new Promise(((t,e)=>{try{window.document.head.appendChild(this.styleLink),window.document.body.appendChild(this.torusIframe),window.document.body.appendChild(this.torusAlertContainer),this.torusIframe.addEventListener("load",(async()=>{const e=await(async()=>({name:G(window),icon:await Z(window)}))();this.torusIframe.contentWindow.postMessage({buttonPosition:h,apiKey:c,network:r,dappMetadata:e,extraParams:d},v.origin),await this._setupWeb3({torusUrl:f}),n?this.showTorusButton():this.hideTorusButton(),this.isInitialized=!0,window.torus=this,t()}))}catch(t){e(t)}})))()}async login(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.isInitialized)throw new Error("Call init() first");try{this.requestedLoginProvider=t.loginProvider||null,this.requestedLoginProvider||this.communicationProvider._displayIframe({isFull:!0});const e=await new Promise(((e,r)=>{this.provider._rpcRequest({method:"solana_requestAccounts",params:[this.requestedLoginProvider,t.login_hint]},Object(d.j)(e,r))}));if(Array.isArray(e)&&e.length>0)return e;throw new Error("Login failed")}catch(t){throw I.error("login failed",t),t}finally{this.communicationProvider.isIFrameFullScreen&&this.communicationProvider._displayIframe()}}async loginWithPrivateKey(t){if(!this.isInitialized)throw new Error("Call init() first");const{privateKey:e,userInfo:r}=t,{success:n}=await this.communicationProvider.request({method:"login_with_private_key",params:{privateKey:e,userInfo:r}});if(!n)throw new Error("Login Failed")}async logout(){if(!this.communicationProvider.isLoggedIn)throw new Error("Not logged in");await this.communicationProvider.request({method:c.b.LOGOUT,params:[]}),this.requestedLoginProvider=null}async cleanUp(){this.communicationProvider.isLoggedIn&&await this.logout(),this.clearInit()}clearInit(){function t(element){return element instanceof Element||element instanceof Document}t(this.styleLink)&&window.document.body.contains(this.styleLink)&&(this.styleLink.remove(),this.styleLink=void 0),t(this.torusIframe)&&window.document.body.contains(this.torusIframe)&&(this.torusIframe.remove(),this.torusIframe=void 0),t(this.torusAlertContainer)&&window.document.body.contains(this.torusAlertContainer)&&(this.torusAlert=void 0,this.torusAlertContainer.remove(),this.torusAlertContainer=void 0),this.isInitialized=!1}hideTorusButton(){this.communicationProvider.hideTorusButton()}showTorusButton(){this.communicationProvider.showTorusButton()}async setProvider(t){await this.communicationProvider.request({method:c.b.SET_PROVIDER,params:J({},t)})}async showWallet(path){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const e=await this.communicationProvider.request({method:c.b.WALLET_INSTANCE_ID,params:[]}),r=path?"/".concat(path):"",n=new URL("".concat(this.torusUrl,"/wallet").concat(r));n.searchParams.append("instanceId",e),Object.keys(t).forEach((e=>{n.searchParams.append(e,t[e])})),this.dappStorageKey&&(n.hash="#dappStorageKey=".concat(this.dappStorageKey));new D({url:n,features:N(R)}).open()}async getUserInfo(){return await this.communicationProvider.request({method:c.b.USER_INFO,params:[]})}async initiateTopup(t,e){if(!this.isInitialized)throw new Error("Torus is not initialized");const r=P();this.communicationProvider._handleWindow(r);return await this.communicationProvider.request({method:c.b.TOPUP,params:{provider:t,params:e,windowId:r}})}async getAccounts(){return await this.provider.request({method:"getAccounts",params:[]})}async sendTransaction(t){return await this.provider.request({method:"send_transaction",params:{message:t.serialize({requireAllSignatures:!1}).toString("hex")}})}async signTransaction(e){const r=await this.provider.request({method:"sign_transaction",params:{message:e.serializeMessage().toString("hex"),messageOnly:!0}}),n=JSON.parse(r),o={publicKey:new h.b(n.publicKey),signature:t.from(n.signature,"hex")};return e.addSignature(o.publicKey,o.signature),e}async signAllTransactions(e){const r=e.map((t=>t.serializeMessage().toString("hex"))),n=(await this.provider.request({method:"sign_all_transactions",params:{message:r,messageOnly:!0}})).map((e=>{const r=JSON.parse(e);return{publicKey:new h.b(r.publicKey),signature:t.from(r.signature,"hex")}}));return e.forEach(((t,e)=>(t.addSignature(n[e].publicKey,n[e].signature),t))),e}async signMessage(data){return await this.provider.request({method:"sign_message",params:{data:data}})}async getGaslessPublicKey(){return await this.provider.request({method:"get_gasless_public_key",params:[]})}handleDappStorageKey(t){let e="";if(Q&&t){const t=window.localStorage.getItem(A.localStorageKey);if(t)e=t;else{const t="torus-app-".concat(P());window.localStorage.setItem(A.localStorageKey,t),e=t}}return this.dappStorageKey=e,e}async _setupWeb3(t){I.info("setupWeb3 running");const e=new d.a({name:"embed_torus",target:"iframe_torus",targetWindow:this.torusIframe.contentWindow}),r=new d.a({name:"embed_communication",target:"iframe_communication",targetWindow:this.torusIframe.contentWindow}),n=new H(e,{}),o=new K(r,{});n.tryWindowHandle=(t,e)=>{const r=t;if(!Array.isArray(r)&&X.includes(r.method)){if(!this.communicationProvider.isLoggedIn)throw new Error("User Not Logged In");const t=P();o._handleWindow(t,{target:"_blank",features:N(C)}),r.windowId=t}n._rpcEngine.handle(r,e)},o.tryWindowHandle=(t,e)=>{const r=t;if(!Array.isArray(r)&&Y.includes(r.method)){const t=P();o._handleWindow(t,{target:"_blank",features:N(T)}),r.params.windowId=t}o._rpcEngine.handle(r,e)};const h=t=>{const e=n[t],r=this;n[t]=function(t,n){const{method:o,params:h=[]}=t;if("solana_requestAccounts"===o){if(!n)return r.login({loginProvider:h[0]});r.login({loginProvider:h[0]}).then((t=>n(null,t))).catch((t=>n(t)))}return e.apply(this,[t,n])}};h("request"),h("sendAsync"),h("send");const c=new Proxy(n,{deleteProperty:()=>!0}),l=new Proxy(o,{deleteProperty:()=>!0});this.provider=c,this.communicationProvider=l,await Promise.all([n._initializeState(),o._initializeState(J(J({},t),{},{dappStorageKey:this.dappStorageKey,torusAlertContainer:this.torusAlertContainer,torusIframe:this.torusIframe}))]),I.debug("Torus - injected provider")}}}).call(this,r(16).Buffer)},974:function(t,e,r){"use strict";r.r(e),r.d(e,"SolanaWalletAdapter",(function(){return m}));var n=r(5),o=r.n(n),h=r(814),c=r(3),l=r(652);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){o()(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}class m extends c.e{constructor(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),o()(this,"name",c.i.TORUS_SOLANA),o()(this,"adapterNamespace",c.c.SOLANA),o()(this,"currentChainNamespace",c.f.SOLANA),o()(this,"type",c.a.EXTERNAL),o()(this,"status",c.d.NOT_READY),o()(this,"torusInstance",null),o()(this,"torusWalletOptions",void 0),o()(this,"initParams",void 0),o()(this,"loginSettings",{}),o()(this,"solanaProvider",null),o()(this,"rehydrated",!1),this.torusWalletOptions=t.adapterSettings||{},this.initParams=t.initParams||{},this.loginSettings=t.loginSettings||{},this.chainConfig=t.chainConfig||null}get provider(){var t;return this.status===c.d.CONNECTED&&this.solanaProvider&&(null===(t=this.solanaProvider)||void 0===t?void 0:t.provider)||null}set provider(t){throw new Error("Not implemented")}async init(t){let e;if(super.checkInitializationRequirements(),this.chainConfig){const{chainId:t,blockExplorer:r,displayName:n,rpcTarget:o,ticker:h,tickerName:c}=this.chainConfig;e={chainId:t,rpcTarget:o,blockExplorerUrl:r,displayName:n,tickerName:c,ticker:h,logo:""}}else{this.chainConfig=Object(c.m)(c.f.SOLANA,"0x1");const{blockExplorer:t,displayName:r,ticker:n,tickerName:o,rpcTarget:h,chainId:l}=this.chainConfig;e={chainId:l,rpcTarget:h,blockExplorerUrl:t,displayName:r,ticker:n,tickerName:o,logo:""}}this.torusInstance=new h.a(this.torusWalletOptions),await this.torusInstance.init(f(f({showTorusButton:!1},this.initParams),{},{network:e})),this.solanaProvider=new l.TorusInjectedProvider({config:{chainConfig:this.chainConfig}}),this.status=c.d.READY,this.emit(c.b.READY,c.i.TORUS_SOLANA);try{t.autoConnect&&(this.rehydrated=!0,await this.connect())}catch(t){c.o.error("Failed to connect with cached torus solana provider",t),this.emit(c.b.ERRORED,t)}}async connect(){if(super.checkConnectionRequirements(),!this.torusInstance)throw c.j.notReady("Torus wallet is not initialized");if(!this.solanaProvider)throw c.j.notReady("Torus wallet is not initialized");this.status=c.d.CONNECTING,this.emit(c.b.CONNECTING,{adapter:c.i.TORUS_SOLANA});try{await this.torusInstance.login(this.loginSettings);try{await this.solanaProvider.setupProvider(this.torusInstance.provider)}catch(t){if(!(t instanceof c.l&&5010===t.code))throw t;{const{chainId:t,blockExplorer:e,displayName:r,rpcTarget:n,ticker:o,tickerName:h}=this.chainConfig,c={chainId:t,rpcTarget:n,blockExplorerUrl:e,displayName:r,tickerName:h,ticker:o,logo:""};await this.torusInstance.setProvider(c)}}return this.status=c.d.CONNECTED,this.torusInstance.showTorusButton(),this.emit(c.d.CONNECTED,{adapter:c.i.TORUS_SOLANA,reconnected:this.rehydrated}),this.provider}catch(t){throw this.status=c.d.READY,this.rehydrated=!1,this.emit(c.b.ERRORED,t),c.k.connectionError("Failed to login with torus solana wallet")}}async disconnect(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cleanup:!1};if(this.status!==c.d.CONNECTED)throw c.k.notConnectedError("Not connected with wallet");if(!this.torusInstance)throw c.j.notReady("Torus wallet is not initialized");await this.torusInstance.logout(),t.cleanup?(this.status=c.d.NOT_READY,this.torusInstance=null,this.solanaProvider=null):this.status=c.d.READY,this.emit(c.b.DISCONNECTED)}async getUserInfo(){if(this.status!==c.d.CONNECTED)throw c.k.notConnectedError("Not connected with wallet");if(!this.torusInstance)throw c.j.notReady("Torus wallet is not initialized");return await this.torusInstance.getUserInfo()}setAdapterSettings(t){}}}}]);